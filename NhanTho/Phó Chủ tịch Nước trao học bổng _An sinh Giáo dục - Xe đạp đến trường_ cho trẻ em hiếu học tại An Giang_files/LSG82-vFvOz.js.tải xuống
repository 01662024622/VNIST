if (self.CavalryLogger) { CavalryLogger.start_js(["fmyg+"]); }

__d("ProfileTabConst",[],(function(a,b,c,d,e,f){e.exports={ALBUM:"album",ALBUMS:"albums",ALL_ACTIVITY:"allactivity",APPROVAL:"approve",APPS:"apps",BOXES:"box_3",COMMERCE:"shop",DEALS:"deals",DRAFT_NOTES:"notes_drafts",EVENTS:"events",FAVORITES:"favorites",FUNDRAISERS:"fundraisers",FOLLOWERS:"followers",FOLLOWING:"following",FRIENDS:"friends",FRIENDS_MUTUAL:"friends_mutual",FUN_FACTS:"did_you_know",GROUPS:"groups",GROUPS_MUTUAL:"groups_mutual",INFO:"info",LIKES:"likes",LOCATIONS:"locations",MAP:"map",MEMORIAL_CONTACT:"legacy_contact",MY_NOTES:"notes_my_notes",NEARBY:"nearby",NOTES:"notes",OVERVIEW:"about",PAST_EVENTS:"pe",PERSONALITY_QUESTIONS:"personality_questions",PHOTOS:"photos",PHOTOS_ALBUM:"media_set",PHOTOS_ALBUMS:"photos_albums",PHOTOS_ALL:"photos_all",PHOTOS_BY_OTHERS:"photos_by_others",PHOTOS_STREAM:"photos_stream",PHOTOS_SYNCED:"photos_synced",POSTS:"posts",POSTS_OTHERS:"posts_to_page",RESUME:"resume",REVIEWS:"reviews",SAVE_LISTS:"lists",SAVED_FOR_LATER:"saved",SPACES:"post_sets",USER_SPACE:"post_set",USER_SPACE_FOLLOWERS:"post_set_followers",SPORTS:"sports",TAGGED_NOTES:"notes_tagged",TASKS:"tasks",TIMELINE:"timeline",TIMELINE_OVERVIEW:"grid",VIDEOS:"videos",WALL:"wall",WALL_ADMIN:"wall_admin",WIKIPEDIA:"wiki",PAGE_GETTING_STARTED:"page_getting_started",PAGE_MAP:"page_map",PAGE_MENU:"menu",PAGE_FOOD_DRINK_MENU:"food_drink_menu",PAGE_BOOK_PREVIEW:"book_preview",PAGE_PRODUCTS:"products",PAGE_SERVICES:"services",PAGES_CONTENT_TAB:"content_tab",PAGE_FAN_QUESTIONS:"questions",PAGES_REACTION_SANDBOX:"reaction_sandbox",PAGE_OFFERS:"offers",PAGE_JOB_PERMALINK:"page_job_permalink",HOME:"home",ENDORSEMENTS:"endorsements",ISSUES:"issues",PAGE_JOBS:"jobs",PAGE_LIVE_VIDEOS:"live_videos",PAGE_EPISODES:"episodes",PAGE_SHOW:"show",PAGE_PLAYLISTS:"playlists",PAGE_SHOW_VIDEOS:"show_videos",CAST_AND_CREW:"cast_and_crew",COMMUNITY:"community",FEATURING:"featuring",FREQUENTLY_ASKED_QUESTIONS:"frequently_asked_questions",INSTAGRAM:"instagram",LOYALTY:"loyalty",MOVIE_PROVIDER:"movie_provider",PODCASTS:"podcasts",PROFILE_OVERLAYS:"profile_overlays",STORY:"story",CUSTOM:"custom",OG_APP_URL_PREFIX:"app_",OG_APPID_PREFIX:"og_app_",OG_NAMESPACE_PREFIX:"og_ns_",OG_BOOKS:"books",OG_FITNESS:"fitness",OG_GAMES:"games",OG_MOVIES:"movies",OG_MUSIC:"music",OG_NEWS:"news",OG_TV_SHOWS:"tv",OG_VIDEO:"video"}}),null);
__d("ContextualDialog.react",["ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f){a=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({displayName:"ReactContextualDialog"}));e.exports=a}),null);
__d("AdsPopoverLink_DEPRECATED.react",["ix","cx","AdsFBIconDownsized.react","AlignmentEnum","ContextualDialog.react","Image.react","LayerFadeOnHide","React","SUIBusinessTheme","SUICloseButton.react","UserAgent_DEPRECATED","asset","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").Component;d=b("React").PropTypes;var j={imgNormal:g("403740"),imgHover:g("403741")};f=babelHelpers.inherits(a,c);i=f&&f.prototype;function a(a,b){i.constructor.call(this,a,b),this.$3=function(){this.props.onHover&&this.props.onHover(),clearTimeout(this.$1),this.$2(!0),this.setState({dontShowLayer:!1})}.bind(this),this.$4=function(){clearTimeout(this.$1),this.state.dontShowLayer||this.$2(!0)}.bind(this),this.$5=function(){clearTimeout(this.$1),this.props.onMouseLeave&&this.props.onMouseLeave(),this.props.linger?this.$1=setTimeout(this.$2.bind(this,!1),this.props.linger):this.$2(!1)}.bind(this),this.showHelp=function(a){this.$2(!0),a&&(clearTimeout(this.$1),this.$1=setTimeout(this.$2.bind(this,!1),a))}.bind(this),this.state={showHelp:!!a.defaultVisible_DEPRECATED,dontShowLayer:!1}}a.prototype.componentWillUnmount=function(){clearTimeout(this.$1)};a.prototype.$2=function(a){if(a===this.state.showHelp)return;a||this.setState({dontShowLayer:!0});this.setState({showHelp:a});!a&&b("UserAgent_DEPRECATED").webkit()&&(this.setState({showHelp:!a}),this.setState({showHelp:a}))};a.prototype.renderLayers=function(){if(!this.state.showHelp||this.props.disabled_DEPRECATED)return null;var a=this.props.showCloseButton_DEPRECATED?b("React").createElement("div",{className:"_3wee"},b("React").createElement(b("SUICloseButton.react"),{theme:b("SUIBusinessTheme"),onClick:this.$5})):null,c=this.props.popover;this.props.autoWrapChildrenInPopover&&(c=b("React").Children.map(c,function(a,c){return!a?null:b("React").createElement("div",{className:"_1vor",key:c},a)}));return b("React").createElement(b("ContextualDialog.react"),{alignment:this.props.alignment||"left",behaviors:this.props.behaviors_DEPRECATED,causalElement:this.refs.tipIcon,contextRef:function(){return this.refs.tipIcon}.bind(this),focusContextOnHide:this.props.focusContextOnHide_DEPRECATED,insertParent:this.props.insertParent_DEPRECATED,offsetX:this.props.offsetX_DEPRECATED,offsetY:this.props.offsetY_DEPRECATED,position:this.props.position||"right",shown:this.state.showHelp,width:this.props.width,key:"tipContextualLayer"},b("React").createElement("div",{className:this.props.containerClassName,onMouseEnter:this.$4,onMouseLeave:this.$5},a,c))};a.prototype.render=function(){var a=this.state.showHelp?this.props.imgHover||j.imgHover:this.props.imgNormal||j.imgNormal;a=this.props.showIcon?this.props.imgHover||this.props.imgNormal?b("React").createElement(b("AdsFBIconDownsized.react"),{className:b("joinClasses")(this.props.className,"_541d"),src:a}):b("React").createElement(b("Image.react"),{className:b("joinClasses")(this.props.className,"_541d"),src:a}):null;var c=this.state.showHelp&&this.props.childrenHover_DEPRECATED?this.props.childrenHover_DEPRECATED:this.props.children;return b("React").createElement("span",null,b("React").createElement("span",{className:b("joinClasses")("_3wef",this.props.linkContainerClassName),ref:"tipIcon",tabIndex:0,onMouseEnter:this.$3,onMouseLeave:this.$5,onMouseUp:this.props.onClick_DEPRECATED},b("React").createElement("span",{className:"_3weg"},c),a),this.renderLayers())};a.propTypes={alignment:b("AlignmentEnum").propType,autoWrapChildrenInPopover:d.bool.isRequired,behaviors_DEPRECATED:d.object,childrenHover_DEPRECATED:d.element,containerClassName:d.string,linkContainerClassName:d.string,focusContextOnHide_DEPRECATED:d.bool,imgNormal:d.object,imgHover:d.object,linger:d.number,offsetX_DEPRECATED:d.number,offsetY_DEPRECATED:d.number,popover:d.node,position:d.string,showCloseButton_DEPRECATED:d.bool,showIcon:d.bool,width:d.number,onClick_DEPRECATED:d.func,onHover:d.func,disabled_DEPRECATED:d.bool,defaultVisible_DEPRECATED:d.bool};a.defaultProps={autoWrapChildrenInPopover:!1,behaviors_DEPRECATED:{LayerFadeOnHide:b("LayerFadeOnHide")},containerClassName:"_3blz",focusContextOnHide_DEPRECATED:!0,linger:200,showCloseButton_DEPRECATED:!1,showIcon:!0,disabled_DEPRECATED:!1,defaultVisible_DEPRECATED:!1};e.exports=a}),null);
__d("AdsValidationIconFlyout.react",["cx","AdsValidationIconType","ContextualDialog","ContextualDialogArrow","ContextualLayerAutoFlip","LayerAutoFocus","LayerRefocusOnHide","LayerRemoveOnHide","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=[b("ContextualLayerAutoFlip"),b("ContextualDialogArrow"),b("LayerRemoveOnHide")],i=[b("AdsValidationIconType").ERROR,b("AdsValidationIconType").ERROR_IMAGE,b("AdsValidationIconType").ERROR_WHITE,b("AdsValidationIconType").WARNING];a=b("ReactLayer").createClass({createLayer:function(a){var c=this.props.contextNode,d="_3hyi";this.props.isError||(d="_n2c");d={wrapperClassName:d,arrowDimensions:{offset:12,length:22}};c={addedBehaviors:h,alignment:this.props.alignment,context:c,position:this.props.position,theme:d};d=new(b("ContextualDialog"))(c,a);d.disableBehavior(b("LayerAutoFocus"));d.disableBehavior(b("LayerRefocusOnHide"));d.conditionShow(this.props.shown);return d},receiveProps:function(a){var b=this.props.contextNode;this.layer.setContext(b);this.layer.conditionShow(a.shown)}});a.isTypeSupported=function(a){return i.indexOf(a)>-1};e.exports=a}),null);
__d("AdsValidationIcon.react",["cssVar","cx","AdsPopoverLink_DEPRECATED.react","AdsValidationIconFlyout.react","AdsValidationIconType","DOMContainer.react","Image.react","React","ReactDOM","SUIBusinessTheme","SUIText.react","debounce","getObjectValues","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={showFlyout:!1},this.$5=function(){return this.props.title?b("React").createElement(b("SUIText.react"),{className:"_2pim",display:"block",size:"meta1",theme:b("SUIBusinessTheme"),weight:"bold"},this.props.title):null}.bind(this),this.$4=function(event){this.$1&&this.$1.reset(),this.$3(!0)}.bind(this),this.$3=function(a){if(a===this.state.showFlyout)return;this.setState({showFlyout:a})}.bind(this),this.$2=function(a,c){if(a.length===0)return[];var d=a.length>1?c:null;return a.map(function(a,c){return this.props.forceCloneDocFragment&&a instanceof DocumentFragment?b("React").createElement("div",{key:"error_"+c},d,b("React").createElement(b("DOMContainer.react"),null,a.cloneNode(!0))):b("React").createElement("div",{key:"error_"+c},d,a)}.bind(this))}.bind(this),c}a.prototype.componentWillUnmount=function(){"use strict";this.$1&&this.$1.reset()};a.prototype.render=function(){"use strict";__p&&__p();var a=this.props,c=a.listSymbol,d=a.messages,e=a.type,f=a.className;a=babelHelpers.objectWithoutProperties(a,["listSymbol","messages","type","className"]);f=b("joinClasses")(f,"_2kdf");d=this.$2(d,c);if(d.length===0)return b("React").createElement("span",babelHelpers["extends"]({},a,{className:f}),b("React").createElement(b("Image.react"),{src:e}));if(b("AdsValidationIconFlyout.react").isTypeSupported(e)){this.$1=b("debounce")(function(){this.$3(!1)}.bind(this),this.props.linger);c=null;this.state.showFlyout&&(c=b("React").createElement(b("AdsValidationIconFlyout.react"),babelHelpers["extends"]({},a,{alignment:this.props["data-tooltip-alignh"],contextNode:b("ReactDOM").findDOMNode(this),position:this.props["data-tooltip-position"],shown:!0,type:e}),b("React").createElement("span",{onMouseEnter:this.$4,onMouseLeave:this.$1},this.$5(),d)));return b("React").createElement("span",babelHelpers["extends"]({},a,{className:f,onMouseEnter:this.$4,onMouseLeave:this.$1}),b("React").createElement(b("Image.react"),{src:e}),c)}c=parseInt("334",10);return b("React").createElement("span",babelHelpers["extends"]({},a,{className:f}),b("React").createElement(b("AdsPopoverLink_DEPRECATED.react"),{imgHover:e,imgNormal:e,popover:d,position:"above",width:c}))};a.propTypes={forceCloneDocFragment:c.bool,isError:c.bool,listSymbol:c.string,messages:c.array,title:c.oneOfType([c.string,c.object]),type:c.oneOf(b("getObjectValues")(b("AdsValidationIconType"))).isRequired};a.defaultProps={forceCloneDocFragment:!1,isError:!0,listSymbol:"",messages:[],type:b("AdsValidationIconType").SUCCESS,linger:200};e.exports=a}),null);
__d("getNodeForCharacterOffset",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=3;function h(a){while(a&&a.firstChild)a=a.firstChild;return a}function i(a){while(a){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function a(a,b){__p&&__p();a=h(a);var c=0,d;while(a){if(a.nodeType===g){d=c+a.textContent.length;if(c<=b&&d>=b)return{node:a,offset:b-c};c=d}a=h(i(a))}}e.exports=a}),null);
__d("getTextContentAccessor",["fbjs/lib/ExecutionEnvironment"],(function(a,b,c,d,e,f){"use strict";var g=null;function a(){!g&&b("fbjs/lib/ExecutionEnvironment").canUseDOM&&(g="textContent"in document.documentElement?"textContent":"innerText");return g}e.exports=a}),null);
__d("ReactDOMSelection",["getNodeForCharacterOffset","getTextContentAccessor"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(a,b,c,d){return a===c&&b===d}function a(a){__p&&__p();var b=window.getSelection&&window.getSelection();if(!b||b.rangeCount===0)return null;var c=b.anchorNode,d=b.anchorOffset,e=b.focusNode,f=b.focusOffset,h=b.getRangeAt(0);try{h.startContainer.nodeType,h.endContainer.nodeType}catch(a){return null}b=g(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset);b=b?0:h.toString().length;var i=h.cloneRange();i.selectNodeContents(a);i.setEnd(h.startContainer,h.startOffset);a=g(i.startContainer,i.startOffset,i.endContainer,i.endOffset);h=a?0:i.toString().length;a=h+b;i=document.createRange();i.setStart(c,d);i.setEnd(e,f);b=i.collapsed;return{start:b?a:h,end:b?h:a}}function c(a,c){__p&&__p();if(!window.getSelection)return;var d=window.getSelection(),e=a[b("getTextContentAccessor")()].length,f=Math.min(c.start,e);c=c.end===undefined?f:Math.min(c.end,e);if(!d.extend&&f>c){e=c;c=f;f=e}e=b("getNodeForCharacterOffset")(a,f);a=b("getNodeForCharacterOffset")(a,c);if(e&&a){var g=document.createRange();g.setStart(e.node,e.offset);d.removeAllRanges();f>c?(d.addRange(g),d.extend(a.node,a.offset)):(g.setEnd(a.node,a.offset),d.addRange(g))}}d={getOffsets:a,setOffsets:c};e.exports=d}),null);
__d("focusNode",[],(function(a,b,c,d,e,f){"use strict";function a(a){try{a.focus()}catch(a){}}e.exports=a}),null);
__d("fbjs/lib/focusNode",["focusNode"],(function(a,b,c,d,e,f){"use strict";e.exports=b("focusNode")}),null);
__d("ReactInputSelection",["ReactDOMSelection","fbjs/lib/containsNode","fbjs/lib/focusNode","fbjs/lib/getActiveElement"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=1;function h(a){return b("fbjs/lib/containsNode")(document.documentElement,a)}var i={hasSelectionCapabilities:function(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(b==="input"&&a.type==="text"||b==="textarea"||a.contentEditable==="true")},getSelectionInformation:function(){var a=b("fbjs/lib/getActiveElement")();return{focusedElem:a,selectionRange:i.hasSelectionCapabilities(a)?i.getSelection(a):null}},restoreSelection:function(a){__p&&__p();var c=b("fbjs/lib/getActiveElement")(),d=a.focusedElem;a=a.selectionRange;if(c!==d&&h(d)){i.hasSelectionCapabilities(d)&&i.setSelection(d,a);c=[];a=d;while(a=a.parentNode)a.nodeType===g&&c.push({element:a,left:a.scrollLeft,top:a.scrollTop});b("fbjs/lib/focusNode")(d);for(var a=0;a<c.length;a++){d=c[a];d.element.scrollLeft=d.left;d.element.scrollTop=d.top}}},getSelection:function(a){var c;"selectionStart"in a?c={start:a.selectionStart,end:a.selectionEnd}:c=b("ReactDOMSelection").getOffsets(a);return c||{start:0,end:0}},setSelection:function(a,c){var d=c.start,e=c.end;e===undefined&&(e=d);"selectionStart"in a?(a.selectionStart=d,a.selectionEnd=Math.min(e,a.value.length)):b("ReactDOMSelection").setOffsets(a,c)}};e.exports=i}),null);
__d("AdsTextInput.react",["cx","fbt","invariant","AdsLabeledField.react","AdsValidationIcon.react","AdsValidationIconType","DOM","Keys","React","ReactDOM","ReactInputSelection","SUIBusinessTheme","SUISpinner.react","XUIError.react","debounce","getObjectValues","joinClasses"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;d=b("React").PropTypes;var k=16,l=750;f=babelHelpers.inherits(c,b("React").Component);j=f&&f.prototype;function c(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.state={focused:!1,displayValue:this.props.value||""},this.$15=function(a){__p&&__p();if(!this.refs.shadowText)return;var c=this.state.displayValue;c&&(c=this.$17(c));var d=void 0;!c&&!this.state.focused&&(c=this.props.placeholder?this.props.placeholder.toString():"",d=!0);if(c===this.$6&&!a)return;this.$6=c;a=b("ReactDOM").findDOMNode(this.refs.shadowText);var e=b("ReactDOM").findDOMNode(this.refs.input);if(d)b("DOM").setContent(a,c);else if(c){d=this.props.maxLength;typeof d!=="number"&&(d=Number.MAX_VALUE);c=m(c,d,this.props.badTextRules);d=o(e);a.style.direction=d?"rtl":"ltr";a.style.textAlign=d?"right":"left";a.innerHTML=c}d=this.props.textAreaMinHeight;d!=null||i(0);this.props.isAutoSized&&(d=Math.max(a.offsetHeight,d,k));e.style.minHeight=d+"px";this.$4=d}.bind(this),this.$16=function(){this.setState({focused:!0}),this.$5&&clearInterval(this.$5),this.$5=setInterval(this.$15,150),this.$15(!0),this.props.onFocus&&this.props.onFocus()}.bind(this),this.$18=function(){clearInterval(this.$5),delete this.$5,this.$15(!0),this.setState({focused:!1},function(){this.$14(),this.$1.reset(),this.props.onBlur&&this.props.onBlur()}.bind(this))}.bind(this),this.$19=function(event){this.setState({displayValue:event.target.value},this.$1),this.props.onImmediateChange&&this.props.onImmediateChange(event.target.value)}.bind(this),this.$14=function(){this.props.value!==this.state.displayValue&&(!this.props.onChange&&!this.props.onImmediateChange?this.setState({displayValue:this.props.value||""}):this.props.onChange&&this.props.onChange(this.state.displayValue))}.bind(this),this.$20=function(event){__p&&__p();var a=void 0,c=event.currentTarget;if(c.tagName==="TEXTAREA"){switch(event.keyCode){case b("Keys").RETURN:this.props.allowNewLines||(a=!0);this.$14();break;case b("Keys").SPACE:var d=b("ReactInputSelection").getSelection(c);a=p(c.value,d.start,d.end);break}a&&event.preventDefault()}this.props.onKeyDown&&this.props.onKeyDown(event)}.bind(this),c}c.prototype.render=function(){"use strict";var a=this.state.focused,c=this.$8();this.$2=this.props.errors?b("getObjectValues")(this.props.errors):[];this.$7=this.props.warnings?b("getObjectValues")(this.props.warnings):[];a=b("joinClasses")(this.props.className,"_2vl4"+(a?" _2vl5":"")+(this.props.multiline?" _2vl6":"")+(this.$2.length?" _2vl7":"")+(this.$2.length&&a?" _2vl8":"")+(this.$7.length&&!this.$2.length?" _5nkb":"")+(this.$7.length&&a&&!this.$2.length?" _5nki":"")+" _1h18"+(a?" _1h19":"")+(this.props.multiline?" _1h1a":"")+(this.$2.length?" _1h1c":"")+(this.$2.length&&a?" _1h1e":"")+(this.$7.length&&!this.$2.length?" _5nkl":"")+(this.$7.length&&a&&!this.$2.length?" _5nkm":"")+(this.props.disabled?" _2-om":""));var d={backgroundColor:this.props.backgroundColor};return b("React").createElement(b("XUIError.react"),this.props,b("React").createElement("div",{className:a},this.$9(c),this.$10(),b("React").createElement("div",{className:"_2vl9 _1h1f",style:d},b("React").createElement("div",{className:"_2vla _1h1g"},this.$11(),this.$12())),this.$13()))};c.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$1=b("debounce")(this.$14,l,this)};c.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";a.value!==this.state.displayValue&&!this.$1.isPending()&&this.setState({displayValue:a.value||""})};c.prototype.componentDidMount=function(){"use strict";this.$3=!0,this.$15(!0),this.props.autoFocus&&setTimeout(function(){this.focusInput()}.bind(this),1)};c.prototype.componentWillUnmount=function(){"use strict";this.$3=!1,this.$5&&clearInterval(this.$5),this.$1.reset(),delete this.$5,delete this.$1,this.props.value!==this.state.displayValue&&this.props.onChange&&this.props.onChange(this.state.displayValue)};c.prototype.componentDidUpdate=function(){"use strict";this.$15(!0)};c.prototype.focusInput=function(a,c){"use strict";if(this.state.focused||!this.$3)return;var d=b("ReactDOM").findDOMNode(this.refs.input);d.focus&&d.offsetHeight&&(d.focus(),(a!==undefined||c!==undefined)&&b("ReactInputSelection").setSelection(d,{start:a,end:c}),this.$16())};c.prototype.scrollIntoView=function(){"use strict";if(this.$3){var a=b("ReactDOM").findDOMNode(this.refs.input);a.scrollIntoView&&a.offsetHeight&&a.scrollIntoView()}};c.prototype.$10=function(){"use strict";if(this.props.label)return b("React").createElement(b("AdsLabeledField.react"),{helpLinger:this.props.helpLinger,helpText:this.props.helpText,htmlFor:this.props.id,label:this.props.label,optional:this.props.optional});else if(this.props.maxLength&&!this.props.hideMaxLength)return b("React").createElement("i",null,"\u200b");return null};c.prototype.$13=function(){"use strict";return!this.props.sublabel?null:b("React").createElement("div",{className:"_2vlf _1h1h"},this.props.sublabel)};c.prototype.$11=function(){"use strict";__p&&__p();var a=this.$17(this.state.displayValue||""),c=null;this.$2.length?c=b("React").createElement(b("AdsValidationIcon.react"),{className:"_2vlg _1h25",listSymbol:"\u2022\u2002",messages:this.$2,type:b("AdsValidationIconType").ERROR}):this.$7.length&&(c=b("React").createElement(b("AdsValidationIcon.react"),{className:"_2vlg _1h25",isError:!1,listSymbol:"\u2022\u2002",messages:this.$7,type:b("AdsValidationIconType").WARNING}));var d=a||this.state.focused?null:this.props.isDefaultTextLoading?this.props.defaultTextLoadingPlaceholder:this.props.placeholder;if(d){var e=void 0;this.props.isDefaultTextLoading&&(e=b("React").createElement("span",{className:"_3-8_"},b("React").createElement(b("SUISpinner.react"),{background:"light",size:"large",theme:b("SUIBusinessTheme")})));d=b("React").createElement("div",{className:"_2gtz"},e,d)}return b("React").createElement("div",null,d,b("React").createElement("textarea",{className:"_2vli _2vlj _1h26 _1h27"+(this.$2.length||this.$7.length?" _1bev":""),"data-testid":this.props["data-testid"],dir:"auto",disabled:this.props.disabled,id:this.props.id,maxLength:this.props.enforceMaxLength?this.props.maxLength:null,ref:"input",value:a,onBlur:this.$18,onChange:this.$19,onFocus:this.$16,onKeyDown:this.$20,onKeyUp:this.props.onKeyUp}),c)};c.prototype.$12=function(){"use strict";var a="_2vlk"+(this.state.displayValue?"":" _2vll")+(this.$2.length||this.$7.length?" _1bew":"");return b("React").createElement("div",{"aria-hidden":"true",className:a,ref:"shadowText"})};c.prototype.$9=function(a){"use strict";if(a===Infinity||this.props.hideMaxLength)return null;var c="_2vln"+(a>=0&&a<15?" _2vlo":"")+(a<0?" _2vlp":"");return b("React").createElement("div",{className:c},a)};c.prototype.$8=function(){"use strict";var a=this.props.maxLength;if(typeof a!=="number")return Infinity;var b=this.state.displayValue?this.state.displayValue.length:0;return a-b};c.prototype.$17=function(a){"use strict";return typeof a!=="string"?a:a?a.replace(/[\s]{3,}/g," "):""};c.propTypes=babelHelpers["extends"]({"data-testid":d.string,allowNewLines:d.bool,autoFocus:d.bool,backgroundColor:d.string,badTextRules:d.array,defaultTextLoadingPlaceholder:d.oneOfType([d.node,d.string]),disabled:d.bool,enforceMaxLength:d.bool,errors:d.object,helpLinger:d.number,helpText:d.node,hideMaxLength:d.bool,id:d.string,isAutoSized:d.bool,isDefaultTextLoading:d.bool,label:d.oneOfType([d.string,d.node]),maxLength:d.number,multiline:d.bool,optional:d.bool,placeholder:d.oneOfType([d.string,d.node]),sublabel:d.string,textAreaMinHeight:d.number,value:d.string,warnings:d.object},b("XUIError.react").propTypes,{onChange:d.func,onBlur:d.func,onFocus:d.func,onKeyDown:d.func,onKeyUp:d.func,onImmediateChange:d.func});c.defaultProps={autoFocus:!1,backgroundColor:"#fff",defaultTextLoadingPlaceholder:h._("V\u0103n b\u1ea3n m\u1eb7c \u0111\u1ecbnh \u0111ang t\u1ea3i"),isAutoSized:!0,isDefaultTextLoading:!1,textAreaMinHeight:0,value:""};function m(a,c,d){__p&&__p();var e=a.substr(0,c),f=a.substr(c)+"\n";a=a.replace(/\u200b/g,"");c="\u200b";var g=c+"_START_"+c,h=c+"_CLOSE_"+c;a=c+"_N_"+c;c=c+"_S_"+c;var i=/[\n]/g,j=/\s/g,k="_2vlb";k='<span className="'+k+'">';var l="</span>";Array.isArray(d)&&d.forEach(function(a){var b=function(a){return a==="\u200b"?a:g+a+h};e=e.replace(a,b);f=f.replace(a,b)});e=e.replace(i,a).replace(j,c);f=f.replace(i,a).replace(j,c);f===a&&(f="");d=b("DOM").create("div");d.appendChild(b("DOM").create("span",{className:"_2vlc"},e));d.appendChild(b("DOM").create("span",{className:"_2vld"},f));i=d.innerHTML;return i.split(a).join("<br />").split(c).join("<wbr /> ").split(g).join(k).split(h).join(l)}function n(a){return a===" "||a==="\xa0"}function o(b){if(a.getComputedStyle)return a.getComputedStyle(b).direction==="rtl";else return!1}function p(a,b,c){__p&&__p();if(b===c){c=b>1?a.charAt(b-2):"\0";var d=b>0?a.charAt(b-1):"\0",e=a.charAt(b);a=b<a.length-1?a.charAt(b+1):"\0";b=n(e)&&n(a);a=n(d)&&n(e);e=n(d)&&n(c);return b||a||e}return!1}e.exports=c}),null);
__d("BrowseFacebarHighlighter",["csx","CSS","NodeHighlighter"],(function(a,b,c,d,e,f,g){"use strict";a={};Object.assign(a,b("NodeHighlighter"),{getHighlightCandidates:function(){return["._53ad"]},isDiscardNode:function(a){return b("CSS").hasClass(a,"DefaultText")},createSegmentedRegex:function(a){a=this.escapeAndAddBidirectionalCharsToTokens(a);return"(^|\\s|\\b)("+a.join("|")+")"}});e.exports=a}),null);
__d("PhotoEverstoreLogger",["Event","AsyncRequest","ImageUtils"],(function(a,b,c,d,e,f){__p&&__p();var g={BATCH_WINDOW_MS:500,storedLog:[]};function h(){}Object.assign(h,{_log:function(a){g.storedLog.push(a),g.storedLog.length==1&&setTimeout(i,g.BATCH_WINDOW_MS)},logImmediately:function(a){h._log(a)},registerForLogging:function(a){var c=document.getElementById(a);c!=null&&(b("ImageUtils").hasLoaded(c)?h._log(c.src):b("Event").listen(c,"load",function(event){h._log(c.src)}))}});function i(){var a=g.storedLog;g.storedLog=[];a=JSON.stringify(a);new(b("AsyncRequest"))().setURI("/ajax/photos/logging/everstore_logging.php").setData({loggedUrls:a}).setMethod("POST").setOption("suppressErrorHandlerWarning",!0).setOption("suppressErrorAlerts",!0).send()}e.exports=h}),null);
__d("PhotoViewerImage",["PhotoEverstoreLogger","URI","Vector"],(function(a,b,c,d,e,f){__p&&__p();function g(a){"use strict";this._hiResDimensions=a.hiResDimensions&&b("Vector").deserialize(a.hiResDimensions),this._normalDimensions=a.normalDimensions&&b("Vector").deserialize(a.normalDimensions),this._info=a.info,this._video=a.video,this._shouldLog=a.everstoreLogThis,this._hiResSrc=a.hiResSrc,this._normalSrc=a.normalSrc,this._thumbSrc=a.thumbSrc,this._isInverted=!1,this._data=a}g.prototype.getURIString=function(){"use strict";return new(b("URI"))(this._info.permalink).getUnqualifiedURI().toString()};g.prototype.hasHiResDimensions=function(){"use strict";return!!this._hiResDimensions};g.prototype.getHiResDimensions=function(){"use strict";return this._hiResDimensions};g.prototype.getNormalDimensions=function(){"use strict";return this._normalDimensions};g.prototype.getHiResSrc=function(){"use strict";return this._hiResSrc};g.prototype.getNormalSrc=function(){"use strict";return this._normalSrc};g.prototype.getThumbSrc=function(){"use strict";return this._thumbSrc};g.prototype.getInfo=function(){"use strict";return this._info};g.prototype.getPermalink=function(){"use strict";return this._info.permalink};g.prototype.getHighestResSrc=function(){"use strict";return this._hiResSrc||this._normalSrc};g.prototype.preload=function(a){"use strict";var c;this.getHighestResSrc()&&(a&&!this._resource?(this._resource=new Image(),this._resource.src=this.getHighestResSrc(),c=this._resource.src,this._shouldLog&&b("PhotoEverstoreLogger").logImmediately(this._resource.src)):!a&&!this._small&&(this._small=new Image(),this._small.src=this._normalSrc||this._hiResSrc,c=this._small.src,this._shouldLog&&b("PhotoEverstoreLogger").logImmediately(this._small.src)));return c};g.prototype.setNormalDimensions=function(a,c){"use strict";this._normalDimensions=new(b("Vector"))(a,c)};g.prototype.setHiResDimensions=function(a,c){"use strict";this._hiResDimensions=new(b("Vector"))(a,c)};g.prototype.invertDimensions=function(){"use strict";this.hasHiResDimensions()&&(this._hiResDimensions=new(b("Vector"))(this._hiResDimensions.y,this._hiResDimensions.x)),this._normalDimensions=new(b("Vector"))(this._normalDimensions.y,this._normalDimensions.x),this._isInverted=!this._isInverted};g.prototype.copy=function(){"use strict";return new g(this._data)};e.exports=g}),null);
__d("PhotosConst",[],(function(a,b,c,d,e,f){a={VIEWER_PERMALINK:0,VIEWER_SNOWLIFT:6,VIEWER_VAULTBOX:8,VIEWER_SNOWFLAKE:14,VIEWER_COMPOSER:16,VIEWER_CAROUSEL:19,VIEWER_SPHERICAL:20,VIEWER_PERMALINK_STRING:"permalink",VIEWER_SNOWLIFT_STRING:"snowlift",VIEWER_VAULTBOX_STRING:"vaultbox",VIEWER_CAROUSEL_STRING:"carousel",BULK_EDITOR:3,BULK_EDITOR_REACT:15,EDITOR_MODAL:17,FLASH_UPLOADER:4,HTML5_UPLOADER:10,SIZE_NORMAL:"n",PIC_NORMAL_FBX_SIZE:180,ALBUM_NAME_MAXLEN:65};e.exports=a}),null);
__d("PhotoStreamCache",["DOM","HTML","PhotoEverstoreLogger","PhotosConst","PhotoViewerImage","Rect","UIPagelet","URI","Vector","ge"],(function(a,b,c,d,e,f){__p&&__p();function g(){"use strict"}g.prototype.init=function(a,b,c,d,e){"use strict";this.version=a,this.pageletName=b,this.pageletRootID=c,this.tagSuggestionMode=e,this.bufferSize=g.BUFFER_SIZE,this.fullBucketSize=g.FULL_BUCKET_SIZE,this.initError=!1,this.isActive=!0,this.usesOpaqueCursor=!1,this.usesNonCircularPhotoSet=!1,this.reachedLeftEnd=!1,this.reachedRightEnd=!1,this.leftLock=!1,this.rightLock=!1,this.useAjaxPipe=!0,this.logger=d,this.viewAsUser=null,this.reset()};g.prototype.setViewAs=function(a){"use strict";this.viewAsUser=a};g.prototype.isInViewAsMode=function(){"use strict";return!!this.viewAsUser};g.prototype.getViewAsUserId=function(){"use strict";return this.viewAsUser};g.prototype.getUsesOpaqueCursor=function(){"use strict";return this.usesOpaqueCursor};g.prototype.isNonCircularPhotoSet=function(){"use strict";return this.usesNonCircularPhotoSet};g.prototype.setReachedLeftEnd=function(){"use strict";this.reachedLeftEnd=!0};g.prototype.setReachedRightEnd=function(){"use strict";this.reachedRightEnd=!0};g.prototype.hasReachedLeftEnd=function(){"use strict";return this.reachedLeftEnd};g.prototype.hasReachedRightEnd=function(){"use strict";return this.reachedRightEnd};g.prototype.nonCircularPhotoSetCanPage=function(a){"use strict";if(!this.isNonCircularPhotoSet())return!0;if(a<0)return this.getCursorPos()||!this.hasReachedLeftEnd();return a>0?this.getLength()-1!=this.getCursorPos()||!this.hasReachedRightEnd():!0};g.prototype.setUseAjaxPipe=function(a){"use strict";this.useAjaxPipe=a};g.prototype.reset=function(){"use strict";this.cache={image:{},extra:{},html:{}},this.fbidList=[],this.loaded=!1,this.allLoaded=!1,this.permalinkMap={},this.position=0,this.totalCount=null,this.firstCursor=null,this.firstCursorIndex=null,this.firstOpaqueCursor=null};g.prototype.waitForInitData=function(){"use strict";this.fbidList.push(g.INIT_PLACEHOLDER)};g.prototype.destroy=function(){"use strict";this.reset(),this.isActive=!1};g.prototype.isLoaded=function(){"use strict";return this.loaded};g.prototype.canPage=function(){"use strict";if(!this.isLoaded())return!1;if(this.totalCount!==null)return this.totalCount>1;return this.usesNonCircularPhotoSet?!0:this.getLength()>1};g.prototype.errorInCurrent=function(){"use strict";if(this.initError)return!0;else if(!this.isLoaded())return!1;return this.checkErrorAt(this.getCursor())};g.prototype.getLength=function(){"use strict";return this.fbidList.length};g.prototype.getPhotoSet=function(){"use strict";return this.photoSetQuery.set};g.prototype.getPhotoSetQuery=function(){"use strict";return this.photoSetQuery};g.prototype.getCurrentImageData=function(){"use strict";return this.getImageData(this.getCursor())};g.prototype.getNextImageData=function(){"use strict";if(!this.fbidList||!this.fbidList.length)return null;var a=(this.position+1)%this.fbidList.length;return this.getImageData(this.getCursorAt(a))};g.prototype.getPreviousImageData=function(){"use strict";if(!this.fbidList||!this.fbidList.length)return null;var a=this.fbidList.length;a=(this.position+a-1)%a;return this.getImageData(this.getCursorAt(a))};g.prototype.addViewAsToURI=function(a){"use strict";a=new(b("URI"))(a);this.isInViewAsMode()&&a.addQueryData({viewas:this.getViewAsUserId()});return a};g.prototype.getOpaqueCursor=function(a){"use strict";if(this.getImageData(a))return this.version===b("PhotosConst").VIEWER_VAULTBOX?this.getImageData(a).getInfo().opaquecursor:this.getImageData(a).info.opaquecursor;return a==this.firstCursor?this.firstOpaqueCursor:null};g.prototype.getImageData=function(a){"use strict";a=this.getCacheContent(a,g.IMAGE_DATA);a&&(a.info.permalink=this.addViewAsToURI(a.info.permalink));return a};g.prototype.getCurrentHtml=function(){"use strict";return this.getCacheContent(this.getCursor(),g.HTML)};g.prototype.getCurrentExtraData=function(){"use strict";return this.getCacheContent(this.getCursor(),g.EXTRA)};g.prototype.getCacheContent=function(a,b){"use strict";return!a||a===g.ERROR_ID||a===g.INIT_PLACEHOLDER?null:this.cache[b][a]};g.prototype.getCursorPos=function(){"use strict";return this.position};g.prototype.getCursor=function(){"use strict";return this.position>=0&&this.position<this.getLength()?this.fbidList[this.position]:null};g.prototype.getCursorAt=function(a){"use strict";return this.fbidList[a]};g.prototype.getCursorForURI=function(a){"use strict";return this.permalinkMap[a]};g.prototype.calculatePositionForMovement=function(a){"use strict";a=this.position+a;if(this.allLoaded){var b=this.getLength();a=(b+a%b)%b}return a};g.prototype.isValidMovement=function(a){"use strict";if(!this.isLoaded()||!this.canPage())return!1;a=this.calculatePositionForMovement(a);return this.getCursor()>0||a>=0&&a<this.getLength()};g.prototype.moveCursor=function(a){"use strict";if(!this.isValidMovement(a))return;this.position=this.calculatePositionForMovement(a);a!==0&&this.loadMoreIfNeccessary(a>0)};g.prototype.checkErrorAt=function(a){"use strict";if(!this.isLoaded())return!1;return a===g.ERROR_ID?!0:!1};g.prototype.getRelativeMovement=function(a){"use strict";for(var b=0;b<this.getLength();b++)if(this.fbidList[b]==a)return b-this.position;return null};g.prototype.preloadImages=function(a){"use strict";var c,d=this.getLength(),e=this.cache.image,f=g.BUFFER_SIZE;d>f*2?(c=(this.position+d-f%d)%d,f=(this.position+f)%d):(c=0,f=d-1);while(c!=f){var h,i=this.fbidList[c],j=a&&a(e[i]);this.version===b("PhotosConst").VIEWER_VAULTBOX?h=e[i]&&e[i].preload(j):e[i]&&e[i].url&&(j&&!e[i].resource?(e[i].resource=new Image(),e[i].resource.src=e[i].url,h=e[i].url,e[i].everstoreLogThis===!0&&b("PhotoEverstoreLogger").logImmediately(e[i].resource.src)):!j&&!e[i].small&&(e[i].small=new Image(),e[i].small.src=e[i].smallurl||e[i].url,h=e[i].small.src,e[i].everstoreLogThis===!0&&b("PhotoEverstoreLogger").logImmediately(e[i].small.src)));this.logger&&h&&this.logger.log(h);c=(c+1)%d}};g.prototype.loadMoreIfNeccessary=function(a){"use strict";if(this.allLoaded||a&&this.rightLock||!a&&this.leftLock)return;a=a?1:-1;a=this.position+this.bufferSize*a;a<0&&!this.checkErrorAt(this.getEndCursor(!1))?(this.leftLock=!0,this.fetch(this.fullBucketSize,!1)):a>this.getLength()&&!this.checkErrorAt(this.getEndCursor(!0))&&(this.rightLock=!0,this.fetch(this.fullBucketSize,!0))};g.prototype.getEndCursor=function(a){"use strict";return a?this.fbidList[this.getLength()-1]:this.fbidList[0]};g.prototype.calculateRelativeIndex=function(a,b,c){"use strict";if(!this.totalCount)return null;b=this.fbidList.indexOf(b);c=this.fbidList.indexOf(c);if(b===-1||c===-1)return null;c=c-b;return(a+c+this.totalCount)%this.totalCount};g.prototype.calculateDistance=function(a,b){"use strict";a=this.fbidList.indexOf(a);b=this.fbidList.indexOf(b);return a===-1||b===-1?null:(b-a+this.getLength())%this.getLength()};g.prototype.fetch=function(a,c){"use strict";var d=this.getEndCursor(c);c=babelHelpers["extends"]({cursor:d,version:this.version,end:this.getEndCursor(!c),fetchSize:c?a:-1*a,relevant_count:this.relevantCount,opaqueCursor:this.getOpaqueCursor(d),tagSuggestionMode:this.tagSuggestionMode,is_from_groups:this.isFromGroups},this.photoSetQuery);this.isInViewAsMode()&&(c.viewas=this.getViewAsUserId());this.totalCount&&this.firstCursorIndex!==null&&(c.total=this.totalCount,c.cursorIndex=this.calculateRelativeIndex(this.firstCursorIndex,this.firstCursor,d));a=b("ge")(this.pageletRootID);a||(!1,a=b("DOM").create("div",{id:this.pageletRootID}),b("DOM").appendContent(document.body,a));b("UIPagelet").loadFromEndpoint(this.pageletName,a,c,{usePipe:this.useAjaxPipe,automatic:!0,jsNonblock:!0,crossPage:!0});this.useAjaxPipe||this.setUseAjaxPipe(!0)};g.prototype.storeToCache=function(a){"use strict";__p&&__p();var b={};if(!this.isActive)return b;if("error"in a){this.processErrorResult(a.error);b.error=!0;return b}"init"in a&&(this.processInitResult(a.init),b.init={logids:a.init.logids,fbid:a.init.fbid,loggedin:a.init.loggedin,fromad:a.init.fromad,withinbusiness:a.init.withinbusiness,eid:a.init.eid});"image"in a&&(this.processImageResult(a.image),b.image=!0);"data"in a&&(this.processDataResult(a.data),b.data=!0);return b};g.prototype.processInitResult=function(a){"use strict";__p&&__p();if(this.loaded)return;this.usesOpaqueCursor=a.usesopaquecursor;this.usesNonCircularPhotoSet=a.isnoncircularphotoset;this.setIsFromGroups(a.is_from_groups);this.loaded=!0;this.photoSetQuery=a.query;a.bufferSize&&(this.bufferSize=a.bufferSize);a.fullBucketSize&&(this.fullBucketSize=a.fullBucketSize);if(this.fbidList.length===0)this.fbidList.push(a.fbid),this.rightLock=!0;else{var c=this.fbidList.indexOf(g.INIT_PLACEHOLDER);c!=-1&&(this.fbidList[c]=a.fbid)}this.firstCursor=a.fbid;this.firstOpaqueCursor=a.opaquecursor;"initIndex"in a&&"totalCount"in a&&(this.firstCursorIndex=a.initIndex,this.totalCount=a.totalCount);if(this.version==b("PhotosConst").VIEWER_PERMALINK){c=a.initialBucketSize?a.initialBucketSize:g.INIT_BUCKET_SIZE;this.fetch(c,!0)}};g.prototype.processImageResult=function(a){"use strict";__p&&__p();for(var c in a){c===this.firstCursor&&a[c].everstoreLogThis&&b("PhotoEverstoreLogger").logImmediately(a[c].url);if(this.version===b("PhotosConst").VIEWER_VAULTBOX){var d=a[c];this.cache.image[c]=new(b("PhotoViewerImage"))(d);this.permalinkMap[this.cache.image[c].getURIString()]=c}else this.cache.image[c]=a[c],a[c].dimensions&&(this.cache.image[c].dimensions=b("Vector").deserialize(a[c].dimensions)),a[c].originalDimensions&&(this.cache.image[c].originalDimensions=b("Vector").deserialize(a[c].originalDimensions)),a[c].smalldims&&(this.cache.image[c].smalldims=b("Vector").deserialize(a[c].smalldims)),this.permalinkMap[new(b("URI"))(a[c].info.permalink).getUnqualifiedURI().toString()]=c}};g.prototype.attachToFbidsList=function(a,b,c){"use strict";__p&&__p();if(this.allLoaded)return;if(b===-1){for(var b=a.length-1;b>=0;b--)this.fbidList.unshift(a[b]),this.position++;this.leftLock=!1}else{for(var b=0;b<a.length;b++)this.fbidList.push(a[b]);this.rightLock=!1}c&&this.setAllLoaded()};g.prototype.setAllLoaded=function(){"use strict";this.allLoaded=!0,this.getCursor()===null&&(this.position=this.calculatePositionForMovement(0))};g.prototype.processDataResult=function(a){"use strict";__p&&__p();for(var c in a){this.cache.html[c]||(this.cache.html[c]={});for(var d in a[c].html){var e=a[c].html[d];typeof e==="string"&&(e=b("HTML")(e).getRootNode());e.childNodes?this.cache.html[c][d]=Array.from(e.childNodes):this.cache.html[c][d]=[]}if(!("extra"in a[c])){this.cache.extra[c]=null;continue}this.cache.extra[c]={tagRects:{}};if(!Array.isArray(a[c].extra.tagRects))for(var f in a[c].extra.tagRects)a[c].extra.tagRects[f]&&(this.cache.extra[c].tagRects[f]=b("Rect").deserialize(a[c].extra.tagRects[f]));Object.keys(a[c].extra).forEach(function(b){if(b=="tagRects")return;this.cache.extra[c][b]=a[c].extra[b]}.bind(this))}};g.prototype.processErrorResult=function(a){"use strict";if(!this.isLoaded()){this.initError=!0;return}a=a.side;var b=[g.ERROR_ID];this.attachToFbidsList(b,a)};g.prototype.setTotalCount=function(a){"use strict";this.totalCount=a};g.prototype.setFirstCursorIndex=function(a){"use strict";this.firstCursorIndex=a};g.prototype.setIsFromGroups=function(a){"use strict";this.isFromGroups=a};Object.assign(g,{ERROR:"error",HTML:"html",IMAGE_DATA:"image",EXTRA:"extra",BUFFER_SIZE:3,INIT_BUCKET_SIZE:4,FULL_BUCKET_SIZE:12,ERROR_ID:-1,INIT_PLACEHOLDER:1});e.exports=g}),null);
__d("XPhotosetSearchPivotController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search-pivot/photoset/",{fbid:{type:"Int",required:!0},tags:{type:"IntToIntMap"}})}),null);
__d("PhotosetSearchPivotData",["Promise","AsyncRequest","PhotoStreamCache","XPhotosetSearchPivotController"],(function(a,b,c,d,e,f){__p&&__p();var g=/^(perm:)?tag:(\d+)/,h={};a={fetch:function(a,c){__p&&__p();if(!(a in h)){var d;(function(){__p&&__p();var e=b("XPhotosetSearchPivotController").getURIBuilder().setInt("fbid",a);c&&(d={},c.fbidList.forEach(function(a){a=c.getCacheContent(a,b("PhotoStreamCache").EXTRA);a&&Object.keys(a.tagRects).forEach(function(a){if(g.test(a)){a=RegExp.$2;a in d?d[a]++:d[a]=1}})}),e.setIntToIntMap("tags",d));h[a]=new(b("Promise"))(function(a,c){new(b("AsyncRequest"))().setURI(e.getURI()).setHandler(function(b){a(b.getPayload())}).setErrorHandler(c).setAllowCrossPageTransition(!0).send()})})()}return h[a]["catch"](function(b){delete h[a];throw b})}};e.exports=a}),null);
__d("FBMorePager.react",["cx","OnVisible.react","React","getViewportDimensions","throttle"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a,c){h.constructor.call(this,a,c),this.$4=function(){this.setState({visible:!0}),this.state.throttledCallback()}.bind(this),this.$2=function(){this.$1&&this.props.onMore&&this.props.onMore()}.bind(this),this.state={throttledCallback:b("throttle")(function(){return this.$2()}.bind(this),a.throttle),visible:!1}}a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.$3(),this.props.throttle!==a.throttle&&this.setState({throttledCallback:b("throttle")(this.$2,a.throttle)})};a.prototype.UNSAFE_componentWillMount=function(){this.$1=!0};a.prototype.componentWillUnmount=function(){this.$1=!1};a.prototype.render=function(){return b("React").createElement("div",{className:"_3fv0"+(this.state.visible?" _3fv1":"")},b("React").createElement(b("OnVisible.react"),{buffer:this.props.buffer,onVisible:this.$4,ref:"onVisible"},this.props.children))};a.prototype.$3=function(){this.setState({visible:!1}),this.refs.onVisible&&this.refs.onVisible.reset()};a.defaultProps={buffer:Math.min(b("getViewportDimensions")().height,b("getViewportDimensions")().width)*2,throttle:1e3};e.exports=a}),null);
__d("FBTilesAttributionLogo.react",["cx","React","TilesMapConfig","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){switch(this.props.mapProvider){case"HERE":return this.$1();case"OSM":return this.$2()}return null};a.prototype.$1=function(){return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_3d_k"),style:{backgroundImage:"url("+b("TilesMapConfig").LOGO.url+")",height:b("TilesMapConfig").LOGO.height+"px",width:b("TilesMapConfig").LOGO.width+"px"}})};a.prototype.$2=function(){return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_wuu")},"\xa9 OpenStreetMap")};function a(){h.apply(this,arguments)}a.propTypes={className:c.string,mapProvider:c.oneOf(["HERE","OSM"]).isRequired};e.exports=a}),null);
__d("GridInputLabel.react",["cx","invariant","Grid.react","React","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("Grid.react").GridItem;c=b("React").PropTypes;var k=0;function l(){return"js_grid_input_label_"+k++}i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){"use strict";this.props.children.length===2||h(0);var a=this.props.children[0],c=this.props.children[1],d=a.type==="input";a=b("React").cloneElement(a,{className:b("joinClasses")(a.props.className,"uiGridInputLabelInput"+(d&&a.props.type==="radio"?" uiInputLabelRadio":"")+(d&&a.props.type==="checkbox"?" uiInputLabelCheckbox":"")),id:a.props.id||l()});c=b("React").cloneElement(c,{className:b("joinClasses")(c.props.className,"uiInputLabelLabel"),htmlFor:a.props.id});d="uiInputLabel clearfix"+(this.props.display==="inline"?" inlineBlock":"")+(d?" uiInputLabelLegacy":"");return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,d)}),b("React").createElement(b("Grid.react"),{cols:2},b("React").createElement(j,null,a),b("React").createElement(j,null,c)))};function a(){"use strict";i.apply(this,arguments)}a.propTypes={display:c.oneOf(["block","inline"])};a.defaultProps={display:"block"};e.exports=a}),null);
__d("XUIRadioList.react",["cx","Focus","GridInputLabel.react","InputLabel.react","React","RTLKeys","XUIRadioInput.react","joinClasses","KeyStatus","VirtualCursorStatus"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("KeyStatus").isKeyDown,j=b("VirtualCursorStatus").isVirtualCursorTriggered;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$4=function(a){__p&&__p();return function(event){__p&&__p();switch(event.keyCode){case b("RTLKeys").UP:case b("RTLKeys").getLeft():event.preventDefault();this.$3(a-1);break;case b("RTLKeys").DOWN:case b("RTLKeys").getRight():event.preventDefault();this.$3(a+1);break;case b("RTLKeys").SPACE:event.preventDefault();this.$3(a);break}}.bind(this)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){"use strict";this.$1=new Map(),this.$2=new Map()};a.prototype.$3=function(a){"use strict";a>=this.$1.size?a=0:a<0&&(a=this.$1.size-1);var c=this.$1.get(a);a=this.$2.get(a);if(!c||!a)return;c.props.disabled||a.getElementsByTagName("input")[0].click();b("Focus").set(a)};a.prototype.render=function(){"use strict";var a=b("React").Children.map(this.props.children,function(a){return a?a.props.value:null}).some(function(a){return a===this.props.selectedValue}.bind(this)),c=b("React").Children.map(this.props.children,function(c,d){return c===null?null:b("React").cloneElement(c,{name:this.props.name,onKeyDown:this.$4(d),onSelect:this.props.onValueChange,ref:function(a){this.$1.set(d,a)}.bind(this),selectedValue:this.props.selectedValue,setupRadioRef:function(a){this.$2.set(d,a)}.bind(this),tabIndex:this.props.selectedValue===c.props.value||!a&&d===0?0:-1})},this),d=this.props.selectedValue!==undefined&&!this.props.onValueChange;return b("React").createElement("ul",babelHelpers["extends"]({},this.props,{"aria-readonly":d,name:null,role:"radiogroup"}),c)};a.propTypes={name:c.string,onValueChange:c.func,selectedValue:c.any};a.Item=(g=f=function(){__p&&__p();var a,c;a=babelHelpers.inherits(d,b("React").Component);c=a&&a.prototype;function d(){var a,b;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return b=(a=c.constructor).call.apply(a,[this].concat(e)),this.state={showFocusRing:!1},this.$1=function(){this.setState({showFocusRing:!1})}.bind(this),this.$2=function(){(i()||j())&&this.setState({showFocusRing:!0})}.bind(this),this.$3=function(event){this.props.onSelect&&this.props.onSelect(event.target.value)}.bind(this),b}d.prototype.render=function(){"use strict";var a=this.props.selectedValue===this.props.value,c=!!this.props.disabled,d=this.props.centered?b("GridInputLabel.react"):b("InputLabel.react");return b("React").createElement("li",{"aria-checked":a,"aria-disabled":c,className:b("joinClasses")(this.props.className,this.state.showFocusRing?"":"_1az7"),onBlur:this.$1,onFocus:this.$2,onKeyDown:this.props.onKeyDown,ref:this.props.setupRadioRef,role:"radio",tabIndex:this.props.tabIndex},b("React").createElement(d,{"aria-label":this.props["aria-label"],"data-hover":this.props["data-hover"],"data-testid":this.props["data-testid"],"data-tooltip-content":this.props["data-tooltip-content"],"data-tooltip-position":this.props["data-tooltip-position"],display:"inline"},b("React").createElement(b("XUIRadioInput.react"),{checked:a,disabled:c,name:this.props.name,onChange:this.$3,tabIndex:-1,value:this.props.value,labelDataTestID:this.props.inputLabelTestID}),b("React").createElement("label",null,this.props.children)))};return d}(),f.propTypes={centered:c.bool,"data-testid":c.string,disabled:c.bool,inputLabelTestID:c.string,name:c.string,onKeyDown:c.func,onSelect:c.func,selectedValue:c.any,setupRadioRef:c.func,tabIndex:c.number,value:c.any},g);e.exports=a}),null);
__d("FBTilesReportDialogItems.react",["React","XUIRadioList.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("XUIRadioList.react").Item;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={selectedType:"other"},this.$1=function(a){this.setState({selectedType:a}),this.props.onSelected(a)}.bind(this),b}a.prototype.render=function(){var a=[];Object.keys(this.props.types).forEach(function(c){a.push(b("React").createElement(h,{value:c,key:c},this.props.types[c].label))}.bind(this));return b("React").createElement(b("XUIRadioList.react"),{selectedValue:this.state.selectedType,onValueChange:this.$1},a)};e.exports=a}),null);
__d("MapsReporterTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:MapsReporterLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:MapsReporterLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MapsReporterLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setCategory=function(a){this.$1.category=a;return this};a.prototype.setMapURI=function(a){this.$1.map_uri=a;return this};a.prototype.setNelat=function(a){this.$1.nelat=a;return this};a.prototype.setNelon=function(a){this.$1.nelon=a;return this};a.prototype.setStage=function(a){this.$1.stage=a;return this};a.prototype.setSwlat=function(a){this.$1.swlat=a;return this};a.prototype.setSwlon=function(a){this.$1.swlon=a;return this};a.prototype.setUserComment=function(a){this.$1.user_comment=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setZoom=function(a){this.$1.zoom=a;return this};c={category:!0,map_uri:!0,nelat:!0,nelon:!0,stage:!0,swlat:!0,swlon:!0,user_comment:!0,vc:!0,zoom:!0};e.exports=a}),null);
__d("FBTilesInfoButton.react",["ix","cx","fbt","AdsTextInput.react","ContextualDialogArrow","FBTilesReportDialogItems.react","Image.react","Link.react","MapsReporterTypedLogger","PopoverMenu.react","React","ReactXUIMenu","XUIButton.react","XUIDialogCloseButton.react","leaflet","goURI","joinClasses","SimpleXUIDialog","XUIDialogButton.react","XUIDialogCancelButton.react","asset"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ReactXUIMenu").Item;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.REPORT_TYPES={lineLabel:{label:i._("T\u00ean \u0111\u01b0\u1eddng"),title:i._("B\u00e1o c\u00e1o s\u1ef1 c\u1ed1 v\u1edbi t\u00ean \u0111\u01b0\u1eddng"),hint:i._("\u0110\u01b0\u1eddng n\u00e0o b\u1ecb sai t\u00ean? (t\u00f9y ch\u1ecdn)")},line:{label:i._("H\u00ecnh d\u1ea1ng con \u0111\u01b0\u1eddng"),title:i._("B\u00e1o c\u00e1o s\u1ef1 c\u1ed1 v\u1edbi h\u00ecnh d\u1ea1ng con \u0111\u01b0\u1eddng"),hint:i._("\u0110\u01b0\u1eddng n\u00e0o b\u1ecb sai h\u00ecnh d\u1ea1ng? (t\u00f9y ch\u1ecdn)")},lineMissing:{label:i._("Thi\u1ebfu con \u0111\u01b0\u1eddng"),title:i._("B\u00e1o c\u00e1o thi\u1ebfu con \u0111\u01b0\u1eddng"),hint:i._("Con \u0111\u01b0\u1eddng n\u00e0o b\u1ecb thi\u1ebfu? (t\u00f9y ch\u1ecdn)")},polygon:{label:i._("H\u00ecnh d\u1ea1ng ho\u1eb7c t\u00ean t\u00f2a nh\u00e0, c\u00f4ng vi\u00ean ho\u1eb7c v\u00f9ng n\u01b0\u1edbc"),title:i._("B\u00e1o c\u00e1o s\u1ef1 c\u1ed1 v\u1edbi h\u00ecnh d\u1ea1ng ho\u1eb7c t\u00ean t\u00f2a nh\u00e0, c\u00f4ng vi\u00ean ho\u1eb7c v\u00f9ng n\u01b0\u1edbc"),hint:i._("T\u00f2a nh\u00e0, c\u00f4ng vi\u00ean ho\u1eb7c v\u00f9ng n\u01b0\u1edbc n\u00e0o kh\u00f4ng ch\u00ednh x\u00e1c? (t\u00f9y ch\u1ecdn)")},border:{label:i._("\u0110\u01b0\u1eddng bi\u00ean gi\u1edbi qu\u1ed1c gia, ti\u1ec3u bang ho\u1eb7c t\u1ec9nh\/th\u00e0nh ph\u1ed1"),title:i._("B\u00e1o c\u00e1o s\u1ef1 c\u1ed1 v\u1edbi \u0111\u01b0\u1eddng bi\u00ean gi\u1edbi"),hint:i._("\u0110\u01b0\u1eddng bi\u00ean gi\u1edbi n\u00e0o b\u1ecb v\u1ebd sai? (t\u00f9y ch\u1ecdn)")},administrative:{label:i._("T\u00ean qu\u1ed1c gia, ti\u1ec3u bang ho\u1eb7c th\u00e0nh ph\u1ed1"),title:i._("B\u00e1o c\u00e1o s\u1ef1 c\u1ed1 v\u1edbi t\u00ean qu\u1ed1c gia, ti\u1ec3u bang ho\u1eb7c th\u00e0nh ph\u1ed1"),hint:i._("T\u00ean n\u00e0o kh\u00f4ng ch\u00ednh x\u00e1c? (t\u00f9y ch\u1ecdn)")},other:{label:i._("Kh\u00e1c"),title:i._("B\u00e1o c\u00e1o s\u1ef1 c\u1ed1 b\u1ea3n \u0111\u1ed3"),hint:i._("B\u1ea3n \u0111\u1ed3 n\u00e0y c\u00f3 v\u1ea5n \u0111\u1ec1 g\u00ec? (t\u00f9y ch\u1ecdn)")}},this.state={selectedReportType:null,reportedProblem:null,mapInfo:{mapSources:[],hereReportUrl:"",mapUrl:null,mapBounds:null,zoom:null}},this.$1=function(){this.setState({mapInfo:this.props.mapInfoCallback()});var a=this.state.mapInfo.mapSources;if(a.length==1&&a.includes("here")){this.$2();return}b("SimpleXUIDialog").showEx(b("React").createElement(b("FBTilesReportDialogItems.react"),{types:this.REPORT_TYPES,onSelected:function(a){return this.setState({selectedReportType:a})}.bind(this)}),i._("B\u00e1o c\u00e1o s\u1ef1 c\u1ed1 b\u1ea3n \u0111\u1ed3 v\u1edbi"),b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",use:"confirm",label:i._("Ti\u1ebfp t\u1ee5c"),onClick:this.$3})))}.bind(this),this.$3=function(){if(!this.state.selectedReportType)return;var a=this.REPORT_TYPES[this.state.selectedReportType];b("SimpleXUIDialog").showEx(b("React").createElement(b("AdsTextInput.react"),{multiline:!0,placeholder:a.hint,value:this.state.reportedProblem,onChange:function(a){return this.setState({reportedProblem:a})}.bind(this)}),a.title,b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null),b("React").createElement(b("XUIDialogButton.react"),{action:"cancel",use:"confirm",label:i._("G\u1eedi"),onClick:this.$4})))}.bind(this),this.$4=function(){var a=new(b("MapsReporterTypedLogger"))().setStage("submit_comment").setCategory(this.state.selectedReportType).setUserComment(this.state.reportedProblem).setMapURI(this.state.mapInfo.mapUrl||""),c=this.state.mapInfo.mapBounds,d=this.state.mapInfo.zoom;c!=null&&d!=null&&a.setNelon(c.getEast()).setNelat(c.getNorth()).setSwlon(c.getWest()).setSwlat(c.getSouth()).setZoom(""+d);a.log();b("SimpleXUIDialog").showEx(i._("Ph\u1ea3n h\u1ed3i c\u1ee7a b\u1ea1n gi\u00fap ch\u00fang t\u00f4i c\u1ea3i thi\u1ec7n b\u1ea3n \u0111\u1ed3 Facebook cho m\u1ecdi ng\u01b0\u1eddi."),i._("C\u1ea3m \u01a1n"),b("React").createElement(b("XUIDialogCloseButton.react"),{use:"confirm"}))}.bind(this),c}a.prototype.render=function(){var a=b("React").createElement(b("ReactXUIMenu"),null,b("React").createElement(k,{key:"title",icon:b("React").createElement(b("Image.react"),{src:g("367566")}),onClick:function(){return window.open("/maps/attribution_terms","_blank")}},i._("Th\u00f4ng b\u00e1o ph\u00e1p l\u00fd v\u1ec1 d\u1eef li\u1ec7u b\u1ea3n \u0111\u1ed3")),b("React").createElement(k,{key:"report",icon:b("React").createElement(b("Image.react"),{src:g("408431")}),onClick:this.$1},i._("B\u00e1o c\u00e1o s\u1ef1 c\u1ed1")));return b("React").createElement(b("PopoverMenu.react"),{alignh:"right",position:"above",menu:a,layerBehaviors:[b("ContextualDialogArrow")]},b("React").createElement(b("Link.react"),{ref:"termsButton",className:b("joinClasses")(this.props.className,"_4cou")},b("React").createElement("div",{className:"_4cod"},b("React").createElement(b("Image.react"),{src:g("368981")}))))};a.prototype.$2=function(){var a=b("SimpleXUIDialog").showEx(i._("This map has data from third-party providers. You will be redirected to them to provide feedback."),i._("Report a Map Problem"),b("React").createElement("div",null,b("React").createElement(b("XUIDialogCancelButton.react"),null),b("React").createElement(b("XUIButton.react"),{className:"_4jy1",target:"_blank",use:"default",label:i._("M\u1edf"),href:this.state.mapInfo.hereReportUrl,onClick:function(){return a.hide()}})))};e.exports=a}),null);
__d("FBTilesMapZoomOverlay.react",["cx","ix","fbt","Image.react","React","XUIButton.react"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("React").PropTypes;var k=b("React").createElement(b("Image.react"),{src:h("22148")}),l=b("React").createElement(b("Image.react"),{src:h("22147")});j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.render=function(){var a=this.props,c=a.onZoomIn,d=a.onZoomOut;a=babelHelpers.objectWithoutProperties(a,["onZoomIn","onZoomOut"]);return b("React").createElement("div",a,b("React").createElement("div",null,b("React").createElement(b("XUIButton.react"),{disabled:c==null,image:k,label:i._("Ph\u00f3ng to"),labelIsHidden:!0,onClick:c,type:"button"})),b("React").createElement("div",null,b("React").createElement(b("XUIButton.react"),{className:"_3d8x",disabled:d==null,image:l,label:i._("Thu nh\u1ecf"),labelIsHidden:!0,onClick:d,type:"button"})))};function a(){j.apply(this,arguments)}a.propTypes={onZoomIn:c.func,onZoomOut:c.func};e.exports=a}),null);
__d("FBTilesMap.react",["cx","FBOverlayBase.react","FBOverlayContainer.react","FBOverlayElement.react","FBTilesAttributionLogo.react","FBTilesInfoButton.react","FBTilesMapZoomOverlay.react","leaflet","LeafletUtils","LeafletView","LeafletMap.react","LeafletTileLayer.react","React","TilesMapConfig","TilesMapUtils","TilesMapTheme"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i={maxZoom:b("TilesMapConfig").ZOOM_RANGE.MAX,minZoom:b("TilesMapConfig").ZOOM_RANGE.MIN};function j(a,c){return c!=null&&c.type===b("FBOverlayElement.react")?a?c:undefined:a?undefined:c}var k=function(a){return b("React").Children.map(a,j.bind(undefined,!1))},l=function(a){return b("React").Children.map(a,j.bind(undefined,!0))};function m(a){return{overlays:l(a),others:k(a)}}d=c.shape({horizontal:c.oneOf(["left","right","fit"]),vertical:c.oneOf(["top","bottom","fit"])});f=babelHelpers.inherits(a,b("React").Component);h=f&&f.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={size:null,attributions:[]},this.$7=function(a){this.setState({size:a}),this.props.onSizeSettled!=null&&this.props.onSizeSettled(a)}.bind(this),this.$8=function(){var a=this.props.view;if(a==null||this.props.onViewChange==null)return;a.zoom<b("TilesMapConfig").ZOOM_RANGE.MAX&&this.props.onViewChange(a.setZoom(a.zoom+1))}.bind(this),this.$9=function(){var a=this.props.view;if(a==null||this.props.onViewChange==null)return;a.zoom>b("TilesMapConfig").ZOOM_RANGE.MIN&&this.props.onViewChange(a.setZoom(a.zoom-1))}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.children,d=a.className,e=a.style,f=a.defaultView;a=babelHelpers.objectWithoutProperties(a,["children","className","style","defaultView"]);c=m(c);var g=c.others;c=c.overlays;if(f)throw new Error("<FBTilesMap /> cannot be used with `defaultView` prop. Please provide `view` prop and treat as a controlled component.");return b("React").createElement(b("FBOverlayContainer.react"),{className:d,style:e},b("React").createElement(b("FBOverlayBase.react"),null,this.$1(g,a)),c,this.$2(),this.$3(),this.$4())};a.prototype.componentDidMount=function(){this.$5()};a.prototype.componentDidUpdate=function(){this.$5()};a.prototype.$5=function(){if(this.state.size===null||this.state.size===undefined||this.props.view===undefined)return;b("TilesMapUtils").getMapProviderForAttributionByViewPort(this.$6(),this.props.view==null?null:this.props.view.zoom,function(a){a.sort(),JSON.stringify(this.state.attributions)!==JSON.stringify(a)&&this.setState({attributions:a})}.bind(this))};a.prototype.$2=function(){return this.state.size==null?null:this.state.attributions.every(function(a){return a!=="here"})?null:b("React").createElement(b("FBOverlayElement.react"),this.props.attributionLogoPosition,b("React").createElement(b("FBTilesAttributionLogo.react"),{mapProvider:"HERE"}))};a.prototype.$3=function(){if(!this.props.showReportButton||this.state.size==null)return null;var a=function(){return{hereReportUrl:b("TilesMapUtils").getHereReporterToolUrl(this.props.view),mapSources:this.state.attributions,mapUrl:null,mapBounds:this.$6(),zoom:this.props.view==null?null:this.props.view.zoom}}.bind(this);return b("React").createElement(b("FBOverlayElement.react"),this.props.reportButtonPosition,b("React").createElement(b("FBTilesInfoButton.react"),{className:"_1mfw",mapInfoCallback:a}))};a.prototype.$1=function(a,c){var d=babelHelpers["extends"]({},c.options,{zoomControl:!1});return b("React").createElement(b("LeafletMap.react"),babelHelpers["extends"]({},c,{className:"_5db7",onSizeSettled:this.$7,options:d}),b("React").createElement(b("LeafletTileLayer.react"),{options:Object.assign({},this.props.tileOptions,i),urlTemplate:b("TilesMapUtils").getTileURLTemplate(null,this.props.theme)}),a)};a.prototype.$4=function(){if(this.props.view==null||this.props.onViewChange==null||!this.props.showZoomControls)return null;var a=this.props.view.zoom<i.maxZoom?this.$8:undefined,c=this.props.view.zoom>i.minZoom?this.$9:undefined;return b("React").createElement(b("FBOverlayElement.react"),this.props.setZoomPosition,b("React").createElement(b("FBTilesMapZoomOverlay.react"),{className:"_3-8j _1yx0",onZoomIn:a,onZoomOut:c}))};a.prototype.$6=function(){return this.state.size==null||this.props.view===undefined?null:b("LeafletUtils").getViewBounds(this.props.view,{width:this.state.size.x,height:this.state.size.y})};a.propTypes={className:c.string,showZoomControls:c.bool,setZoomPosition:d,showReportButton:c.bool,style:c.object,theme:c.string,view:c.instanceOf(b("LeafletView")),tileOptions:c.object,reportButtonPosition:d,attributionLogoPosition:d};a.defaultProps={showReportButton:!0,theme:b("TilesMapTheme").DEFAULT,setZoomPosition:{vertical:"top",horizontal:"left"},reportButtonPosition:{vertical:"bottom",horizontal:"right"},attributionLogoPosition:{vertical:"bottom",horizontal:"left"}};e.exports=a}),null);
__d("ClickableArea.react",["Focus","React","ReactDOM"],(function(a,b,c,d,e,f){__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.componentDidMount=function(){"use strict";if(this.props.buttonRef){var a=this.props.buttonRef();b("Focus").relocate(b("ReactDOM").findDOMNode(a),b("ReactDOM").findDOMNode(this))}};a.prototype.render=function(){"use strict";var a=this.props,c=a.children,d=a.onClick;a=babelHelpers.objectWithoutProperties(a,["children","onClick"]);return b("React").cloneElement(b("React").Children.only(c),babelHelpers["extends"]({},a,{onClick:d}))};function a(){"use strict";g.apply(this,arguments)}e.exports=a}),null);
__d("XUIMenuSeparator.react",["MenuSeparator.react"],(function(a,b,c,d,e,f){a=b("MenuSeparator.react");e.exports=a}),null);
__d("Number.react",["React","formatNumber"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){"use strict";return b("React").createElement("span",null,b("formatNumber").withThousandDelimiters(this.props.value,this.props.decimals))};function a(){"use strict";g.apply(this,arguments)}a.defaultProps={decimals:0};a.propTypes={value:c.number.isRequired,decimals:c.number};e.exports=a}),null);
__d("LtgSeeTranslationLink.react",["cx","Arbiter","AsyncRequest","ContentTranslationStrings","Link.react","LoadingIndicator.react","React","ReactCSSTransitionGroup","UFIUIEvents","XLtgPostTranslationController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a,b){h.constructor.call(this,a,b),this.state={loading:!1,error_loading:!1,translated_content:null}}a.prototype.render=function(){return b("React").createElement("div",null,this.$1(),this.$2())};a.prototype.$1=function(){if(this.state.error_loading||this.state.translated_content)return null;var a=this.state.loading?b("React").createElement(b("LoadingIndicator.react"),{size:"small",color:"white"}):b("React").createElement(b("Link.react"),{onClick:function(event){this.$3(event)}.bind(this)},b("ContentTranslationStrings").SEE_TRANSLATION),c=(this.props.size==="small"?"_2xzj":"")+(this.props.size!=="small"?" _43f9":"");return b("React").createElement("div",{className:c},a)};a.prototype.$2=function(){var a=(this.props.size==="small"?"_2xzi":"")+(this.props.size!=="small"?" _49k0":""),c=null;this.state.translated_content?c=b("React").createElement("div",{dangerouslySetInnerHTML:this.state.translated_content}):this.state.error_loading&&(c=b("ContentTranslationStrings").NO_TRANSLATION_AVAILABLE);a=this.state.translated_content||this.state.error_loading?b("React").createElement("div",{className:a},c):null;return b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:"ltgtranslatedcontent",transitionEnterTimeout:2e3,transitionLeaveTimeout:2e3},a)};a.prototype.$3=function(event){this.setState({loading:!0});var a=b("XLtgPostTranslationController").getURIBuilder().setString("ftid",this.props.contentid.toString()).setEnum("text_size",this.props.size).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.getPayload();a&&a.text?(this.setState({loading:!1,translated_content:a.text}),b("Arbiter").inform(b("UFIUIEvents").TranslationRendered)):this.setState({loading:!1,error_loading:!0})}.bind(this)).setErrorHandler(function(){this.setState({loading:!1,error_loading:!0})}).send()};a.defaultProps={size:"medium"};e.exports=a}),null);
__d("BrowsePlacesPerfTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:BrowsePlacesPerfLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:BrowsePlacesPerfLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:BrowsePlacesPerfLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setExecutionTimeSecs=function(a){this.$1.execution_time_secs=a;return this};a.prototype.setMethodName=function(a){this.$1.method_name=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={execution_time_secs:!0,method_name:!0,page_id:!0,vc:!0};e.exports=a}),null);
__d("ConnectionsPYMLTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ConnectionsPYMLLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ConnectionsPYMLLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ConnectionsPYMLLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setLikeSource=function(a){this.$1.like_source=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={event:!0,like_source:!0,page_id:!0};e.exports=a}),null);
__d("DynamicPageHovercardTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:DynamicPageHovercardLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:DynamicPageHovercardLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:DynamicPageHovercardLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setContentType=function(a){this.$1.content_type=a;return this};a.prototype.setContentTypeList=function(a){this.$1.content_type_list=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setExtraInfo=function(a){this.$1.extra_info=a;return this};a.prototype.setPageid=function(a){this.$1.pageid=a;return this};a.prototype.setReferrer=function(a){this.$1.referrer=a;return this};a.prototype.setTimeSpent=function(a){this.$1.time_spent=a;return this};a.prototype.setTrackingNodeName=function(a){this.$1.tracking_node_name=a;return this};a.prototype.setTrackingNodeType=function(a){this.$1.tracking_node_type=a;return this};a.prototype.setUIID=function(a){this.$1.ui_id=a;return this};c={content_type:!0,content_type_list:!0,event:!0,extra_info:!0,pageid:!0,referrer:!0,time_spent:!0,tracking_node_name:!0,tracking_node_type:!0,ui_id:!0};e.exports=a}),null);
__d("ReviewConsumptionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ReviewConsumptionLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ReviewConsumptionLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ReviewConsumptionLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setElement=function(a){this.$1.element=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setReviewID=function(a){this.$1.review_id=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={element:!0,event:!0,page_id:!0,review_id:!0,surface:!0,vc:!0};e.exports=a}),null);
__d("SnoozedProfileTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:SnoozedProfileLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:SnoozedProfileLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SnoozedProfileLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setClienttime=function(a){this.$1.clienttime=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setItemObjID=function(a){this.$1.item_obj_id=a;return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={clienttime:!0,event:!0,item_obj_id:!0,session_id:!0,vc:!0};e.exports=a}),null);
__d("SocialGoodCharityActionsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:SocialGoodCharityActionsLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:SocialGoodCharityActionsLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:SocialGoodCharityActionsLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAbTestNamesToGroups=function(a){this.$1.ab_test_names_to_groups=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setAttributes=function(a){this.$1.attributes=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setCampaignID=function(a){this.$1.campaign_id=a;return this};a.prototype.setCampaignType=function(a){this.$1.campaign_type=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setExplicitPostID=function(a){this.$1.explicit_post_id=a;return this};a.prototype.setFundraiserID=function(a){this.$1.fundraiser_id=a;return this};a.prototype.setHasPaymentMethodOnFile=function(a){this.$1.has_payment_method_on_file=a;return this};a.prototype.setParentEventType=function(a){this.$1.parent_event_type=a;return this};a.prototype.setSourceAttributes=function(a){this.$1.source_attributes=b("GeneratedLoggerUtils").serializeMap(a);return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={ab_test_names_to_groups:!0,attributes:!0,campaign_id:!0,campaign_type:!0,event:!0,explicit_post_id:!0,fundraiser_id:!0,has_payment_method_on_file:!0,parent_event_type:!0,source_attributes:!0,vc:!0};e.exports=a}),null);
__d("SphericalPhotoViewerTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("spherical_photo_viewer_log:SphericalPhotoViewerLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("spherical_photo_viewer_log:SphericalPhotoViewerLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("spherical_photo_viewer_log:SphericalPhotoViewerLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAvgFrameRenderTime=function(a){this.$1.avg_frame_render_time=a;return this};a.prototype.setAvgTextureToScreenRatio2=function(a){this.$1.avg_texture_to_screen_ratio2=a;return this};a.prototype.setClientUserID=function(a){this.$1.client_userid=a;return this};a.prototype.setComposerSessionID=function(a){this.$1.composer_session_id=a;return this};a.prototype.setCountry=function(a){this.$1.country=a;return this};a.prototype.setDevicePixelRatio=function(a){this.$1.device_pixel_ratio=a;return this};a.prototype.setDt=function(a){this.$1.dt=a;return this};a.prototype.setErrorCode=function(a){this.$1.error_code=a;return this};a.prototype.setErrorMessage=function(a){this.$1.error_message=a;return this};a.prototype.setErrorStackTrace=function(a){this.$1.error_stack_trace=a;return this};a.prototype.setErrorType=function(a){this.$1.error_type=a;return this};a.prototype.setEventType=function(a){this.$1.event_type=a;return this};a.prototype.setFallbackUI=function(a){this.$1.fallback_ui=a;return this};a.prototype.setIsGyroEnabled=function(a){this.$1.is_gyro_enabled=a;return this};a.prototype.setMaxGpuMemoryUsed=function(a){this.$1.max_gpu_memory_used=a;return this};a.prototype.setMaxTileLevel=function(a){this.$1.max_tile_level=a;return this};a.prototype.setName=function(a){this.$1.name=a;return this};a.prototype.setNumberOfSphericalPhoto=function(a){this.$1.number_of_spherical_photo=a;return this};a.prototype.setPhotoID=function(a){this.$1.photo_id=a;return this};a.prototype.setPitch=function(a){this.$1.pitch=a;return this};a.prototype.setRenderMethod=function(a){this.$1.render_method=a;return this};a.prototype.setSphericalPhotoSessionID=function(a){this.$1.spherical_photo_session_id=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setTotalDataLoaded=function(a){this.$1.total_data_loaded=a;return this};a.prototype.setVfov=function(a){this.$1.vfov=a;return this};a.prototype.setViewportHeight=function(a){this.$1.viewport_height=a;return this};a.prototype.setViewportWidth=function(a){this.$1.viewport_width=a;return this};a.prototype.setYaw=function(a){this.$1.yaw=a;return this};c={avg_frame_render_time:!0,avg_texture_to_screen_ratio2:!0,client_userid:!0,composer_session_id:!0,country:!0,device_pixel_ratio:!0,dt:!0,error_code:!0,error_message:!0,error_stack_trace:!0,error_type:!0,event_type:!0,fallback_ui:!0,is_gyro_enabled:!0,max_gpu_memory_used:!0,max_tile_level:!0,name:!0,number_of_spherical_photo:!0,photo_id:!0,pitch:!0,render_method:!0,spherical_photo_session_id:!0,surface:!0,total_data_loaded:!0,vfov:!0,viewport_height:!0,viewport_width:!0,yaw:!0};e.exports=a}),null);
__d("GeoMarkerIcon",["ImmutableObject"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ImmutableObject"));g=c&&c.prototype;function a(a,b,c){g.constructor.call(this,{iconPath:a,anchorU:b,anchorV:c})}e.exports=a}),null);
__d("GeoMarker",["GeoCoordinates","GeoMarkerIcon","ImmutableObject"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ImmutableObject"));g=c&&c.prototype;function a(a){var b=arguments.length<=1||arguments[1]===undefined?null:arguments[1],c=arguments.length<=2||arguments[2]===undefined?null:arguments[2];g.constructor.call(this,{position:a,icon:b,label:c})}e.exports=a}),null);
__d("GeoPath",["GeoCoordinates","ImmutableObject"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ImmutableObject"));g=c&&c.prototype;function a(a){var b=arguments.length<=1||arguments[1]===undefined?null:arguments[1],c=arguments.length<=2||arguments[2]===undefined?null:arguments[2],d=arguments.length<=3||arguments[3]===undefined?null:arguments[3],e=arguments.length<=4||arguments[4]===undefined?null:arguments[4],f=arguments.length<=5||arguments[5]===undefined?null:arguments[5];g.constructor.call(this,{points:a,weightPx:b,color:c,fillColor:d,route:e,dashed:f})}e.exports=a}),null);
__d("MeasuredComponent.react",["EventListener","React","ReactDOM","SubscriptionsHandler","emptyFunction","requestAnimationFrame"],(function(a,b,c,d,e,f){__p&&__p();var g;d=b("React").PropTypes;f=babelHelpers.inherits(c,b("React").Component);g=f&&f.prototype;function c(){var c,d;for(var e=arguments.length,f=Array(e),h=0;h<e;h++)f[h]=arguments[h];return d=(c=g.constructor).call.apply(c,[this].concat(f)),this.attachEventListeners=function(c){this.$1.engage(),b("SubscriptionsHandler").prototype.addSubscriptions.apply(this.$1,c.map(function(c){return b("EventListener").listen(a,c,this.measure)}.bind(this)))}.bind(this),this.detachEventListeners=function(){this.$1.release()}.bind(this),this.measure=function(){var a=b("ReactDOM").findDOMNode(this);a!==null&&this.props.onMeasure(a.getBoundingClientRect())}.bind(this),d}c.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";a.measureOnEvents!==this.props.measureOnEvents&&(this.detachEventListeners(),this.attachEventListeners(a.measureOnEvents))};c.prototype.componentDidUpdate=function(a,b){"use strict";this.props.shouldRemeasure(a.children,this.props.children)&&this.measure()};c.prototype.componentDidMount=function(){"use strict";this.$1=new(b("SubscriptionsHandler"))(),this.attachEventListeners(this.props.measureOnEvents),b("requestAnimationFrame")(this.measure)};c.prototype.componentWillUnmount=function(){"use strict";this.detachEventListeners(),this.$1=null};c.prototype.render=function(){"use strict";return b("React").Children.only(this.props.children)};c.propTypes={onMeasure:d.func.isRequired,measureOnEvents:d.array,shouldRemeasure:d.func};c.defaultProps={onMeasure:b("emptyFunction"),measureOnEvents:["resize","orientationchange"],shouldRemeasure:b("emptyFunction").thatReturnsFalse};e.exports=c}),null);
__d("StaticGeoMapBase.react",["cx","CurrentLocale","GeoCoordinates","GeoMarker","GeoPath","GeoRectangle","MeasuredComponent.react","React","TilesMapConfig","URI","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;a=b("React").PropTypes;var i=1.5,j=1,k=2;c=babelHelpers.inherits(l,b("React").Component);h=c&&c.prototype;function l(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={size:{width:0,height:0}},this.$1=function(a){this.setState({size:this.$3(a)}),this.props.onMapSizeChanged&&this.props.onMapSizeChanged(this.state.size)}.bind(this),this.$2=function(a,b){return a!=null&&b!=null&&(a.props.style.width!==b.props.style.width||a.props.style.height!==b.props.style.height)},b}l.getMapImageURI=function(a){__p&&__p();if(a.size.width===0||a.size.height===0)return null;var c=new(b("URI"))(b("TilesMapConfig").STATIC_MAP_URL_TEMPLATE).addQueryData("size",a.size.width+"x"+a.size.height).addQueryData("language",b("CurrentLocale").get()),d=window.devicePixelRatio||b("TilesMapConfig").DEVICE_PIXEL_RATIO;d=d<i?j:k;c.addQueryData("scale",d);a.zoom!=null&&c.addQueryData("zoom",a.zoom);a.boundingBox!=null?c.addQueryData("visible",a.boundingBox.n+","+a.boundingBox.w+"|"+a.boundingBox.s+","+a.boundingBox.e):a.center!=null&&c.addQueryData("center",a.center.latitude+","+a.center.longitude);a.markers!=null&&a.markers.length>0&&c.addQueryData("marker_list",a.markers.map(function(a){return(a.icon==null?"":"icon:"+a.icon.iconPath+"|anchor:"+a.icon.anchorU+","+a.icon.anchorV+"|")+a.position.latitude+","+a.position.longitude}));a.paths!=null&&a.paths.length>0&&c.addQueryData("paths",a.paths.map(function(a){__p&&__p();var b=[];if(a.color!==null){var c=a.color.toString(16).toUpperCase();c="0".repeat(8-c.length)+c;b.push("color:0x"+c)}if(a.fillColor!==null){c=a.fillColor.toString(16).toUpperCase();c="0".repeat(8-c.length)+c;b.push("fillcolor:0x"+c)}a.weightPx!==null&&b.push("weight:"+a.weightPx);a.route!==null&&b.push("route:"+a.route);for(var c=0;c<a.points.length;c++){var d=a.points[c];b.push(d.latitude+","+d.longitude)}return b.join("|")}));return c};l.prototype.render=function(){__p&&__p();var a=l.getMapImageURI({size:this.state.size,zoom:this.props.zoom,boundingBox:this.props.boundingBox,center:this.props.center,markers:this.props.markers,paths:this.props.paths}),c=this.props;c.width;c.height;c.center;c.zoom;c.boundingBox;c.markers;c.paths;c=babelHelpers.objectWithoutProperties(c,["width","height","center","zoom","boundingBox","markers","paths"]);a=babelHelpers["extends"]({width:this.props.width,height:this.props.height,backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",backgroundImage:a==null?"none":"url("+a.toString()+")"},this.props.borderRadius?{borderRadius:this.props.borderRadius}:{});return b("React").createElement(b("MeasuredComponent.react"),{onMeasure:this.$1,shouldRemeasure:this.$2},b("React").createElement("div",babelHelpers["extends"]({},c,{className:b("joinClasses")(this.props.className,"_56x5"),style:a}),this.props.children))};l.prototype.$3=function(a){var b=this.props.width.endsWith("px")?Number(this.props.width.replace(/px/,"")):0,c=this.props.height.endsWith("px")?Number(this.props.height.replace(/px/,"")):0;return{width:a.width||b,height:a.height||c}};l.propTypes={width:a.any.isRequired,height:a.any.isRequired,source:a.string.isRequired,center:a.instanceOf(b("GeoCoordinates")),zoom:a.number,boundingBox:a.instanceOf(b("GeoRectangle")),markers:a.arrayOf(a.instanceOf(b("GeoMarker"))),paths:a.arrayOf(a.instanceOf(b("GeoPath"))),borderRadius:a.number};e.exports=l}),null);
__d("XTilesMapReporterController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/maps/report/",{static_map_url:{type:"String",required:!0}})}),null);
__d("mapsConnectReportButton",["React","StaticGeoMapBase.react","URI","XTilesMapReporterController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();return function(){__p&&__p();var c,d;c=babelHelpers.inherits(e,b("React").Component);d=c&&c.prototype;function e(){__p&&__p();var a,c;for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return c=(a=d.constructor).call.apply(a,[this].concat(f)),this.state={isConfirmDialogShown:!1,mapWidth:0,mapHeight:0},this.$2=function(a){this.setState({isConfirmDialogShown:a})}.bind(this),this.$1=function(a){a.preventDefault(),a.stopPropagation(),this.setState({isConfirmDialogShown:!this.state.isConfirmDialogShown})}.bind(this),this.$5=function(a){this.setState({mapWidth:a.width,mapHeight:a.height})}.bind(this),this.$4=function(){this.setState({isConfirmDialogShown:!1})}.bind(this),this.$3=function(){this.setState({isConfirmDialogShown:!1});var a=b("StaticGeoMapBase.react").getMapImageURI({size:{width:this.state.mapWidth,height:this.state.mapHeight},zoom:this.props.zoom,boundingBox:this.props.boundingBox,center:this.props.center,markers:this.props.markers});if(a!=null){a=b("XTilesMapReporterController").getURIBuilder().setString("static_map_url",a.toString()).getURI();a.setSubdomain&&a.setSubdomain("www");window.open(a)}}.bind(this),c}e.prototype.render=function(){"use strict";return b("React").createElement(a,babelHelpers["extends"]({},this.props,{onReportButtonClick:this.$1,onConfirmDialogToggle:this.$2,onConfirmDialogOpenButtonClick:this.$3,onConfirmDialogCancelButtonClick:this.$4,onMapSizeChanged:this.$5,isConfirmDialogShown:this.state.isConfirmDialogShown}))};return e}()}e.exports=a}),null);
__d("StaticGeoMapDesktopWeb.react",["cx","fbt","mapsConnectReportButton","partitionObjectByKey","React","StaticGeoMapBase.react","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogFooter.react","XUIDialogButton.react","XUIDialogCancelButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(){return this.props.showReportButton?b("React").createElement("span",{className:"_2b80",onClick:this.props.onReportButtonClick,ref:"reportButton",role:"button",tabIndex:"0"},h._("B\u00e1o c\u00e1o")):null}.bind(this),this.$2=function(){return this.props.showReportButton?b("React").createElement(b("XUIContextualDialog.react"),{alignment:"right",contextRef:function(){return this.refs.reportButton}.bind(this),shown:this.props.isConfirmDialogShown,onToggle:this.props.onConfirmDialogToggle,position:"above",width:b("XUIContextualDialog.react").WIDTH.NORMAL},b("React").createElement(b("XUIContextualDialogBody.react"),null,h._("B\u1ea3n \u0111\u1ed3 n\u00e0y do nh\u00e0 cung c\u1ea5p c\u1ee7a b\u00ean th\u1ee9 ba v\u1eadn h\u00e0nh. B\u1ea1n s\u1ebd \u0111\u01b0\u1ee3c chuy\u1ec3n h\u01b0\u1edbng t\u1edbi h\u1ecd \u0111\u1ec3 cung c\u1ea5p ph\u1ea3n h\u1ed3i.")),b("React").createElement(b("XUIContextualDialogFooter.react"),null,b("React").createElement(b("XUIDialogCancelButton.react"),{onClick:this.props.onConfirmDialogCancelButtonClick}),b("React").createElement(b("XUIDialogButton.react"),{onClick:this.props.onConfirmDialogOpenButtonClick,use:"confirm",label:h._("M\u1edf")}))):null}.bind(this),c}a.prototype.render=function(){return b("React").createElement("span",null,b("React").createElement(b("StaticGeoMapBase.react"),babelHelpers["extends"]({},k(this.props),{onMapSizeChanged:this.props.onMapSizeChanged}),this.$1()),this.$2())};a.propTypes=babelHelpers["extends"]({},b("StaticGeoMapBase.react").propTypes,{showReportButton:c.bool.isRequired,onReportButtonClick:c.func.isRequired,onConfirmDialogToggle:c.func.isRequired,onConfirmDialogOpenButtonClick:c.func.isRequired,onConfirmDialogCancelButtonClick:c.func.isRequired,onMapSizeChanged:c.func.isRequired,isConfirmDialogShown:c.bool.isRequired});a.defaultProps={showReportButton:!0};a=b("mapsConnectReportButton")(a);var j=new Set(Object.keys(b("StaticGeoMapBase.react").propTypes));function k(a){return b("partitionObjectByKey")(a,j)[0]}e.exports=a}),null);
__d("PopoverMenuShowOnHover",["DOM","Event"],(function(a,b,c,d,e,f){__p&&__p();var g=250;function a(a){"use strict";this._handleOnSetMenu=function(){this._attachMouseListeners(this._popoverMenu.getPopover().getLayer().getRoot())}.bind(this),this._popoverMenu=a,this._listeners=[]}a.prototype.enable=function(){"use strict";this._attachMouseListeners(this._popoverMenu.getTriggerElem()),this._setMenuSubscription=this._popoverMenu.subscribe("setMenu",this._handleOnSetMenu)};a.prototype.disable=function(){"use strict";this._lastHoverEventTime=null;while(this._listeners.length)this._listeners.pop().remove();this._setMenuSubscription&&(this._setMenuSubscription.unsubscribe(),this._setMenuSubscription=null)};a.prototype._attachMouseListeners=function(a){"use strict";this._listeners.push(b("Event").listen(a,"mouseleave",function(a){if(b("DOM").contains(this._popoverMenu.getTriggerElem(),a.relatedTarget)||b("DOM").contains(this._popoverMenu.getMenu().getRoot(),a.relatedTarget))return;this._popoverMenu.getPopover().hideLayer(a)}.bind(this)),b("Event").listen(a,"mouseenter",function(a){this._lastHoverEventTime=Date.now(),this._popoverMenu.getPopover().showLayer()}.bind(this)),b("Event").listen(a,"click",function(a){Date.now()<this._lastHoverEventTime+g&&a.stop()}.bind(this)))};e.exports=a}),null);
__d("Tour",["Arbiter","LayerDestroyOnHide","LayerHideOnEscape","NavigationMessage","PageEvents"],(function(a,b,c,d,e,f){__p&&__p();function g(){"use strict";g._instance&&g._instance.setTourComplete(),g._instance=this}g.prototype.init=function(){"use strict";this._pageLeaveToken=b("Arbiter").subscribe(b("PageEvents").AJAXPIPE_ONUNLOAD,this.handleLeavePage.bind(this));this._navigationBeginToken=b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,this.handleTransition.bind(this));this.steps={};return this};g.prototype.registerStep=function(a,c){"use strict";a.disableBehavior(b("LayerDestroyOnHide")),a.disableBehavior(b("LayerHideOnEscape")),this.steps[c]=a,a.subscribe("show",function(){a.inform("tour-dialog-show",a)}),this.getTourStarted()||this.setTourStart()};g.prototype._unsubscribeSubscriptions=function(){"use strict";this._navigationBeginToken.unsubscribe(),this._pageLeaveToken.unsubscribe()};g.prototype.handleLeavePage=function(){"use strict";this._unsubscribeSubscriptions()};g.prototype.handleTransition=function(){"use strict";this._unsubscribeSubscriptions()};g.prototype.handleTourStart=function(){"use strict"};g.prototype.handleTourStop=function(){"use strict"};g.prototype.handleTourComplete=function(){"use strict"};g.prototype.showStep=function(a){"use strict";a=this.steps[a];this.openDialog==a||this.hideOpenDialog();if(!a)return;this.openDialog=a;a.show()};g.prototype.hideOpenDialog=function(){"use strict";this.openDialog&&(this.openDialog.hide(),this.openDialog=null)};g.prototype.getTourStarted=function(){"use strict";return this.tourStarted};g.prototype.setTourStart=function(){"use strict";this.tourStarted=!0,this.handleTourStart()};g.prototype.setTourStop=function(){"use strict";this.tourStarted=!1,this.hideOpenDialog(),this.handleTourStop()};g.prototype.setTourComplete=function(){"use strict";if(this.tourComplete)return;this.setTourStop();this.tourComplete=!0;this.handleTourComplete()};g.prototype.hideStep=function(a){"use strict";a=this.steps[a];a&&a.hide()};g.getInstance=function(){"use strict";return g._instance||(g._instance=new g())};Object.assign(g.prototype,{tourStarted:!1,tourComplete:!1,_navigationBeginToken:null,_pageLeaveToken:null,steps:{},openDialog:null});e.exports=g}),null);
__d("EgoActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMP:1,CLICK:2,CONVERSION:4,SUPPRESS:8,NEXT:16,ERROR:32,XOUT:24,NONE:0})}),null);
__d("EgoPageServiceConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FAN:"fan",UNFAN:"unfan",PAGE_VIEW:"page_view",FRIEND_VIEW:"friend_view",SEE_ALL:"see_all",ADD_INTEREST:"add_interest",CONTEXT_ITEM:"tap_context_item",BOOST_POST:"tap_boost_post",WATCH_AS_PAGE:"watch_as_page",UNWATCH_AS_PAGE:"unwatch_as_page",SHOP_VIEW:"shop_view",MESSAGE:"message",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe"})}),null);
__d("XPubcontentInteractionLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pubcontent/suggestions/interaction_logging/",{})}),null);
__d("PageFanning",["ActorURI","Animation","AsyncRequest","ConnectionsPYMLTypedLogger","CSS","DOM","EgoActionType","EgoPageServiceConstants","Parent","URI","XPubcontentInteractionLoggingController","$","collectDataAttributes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={setFanStatus:function(a,c,d,e,f,i,j){__p&&__p();var k={ft:{}};a&&(k={ft:b("collectDataAttributes")(a,["ft"]).ft});var l=new(b("URI"))(window.location.href).getQueryData();d&&(l.ref==="pyml_feed"?new(b("ConnectionsPYMLTypedLogger"))().setEvent("like_page").setLikeSource("profile").setPageID(parseInt(c,10)).log():l.ref==="pyml_permalink"&&new(b("ConnectionsPYMLTypedLogger"))().setEvent("like_page").setLikeSource("post_permalink").setPageID(parseInt(c,10)).log());f=f||function(b){b=b.getPayload();if(!b||!a)return;b.reload?g.reloadOnFanStatusChanged():h(a,b)};l={fbpage_id:c,add:d,reload:e};j!=null&&Object.assign(l,j);Object.assign(l,k);c="/ajax/pages/fan_status.php";j!=null&&j.actor_id!=null&&(c=b("ActorURI").create(c,j.actor_id));e=new(b("AsyncRequest"))().setURI(c).setData(l).setNectarModuleDataSafe(a).setHandler(f);i&&e.setErrorHandler(i);e.send();if(j.fan_origin==="PSYM"&&d&&j.egodata!==null){k={q:j.egodata,action:b("EgoPageServiceConstants").FAN,action_type:b("EgoActionType").CONVERSION};new(b("AsyncRequest"))().setMethod("POST").setURI(b("XPubcontentInteractionLoggingController").getURIBuilder().getURI()).setData(k).send()}return!1},reloadOnFanStatusChanged:function(){var a=b("URI").getRequestURI();window.location.href=a},toggleLikeOnFanStatusChanged:function(a,c){var d=b("$")("liked_pages_like_action_"+a);a=b("$")("liked_pages_undo_action_"+a);b("CSS").conditionClass(d,"hidden_elem",c);b("CSS").conditionClass(a,"hidden_elem",!c)}};function h(a,c){var d=c.feedback;if(!d)return;b("Parent").byClass(a,"fbTimelineEscapeSectionItem")&&(a=b("Parent").byClass(a,"fan_status_inactive")||a);var e=b("DOM").create("span",{className:"fan_status_inactive"},d);a.parentNode.replaceChild(e,a);d=function(){c.can_repeat_action&&e.parentNode.replaceChild(a,e)};new(b("Animation"))(e).duration(3e3).checkpoint().to("backgroundColor","#FFFFFF").duration(1e3).ondone(d).go()}e.exports=g}),null);
__d("PagesLikeFollowNotifActions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INIT_DATA:"init_data",LIKE:"like",UNLIKE:"unlike",FOLLOW_CHANGED:"follow_changed",SNOOZE_CHANGED:"snooze_changed",NOTIF_CHANGE:"notif_change",NOTIF_ALL_ON:"notif_all_on",NOTIF_ALL_OFF:"notif_all_off",NEWS_FEED_CHANGE:"news_feed_change"})}),null);
__d("PagesLikeFollowNotifDispatcher",["Arbiter","ExplicitRegistrationReactDispatcher","PageLikeConstants","PagesLikeFollowNotifActions","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a);a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Arbiter").subscribe(b("PageLikeConstants").LIKED,function(a,b){return this.dispatchLike(b.profile_id)}.bind(this)),b("Arbiter").subscribe(b("PageLikeConstants").UNLIKED,function(a,b){return this.dispatchUnlike(b.profile_id)}.bind(this)))}a.prototype.dispatchLike=function(a){this.dispatch({type:b("PagesLikeFollowNotifActions").LIKE,data:{pageID:a,likeStatus:!0}})};a.prototype.dispatchUnlike=function(a){this.dispatch({type:b("PagesLikeFollowNotifActions").UNLIKE,data:{pageID:a,likeStatus:!1}})};e.exports=new a({strict:!0})}),null);
__d("PagesFollowStore",["FluxReduceStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){var d=babelHelpers["extends"]({},a);switch(c.type){case b("PagesLikeFollowNotifActions").INIT_DATA:if(c.data.pageID in a)return a;d[c.data.pageID]=c.data.followStatus;return d;case b("PagesLikeFollowNotifActions").FOLLOW_CHANGED:d[c.data.pageID]=c.data.followStatus;return d}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PagesLikeFollowNotifDispatcher"))}),null);
__d("FundraiserCampaignType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FACEBOOK_TO_USER:1,DONATE_BUTTON_ON_PAGE:2,DONATE_BUTTON_ON_ADS:3,CHARITY_TO_USER:4,DONATE_BUTTON_ON_POST:5,USER_TO_CHARITY:6,DONATE_BUTTON_ON_LIVE_VIDEO:7,LIGHTWEIGHT_FUNDRAISER_FOR_STORY:8,PERSON_FOR_PERSON:9,CRISIS_FOR_CHARITY:10})}),null);
__d("SocialGoodCharityActionsLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INITIALIZATION_DEBUG:"initialization_debug",INITIALIZATION_BEGIN:"initialization_begin",INITIALIZATION_ERROR:"initialization_error",INITIALIZATION:"initialization",PREPARE_PAYMENT_METHOD:"prepare_payment_method",VIEW_PUX_DONATE_FORM:"view_pux_donate_form",VIEW_NUX_DONATE_FORM:"view_nux_donate_form",PUX_METHOD:"pux_method",NUX_METHOD:"nux_method",FRAUD_CHECK_BEGIN:"fraud_check_begin",FRAUD_CHECK:"fraud_check",CHARGE_CREDENTIAL:"charge_credential",SEND_NMOR_DONATION_REQUEST:"send_nmor_donation_request",RECEIVE_NMOR_DONATION_RESPONSE:"receive_nmor_donation_response",COMPLETE_DONATE:"complete_donate",SHARE_EMAIL_WITH_CHARITY:"share_email_with_charity",GENERATE_SOCIAL_CONTEXT:"generate_social_context",DELETE_DONATION:"delete_donation",FUNDRAISER_PAGE_SHARE_IMPRESSION:"fundraiser_page_share_impression",CREATE_PROMO_FUNDRAISER_BEGIN:"create_promo_fundraiser_begin",CREATE_PROMO_SELECT_CHARITY:"create_promo_select_charity",CREATE_PROMO_SEE_MORE_CHARITIES:"create_promo_see_more_charities",CREATE_FUNDRAISER_BEGIN:"create_fundraiser_begin",CREATE_FUNDRAISER_UNPUBLISHED:"create_fundraiser_unpublished",CREATE_FUNDRAISER_PUBLISHED:"create_fundraiser_published",EDIT_FUNDRAISER_BEGIN:"edit_fundraiser_begin",EDIT_FUNDRAISER_COMPLETE:"edit_fundraiser_complete",EDIT_P4P_BENEFICIARY:"edit_p4p_beneficiary",INTERACT_WITH_MISSION_CARD:"interact_with_mission_card",TOGGLE_NOTIFICATIONS_ON_FUNDRAISER:"toggle_notifications_on_fundraiser",REMOVE_SELF_FROM_INVITE_LIST:"remove_self_from_invite_list",STRIPE_CREATION_REQUIRES_INFO:"stripe_creation_requires_info",FUNDRAISER_APPROVED_BY_SRT:"fundraiser_approved_by_srt",FUNDRAISER_REJECTED_BY_SRT:"fundraiser_rejected_by_srt",FUNDRAISER_PAUSED_BY_SRT:"fundraiser_paused_by_srt",FUNDRAISER_UNPAUSED_BY_SRT:"fundraiser_unpaused_by_Srt",FUNDRAISER_DONATION_FLOW_EMAIL_OPT_IN_CHECKED:"fundraiser_donation_flow_email_opt_in_checked",FUNDRAISER_DONATION_FLOW_EMAIL_OPT_OUT_CHECKED:"fundraiser_donation_flow_email_opt_out_checked",DIALOG_BEFORE_UNLOAD:"dialog_before_unload",DIALOG_CANCEL:"dialog_cancel",DIALOG_CONFIRM:"dialog_confirm",DIALOG_UNLOAD:"dialog_unload",DIALOG_VALIDATION_ERROR:"dialog_validation_error",CHANGE_CATEGORY:"change_category",CHANGE_TITLE:"change_title",CHANGE_DESCRIPTION:"change_description",CHANGE_END_DATE:"change_end_date",CHANGE_GOAL_AMOUNT:"change_goal_amount",CHANGE_CURRENCY:"change_currency",CHANGE_COVER_PHOTO:"change_cover_photo",CHOOSE_OTHER_CATEGORY:"choose_other_category",REPOSITION_COVER_PHOTO:"reposition_cover_photo",UPLOAD_COVER_PHOTO_SUCCESS:"upload_cover_photo_success",UPLOAD_COVER_PHOTO_FAIL:"upload_cover_photo_fail",CHANGE_COVER_PHOTO_BEGIN:"change_cover_photo_begin",CHANGE_CHARITY:"change_charity",SEARCH_RESPONSE:"search_response",VIEW_CHARITY_ON_SELECTOR:"view_charity_on_selector",SEARCH_RESPONSE_EMPTY:"search_response_empty",SEARCH_GRAPHQL_RESPONSE_EMPTY:"search_graphql_response_empty",SEARCH_CHARITIES:"search_charities",SEARCH_CATEGORIES:"search_categories",DELETE_BEGIN:"delete_begin",DELETE_COMPLETE:"delete_complete",VIEW_CREATE_FORM:"view_create_form",END_FUNDRAISER_BEGIN:"end_fundraiser_begin",END_FUNDRAISER_COMPLETE:"end_fundraiser_complete",DISABLE_FUNDRAISER_FOR_STORY_BEGIN:"disable_fundraiser_for_story_begin",DISABLE_FUNDRAISER_FOR_STORY_COMPLETE:"disable_fundraiser_for_story_complete",CREATE_FLOW_MULTISTEP_BASIC_INFO:"create_flow_multistep_basic_info",CREATE_FLOW_MULTISTEP_STORY:"create_flow_multistep_story",CREATE_FLOW_MULTISTEP_MEDIA:"create_flow_multistep_media",CONFIRM_INFO_DIALOG:"confirm_info_dialog",VIEW_INFO_DIALOG:"view_info_dialog",SEARCH_BENEFICIARIES:"fundraiser_creation_search_beneficiaries",CHANGE_BENEFICIARY:"change_beneficiary",OPEN_CHARITY_BENEFICIARY_SELECTOR:"open_charity_beneficiary_selector",OPEN_CUSTOM_BENEFICIARY_FLOW:"open_custom_beneficiary_flow",OPEN_FRIEND_BENEFICIARY_SELECTOR:"open_friend_beneficiary_selector",VIEW_BENEFICIARY_SELECTOR:"view_beneficiary_selector",NONPROFIT_KEYWORD_DETECTED:"nonprofit_keyword_detected",LOAD_NONPROFIT_DETECTED_DIALOG:"load_nonprofit_detected_dialog",CHOOSE_CREATE_P4P_ANYWAYS:"choose_create_p4p_anyways",CHOOSE_CREATE_P4C_INSTEAD:"choose_create_p4c_instead",CREATE_FLOW_CHANGE_P4P_CURRENCY:"fundraiser_change_p4p_currency",CREATE_FLOW_CHANGE_P4P_COUNTRY:"fundraiser_change_p4p_country",CREATE_FLOW_TAPPED_P4P_CHANGE_COUNTRY:"fundraiser_tapped_p4p_change_country",CREATE_FLOW_TAPPED_P4P_CHANGE_CURRENCY:"fundraiser_tapped_p4p_change_currency",INVITE_DIALOG_INITIAL_LOAD:"invite_dialog_inital_load",INVITE_DIALOG_BOOTSTRAP_ENTRIES:"invite_dialog_bootstrap_entries",INVITE_DIALOG_BOOTSTRAP_FILTER_GROUPS:"invite_dialog_bootstrap_filter_groups",INVITE_DIALOG_UPDATE_QUERY:"invite_dialog_update_query",INVITE_DIALOG_SELECT_ENTRY:"invite_dialog_select_entry",INVITE_DIALOG_DESELECT_ENTRY:"invite_dialog_deselect_entry",INVITE_DIALOG_SELECT_ALL_ENTRIES:"invite_dialog_select_all_entries",INVITE_DIALOG_DESELECT_ALL_ENTRIES:"invite_dialog_deselect_all_entries",INVITE_DIALOG_EXPAND_GROUP:"invite_dialog_expand_group",INVITE_DIALOG_COLLAPSE_GROUP:"invite_dialog_collaps_group",INVITE_DIALOG_SET_ACTIVE_FILTER:"invite_dialog_set_active_filter",INVITE_DIALOG_SET_DONATED_TO_FUNDRAISER_FILTER:"invite_dialog_set_donated_to_fundraiser_filter",INVITE_DIALOG_SET_GROUP_FILTER:"invite_dialog_set_group_filter",INVITE_DIALOG_SET_FRIEND_FILTER:"invite_dialog_set_friend_filter",INVITE_DIALOG_SET_MUTUAL_FRIENDS_FILTER:"invite_dialog_set_mutual_friends_filter",INVITE_DIALOG_SET_POSTED_BIRTHDAY_WISH_FILTER:"invite_dialog_set_posted_birthday_wish_filter",INVITE_USER_DIALOG_OPEN:"invite_user_dialog_open",INVITE_USER_FRIEND_INVITER_SEND:"invite_user_friend_inviter_send",INVITE_USER_COMPLETE:"invite_user_complete",INVITE_EMAIL_DIALOG_OPEN:"invite_email_dialog_open",INVITE_EMAIL_COMPLETE:"invite_email_complete",VIEW_USER_ON_INVITE_FLOW:"view_user_on_invite_flow",CHANGE_DONATION_AMOUNT:"change_donation_amount",CHOOSE_PAYMENT_METHOD:"choose_payment_method",CLICK_ADD_PAYMENT_METHOD:"click_add_payment_method",ADD_PAYMENT_METHOD:"add_payment_method",REDIRECT_TO_PAYPAL:"redirect_to_paypal",WRITE_DONATION_STORY:"write_donation_story",VIEW_FUNDRAISER_SUPPORTERS:"view_fundraiser_supporters",DONATE_CLICK:"donate_click",DONATE_CANCEL:"donate_cancel",LEARN_MORE_CLICK:"learn_more_click",INVITE_CLICK:"invite_click",REACTION_INVITE_CLICK_DEPRECATED:"reaction_invite_click",INVITE_COMPLETE:"invite_complete",SHARE_CLICK:"share_click",SHARE_CLICK_CANCEL:"share_click_cancel",SHARE_COMPLETE:"share_complete",SHARE_DONATION_COMPLETE:"share_donation_complete",SHARE_FAIL:"share_fail",COPY_LINK_CLICK:"copy_link_click",JOIN_CLICK:"join_click",JOIN_COMPLETE:"join_complete",LEAVE_CLICK:"leave_click",LEAVE_CONFIRM:"leave_confirm",LEAVE_CANCEL:"leave_cancel",LEAVE_COMPLETE:"leave_complete",UNFOLLOW_CLICK:"unfollow_click",UNFOLLOW_COMPLETE:"unfollow_complete",FOLLOW_CLICK:"follow_click",FOLLOW_COMPLETE:"follow_complete",FUNDRAISER_RHC_TIP_X_OUT:"fundraiser_rhc_tip_x_out",FUNDRAISER_PROMPT_RENDER:"fundraiser_prompt_render",FUNDRAISER_FOR_STORY_TIP_DISMISS:"fundraiser_for_story_tip_dismiss",FUNDRAISER_FOR_STORY_TIP_ACTION_CLICK:"fundraiser_for_story_tip_action_click",FUNDRAISER_FOR_STORY_SET_GOAL_AMOUNT:"fundraiser_for_story_set_goal_amount",UNSAVE_COMPLETE:"unsave_complete",SAVE_COMPLETE:"save_complete",VIEW_FUNDRAISER:"view_fundraiser",VIEW_FUNDRAISER_RHC:"view_fundraiser_rhc",VIEW_BOOKMARK_HUB:"view_bookmark_hub",VIEW_BOOKMARK_HUB_TAB:"view_bookmark_hub_tab",VIEW_BOOKMARK_FUNDRAISER_PAGINATION:"view_bookmark_fundraiser_pagination",VIEW_FUNDRAISER_HUB_CATEGORY:"view_fundraiser_hub_category",VIEW_GIVING_TUESDAY_FUNDRAISER_PAGINATION:"view_giving_tuesday_fundraiser_pagination",VIEW_PAGE_FUNDRAISERS_TAB:"view_page_fundraisers_tab",VIEW_FUNDRAISER_CREATION_LANDING_PAGE:"view_fundraiser_creation_landing_page",VIEW_FUNDRAISER_CREATION_REDIRECT:"view_fundraiser_creation_redirect",VIEW_FUNDRAISER_CREATION_PENDING_DIALOG:"view_fundraiser_creation_pending_dialog",VIEW_FUNDRAISER_CREATION_PENDING_EDIT_DIALOG:"view_fundraiser_creation_pending_edit_dialog",VIEW_CREATE_OUTRO_DIALOG:"view_create_outro_dialog",VIEW_ABOUT_FUNDRAISERS:"view_about_fundraisers",VIEW_FUNDRAISER_HUB_BIRTHDAY_TAB:"view_fundraiser_hub_birthday_tab",VIEW_FUNDRAISER_HUB_PERSONAL_TAB:"view_fundraiser_hub_personal_tab",INVITE_NULL_MISSION:"invite_null_mission",PERSONAL_UPDATE_NULL_MISSION:"personal_update_null_mission",SEE_SELF_DONATIONS:"see_self_donations",COMPOSE_CLICK:"compose_click",CREATE_POST:"create_post",CREATE_COMMENT:"create_comment",DELETE_POST:"delete_post",DELETE_COMMENT:"delete_comment",PAGE_VERIFICATION_INITIALIZED:"page_verification_initialized",PAGE_TERM_REVIEW_INITIALIZED:"page_term_review_initialized",PAYMENT_APPLICATION_INITIALIZED:"payment_application_initialized",ONBOARDING_PAGE_LOAD:"onboarding_page_load",CHARITY_SRT_FLOW:"charity_srt_flow",CHARITY_SRT_JOB_APPROVED:"charity_srt_job_approved",CHARITY_SRT_JOB_CREATION:"charity_srt_job_creation",CHARITY_SRT_JOB_DECISION:"charity_srt_job_decision",CHARITY_SRT_THREAD_CREATION:"charity_srt_thread_creation",CHARITY_SRT_UNDO_COMPLIANCE_REVIEW:"charity_srt_undo_compliance_review",CHARITY_VERIFICATION_DOCUMENT_UPLOAD:"charity_verification_document_upload",CHARITY_VERIFICATION_DOCUMENT_UPLOAD_COMPLETE:"charity_verification_document_upload_complete",CHARITY_CREATION:"charity_creation",CHARITY_CREATION_COMPLETE:"charity_creation_complete",CHARITY_TRANSACTION_REPORTS:"charity_transaction_reports",TERMS_ACCEPT_PAGE_LOAD:"terms_accept_page_load",TERMS_ACCEPT:"terms_accept",ORGANIZATION_DETAILS:"organization_details",LEADERSHIP_INFO:"leadership_info",PAYMENT_INFO:"payment_info",ENTITY_CREATION:"entity_creation",MISSING_GRAPHQL_FIELDS:"fundraiser_page_missing_fields",GOTO_PAGE_SUBTITLE:"fundraiser_charity_page_subtitle",GOTO_PAGE_ACTIONBAR:"fundraiser_page_tapped_go_to_page",PERSONAL_UPDATE_BEGIN:"personal_update_begin",PERSONAL_UPDATE_SEND_MESSAGE:"personal_update_send_message",PERSONAL_UPDATE_SEND_EMAIL:"personal_update_send_email",PERSONAL_UPDATE_SEND_COUNT:"personal_update_send_count",XMA_BAD_DONATE_LINK:"fundraiser_xma_bad_donate_link",XMA_FALLBACK_VIEW:"fundraiser_xma_fallback_view",XMA_TAP_ATTACHMENT:"fundraiser_xma_tap_attachment",XMA_TAP_DONATE:"fundraiser_xma_tap_donate",XMA_VIEW:"fundraiser_xma_view",XMA_VIEW_DONATE_BUTTON:"fundraiser_xma_view_donate_button",SINGLE_CLICK_INVITE_SENT:"fundraiser_single_click_invite_sent",SINGLE_CLICK_INVITE_SENT_FAILURE:"fundraiser_single_click_invite_sent_failure",SINGLE_CLICK_INVITE_FETCH_DATA_FAILURE:"fundraiser_single_click_invite_fetch_data_failure",SINGLE_CLICK_INVITE_VIEW:"fundraiser_single_click_invite_view",POST_DONATION_BUTTON_TAP:"fundraiser_thank_you_button_tap",POST_DONATION_VIEW:"fundraiser_view_thank_you",QUICK_PROMOTION_IMPRESSION:"quick_promotion_impression",QUICK_PROMOTION_PRIMARY_CLICK:"quick_promotion_primary_click",QUICK_PROMOTION_SECONDARY_CLICK:"quick_promotion_secondary_click",QUICK_PROMOTION_DISMISS_CLICK:"quick_promotion_dismiss_click",POST_STATUS_UPDATE:"post_status_update",SHOW_POST_UPSELL:"show_post_upsell",SUPPRESSED_POST_UPSELL:"suppressed_post_upsell",CLOSE_POST_UPSELL:"close_post_upsell",FUNDRAISER_FOR_STORY_CHARITY_CLICK:"fundraiser_for_story_charity_click",PERSONAL_CAUSE_ANALYSIS_RULE_MATCHED:"personal_cause_analysis_rule_matched",FUNDRAISER_AUTONOTIFY_COMPLETE:"fundraiser_autonotify_complete",LIVE_VIDEO_ATTACHMENT_VIEW:"fundraiser_live_video_attachment_view",LIVE_VIDEO_START:"fundraiser_live_video_start",CANCEL:"cancel",CONFIRM:"confirm",HIDE:"hide",NOTIF_CAPPED_NOT_SENT:"notif_capped_not_sent",NOTIF_CLICK:"notif_click",NOTIF_GENERATE:"notif_generate",NOTIF_IMPRESSION:"notif_impression",NOTIF_MARKASREAD:"notif_markasread",NOTIF_MARKASSEEN:"notif_markasseen",NOTIF_NEGATIVE_FEEDBACK:"notif_negative_feedback",CHANGE_MASTER_NOTIF_SETTING:"change_master_notif_setting",EXTERNAL_APP_DONATION:"external_app_donation",EXTERNAL_APP_DONATION_DELETION:"external_app_donation_deletion",FAQ_VIEW_ANSWER:"faq_view_answer",FAQ_SHARE_ARTICLE:"faq_share_article",IDLE_TO_DONATE_BANNER_SHOWN:"idle_to_donate_banner_shown",IDLE_TO_DONATE_BANNER_DISMISSED:"idle_to_donate_banner_dismissed",OUTRO_SHOWN:"fundraiser_outro_shown",OUTRO_DISMISSED:"fundraiser_outro_dismissed",DONATION_THANK_YOU_COMMENT_DIALOG_OPEN:"donation_thank_you_comment_dialog_open",DONATION_THANK_YOU_COMMENT_COMPLETE:"donation_thank_you_comment_complete",FUNDRAISER_ACTIVATION:"fundraiser_activation",FUNDRAISER_GOAL_HIT:"fundraiser_goal_hit",FUNDRAISER_LIVE_STARTING:"fundraiser_live_broadcast_starting",FUNDRAISER_LIVE_RECORDING:"fundraiser_live_broadcast_recording",FUNDRAISER_TAP_NONPROFIT_POST:"tap_nonprofit_post",FUNDRAISER_SHARE_NONPROFIT_POST:"share_nonprofit_post",INTERESTED_COMPLETE:"interested_complete",UNINTERESTED_COMPLETE:"uninterested_complete",FUNDRAISER_CHECKLIST_EXPAND_ITEM:"expand_creator_checklist_item",FUNDRAISER_CHECKLIST_TAP_CTA:"tap_creator_checklist_item_cta",QP_AUCTION_FUNDRAISER_IMPRESSION:"qp_auction_fundraiser_impression",QP_AUCTION_FUNDRAISER_CLICK:"qp_auction_fundraiser_click",FUNDRAISER_CREATE_OPT_OUT_PREFILL_TITLE:"fundraiser_create_opt_out_prefill_title",FUNDRAISER_CREATE_OPT_OUT_PREFILL_DESCRIPTION:"fundraiser_create_opt_out_prefill_description",FUNDRAISER_SEARCH_QUERY:"fundraiser_search_query",FUNDRAISER_SEARCH_RESULTS:"fundraiser_search_results",FUNDRAISER_SEARCH_RESPONSE_EMPTY:"fundraiser_search_response_empty",FUNDRAISER_SEARCH_LOAD_MORE:"fundraiser_search_load_more",FUNDRAISER_SEARCH_LOAD_MORE_RESPONSE_EMPTY:"fundraiser_search_load_more_response_empty",CONFIRM_FUNDRAISER_MATCH_BEGIN:"confirm_fundraiser_match_begin",CONFIRM_FUNDRAISER_MATCH_CANNOT_AUTOCHARGE:"confirm_fundraiser_match_cannot_autocharge",CONFIRM_FUNDRAISER_MATCH_PAID:"confirm_fundraiser_match_paid",CONFIRM_FUNDRAISER_MATCH_COMPLETE:"confirm_fundraiser_match_complete",CONFIRM_FUNDRAISER_MATCH_VIEW_INTERSTITIAL:"confirm_fundraiser_match_view_interstitial",CONFIRM_FUNDRAISER_MATCH_ZERO_AMOUNT:"confirm_fundraiser_match_zero_amount",CREATE_FUNDRAISER_MATCH_BEGIN:"create_fundraiser_match_begin",CREATE_FUNDRAISER_MATCH_COMPLETE:"create_fundraiser_match_complete",CREATE_FUNDRAISER_MATCH_VIEW_INTERSTITIAL:"create_fundraiser_match_view_interstitial",CREATE_FUNDRAISER_MATCHING_RULE:"create_fundraiser_matching_rule",CREATE_FUNDRAISER_MATCHING_POOL_COMPLETE:"create_fundraiser_matching_pool_complete",DONATION_MATCH_COMPLETE:"donation_match_complete",EDIT_FUNDRAISER_MATCH_BEGIN:"edit_fundraiser_match_begin",EDIT_FUNDRAISER_MATCH_COMPLETE:"edit_fundraiser_match_complete",FUNDRAISER_MATCH_DELETE_COMPLETE:"fundraiser_match_delete_complete",FUNDRAISER_MATCH_DELETE_BEGIN:"fundraiser_match_delete_begin",FUNDRAISER_MATCH_HARD_DELETE_CALLED:"fundraiser_match_hard_delete_called",FUNDRAISER_MATCH_REVIEW_VIEW_INTERSTITIAL:"fundraiser_match_review_view_interstitial",MATCHING_AUTOCHARGE_PAYMENTS_SCRIPT:"matching_autocharge_payments_script",FUNDRAISER_MATCH_MET:"fundraiser_match_met",RECURRING_DONATION_CREATE:"recurring_donation_create",RECURRING_DONATION_ACTIVATE:"recurring_donation_activate",RECURRING_DONATION_CANCEL:"recurring_donation_cancel",RECURRING_DONATION_REINITED:"recurring_donation_reinited",FUNDRAISER_PAGE_BIRTHDAY_REMIND_FAQ:"fundraiser_page_birthday_remind_faq",FUNDRAISER_PAGE_CREATE_BIRTHDAY_REMINDER:"fundraiser_page_create_birthday_reminder",TAPPED_STICKY_CREATE_BUTTON:"fundraiser_tapped_sticky_create_button",TAPPED_SHARE_AS_POST:"fundraiser_tapped_share_as_post",TAPPED_SHARE_AS_MESSAGE:"fundraiser_tapped_share_as_message",TAPPED_COPY_LINK:"fundraiser_tapped_copy_link",TAPPED_SHARE_SEE_MORE:"fundraiser_tapped_share_see_more",PAGE_DONATION_SETTINGS_LOAD_ERROR:"page_donation_settings_load_error",FUNDRAISER_ADD_ORGANIZERS:"fundraiser_add_organizers",FUNDRAISER_EDIT_ORGANIZERS:"fundraiser_edit_organizers",FUNDRAISER_BIRTHDAY_CENTER_PROMPT_VIEW:"fundraiser_birthday_center_prompt_view",FUNDRAISER_BIRTHDAY_CENTER_FB_GIFT_PROMPT_VIEW:"fundraiser_birthday_center_fb_gift_prompt_view",CREATE_FUNDRAISER_PROFILE_FRAME_BEGIN:"create_fundraiser_profile_frame_begin",CREATE_FUNDRAISER_PROFILE_FRAME_COMPLETE:"create_fundraiser_profile_frame_complete",VIEW_FUNDRAISER_ORGANIZER_ACCEPT_REQUEST_OUTRO:"view_fundraiser_organizer_accept_request_outro",ACCEPT_FUNDRAISER_ORGANIZER_REQUEST:"accepted_fundraiser_organizer_request",BIRTHDAY_FUNDRAISER_LEARN_MORE_VIEW:"birthday_fundraiser_learn_more_view"})}),null);
__d("SocialGoodCharityActionsLoggerParentEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DONATE:"donate",INTERACT:"interact",CREATE:"create",EDIT:"edit",DELETE:"delete",ONBOARDING:"onboarding",PAGES:"pages",INVITE:"invite",TRIGGER:"trigger",NFX:"nfx",NOTIFICATION:"notification",SRT_REVIEW:"srt_review",MILESTONE:"milestone",MATCHING:"matching",RECURRING_DONATION:"recurring_donation"})}),null);
__d("SocialGoodCharityActionsSourceKeys",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({LIVE_VIDEO_BROADCAST_STATUS:"broadcast_status",SOCIAL_UPSELL_REASON:"social_upsell_reason",SOURCE_NAME:"source_name",SOURCE_CATEGORY:"source_category",SOURCE_ID:"source_id",SESSION_ID:"session_id",POST_ID:"post_id",CHARITY_ID:"charity_id",PROMOTIONAL_SOURCE:"promotional_source",REFERRAL_SOURCE:"referral_source",NOTIF_TYPE:"notif_type",QUICK_PROMOTION_ID:"quick_promotion_id",QUICK_PROMOTION_NAME:"quick_promotion_name",QP_CONVERSION_TOKEN:"qp_conversion_token",QP_HSCROLL_ITEMS:"quick_promotion_hscroll_items",QP_SESSION_ID:"quick_promotion_session_id",QP_DISPLAY_POSITION:"quick_promotion_display_position",NUM_BDAY_CREATOR_FRIENDS:"num_bday_creator_friends",NUM_FUNDRAISER_WITH_PRESENCE_DONOR_FRIENDS:"num_fundraiser_with_presence_donor_friends",IS_ELIGIBLE_FOR_SOCIAL_CONTEXT_EXPERIMENT:"is_eligible_for_social_context_experiment",SOCIAL_CONTEXT_EXPERIMENT_GROUP:"social_context_experiment_group",EXTERNAL_EVENT_START_TIME:"external_event_start_time",EXTERNAL_EVENT_URI:"external_event_uri",EXTERNAL_FUNDRAISER_URI:"external_fundraiser_uri"})}),null);
__d("SocialGoodCharityActionsLoggerUtils",["FundraiserCampaignType","SocialGoodCharityActionsLoggerEvents","SocialGoodCharityActionsLoggerParentEvents","SocialGoodCharityActionsSourceKeys","SocialGoodCharityActionsTypedLogger"],(function(a,b,c,d,e,f){__p&&__p();a={logAction:function(event,a,c,d){new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(event).setParentEventType(a).setCampaignID(c.campaign_id).setCampaignType(c.campaign_type).setAttributes(c.attributes).setSourceAttributes(c.source_attributes).setFundraiserID(c.fundraiser_id).log()},logOnboarding:function(event,a){new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(event).setParentEventType(b("SocialGoodCharityActionsLoggerParentEvents").ONBOARDING).setAttributes(a).log()},logDonate:function(event){var a=arguments.length<=1||arguments[1]===undefined?null:arguments[1];new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(event).setParentEventType(b("SocialGoodCharityActionsLoggerParentEvents").DONATE).setAttributes(a).log()},logU2CFundraiserInvite:function(event,a){var c=arguments.length<=2||arguments[2]===undefined?null:arguments[2];new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(event).setParentEventType(b("SocialGoodCharityActionsLoggerParentEvents").INVITE).setSourceAttributes(a).setAttributes(c).log()},logU2CFundraiserCreation:function(event,a){var c=arguments.length<=2||arguments[2]===undefined?null:arguments[2],d=arguments.length<=3||arguments[3]===undefined?null:arguments[3];new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(event).setParentEventType(b("SocialGoodCharityActionsLoggerParentEvents").CREATE).setSourceAttributes(a).setAttributes(c).setCampaignType(b("FundraiserCampaignType").USER_TO_CHARITY).setAbTestNamesToGroups(d).log()},logU2CFundraiserEdit:function(event,a){var c=arguments.length<=2||arguments[2]===undefined?null:arguments[2],d=arguments.length<=3||arguments[3]===undefined?null:arguments[3];new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(event).setParentEventType(b("SocialGoodCharityActionsLoggerParentEvents").EDIT).setSourceAttributes(a).setAttributes(c).setCampaignID(a[b("SocialGoodCharityActionsSourceKeys").SOURCE_ID]).setCampaignType(b("FundraiserCampaignType").USER_TO_CHARITY).setAbTestNamesToGroups(d).log()},logJoinActionClick:function(a,c){var event=a?b("SocialGoodCharityActionsLoggerEvents").JOIN_CLICK:b("SocialGoodCharityActionsLoggerEvents").LEAVE_CLICK;this.logAction(event,b("SocialGoodCharityActionsLoggerParentEvents").INTERACT,c)},logFollowActionClick:function(a,c){var event=a?b("SocialGoodCharityActionsLoggerEvents").FOLLOW_CLICK:b("SocialGoodCharityActionsLoggerEvents").UNFOLLOW_CLICK;this.logAction(event,b("SocialGoodCharityActionsLoggerParentEvents").INTERACT,c)},logShareActionClick:function(a){this.logAction(b("SocialGoodCharityActionsLoggerEvents").SHARE_CLICK,b("SocialGoodCharityActionsLoggerParentEvents").INTERACT,a)},logCopyLinkActionClick:function(a){this.logAction(b("SocialGoodCharityActionsLoggerEvents").COPY_LINK_CLICK,b("SocialGoodCharityActionsLoggerParentEvents").INTERACT,a)},logXMAView:function(a){new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(b("SocialGoodCharityActionsLoggerEvents").XMA_VIEW).setParentEventType(b("SocialGoodCharityActionsLoggerParentEvents").INTERACT).setFundraiserID(a).setCampaignID(a).setCampaignType(b("FundraiserCampaignType").USER_TO_CHARITY).log()},logXMATapDonate:function(a){new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(b("SocialGoodCharityActionsLoggerEvents").XMA_TAP_DONATE).setParentEventType(b("SocialGoodCharityActionsLoggerParentEvents").INTERACT).setFundraiserID(a).setCampaignID(a).setCampaignType(b("FundraiserCampaignType").USER_TO_CHARITY).log()},logComposerPreviewAttachmentClose:function(){new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(b("SocialGoodCharityActionsLoggerEvents").LIGHTWEIGHT_MINUTIAE_PREVIEW_ATTACHMENT_CLOSE).setParentEventType(b("SocialGoodCharityActionsLoggerParentEvents").TRIGGER).setCampaignType(b("FundraiserCampaignType").LIGHTWEIGHT_FUNDRAISER_FOR_STORY).log()},logFundraiserForStoryCreation:function(event,a){new(b("SocialGoodCharityActionsTypedLogger"))().setCampaignType(b("FundraiserCampaignType").LIGHTWEIGHT_FUNDRAISER_FOR_STORY).setParentEventType(b("SocialGoodCharityActionsLoggerParentEvents").CREATE).setEvent(event).setSourceAttributes(a).log()},logPostCreationFlowChangeCharity:function(a){new(b("SocialGoodCharityActionsTypedLogger"))().setEvent(b("SocialGoodCharityActionsLoggerEvents").CHANGE_CHARITY).setParentEventType(b("SocialGoodCharityActionsLoggerParentEvents").CREATE).setCampaignType(b("FundraiserCampaignType").LIGHTWEIGHT_FUNDRAISER_FOR_STORY).setAttributes(a).log()}};e.exports=a}),null);
__d("XPagesLikeCountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/x/updateLikeCountDomString/",{page_id:{type:"Int",required:!0},like_id:{type:"String",required:!0}})}),null);
__d("PageLikeButton",["Arbiter","AsyncRequest","AsyncResponse","DOM","EditSubscriptions","Event","FeedBlacklistButton","PageFanning","PageLikeConstants","PagesFollowStore","ProfileSubFollowStatus","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","SocialGoodCharityActionsLoggerUtils","Tour","XPagesLikeCountController"],(function(a,b,c,d,e,f){__p&&__p();var g={init:function(a,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();i=this._getOption(m,"isLazy");this._subscribe(b("PageLikeConstants").LIKED,i,function(c,f){this._shouldUpdateButton(e,m,f)&&(a.swap(),j||d.suppressNextMouseEnter&&d.suppressNextMouseEnter(),this._getOption(m,"is_fundraiser")&&b("EditSubscriptions").toggleNotificationsOnJoin(e,!0))}.bind(this));this._subscribe(b("PageLikeConstants").UNLIKED,i,function(c,f){this._shouldUpdateButton(e,m,f)&&(a.unswap(),d.hideFlyout&&d.hideFlyout(),this._getOption(m,"is_fundraiser")&&b("EditSubscriptions").toggleNotificationsOnJoin(e,!1))}.bind(this));l&&this._subscribe(b("PageLikeConstants").SPM_CALLOUT,i,function(a,c){this._shouldUpdateButton(e,m,c)&&(l.show(),b("Arbiter")._releaseAllEvents(b("PageLikeConstants").SPM_CALLOUT))}.bind(this));var n=function(event){var b=a.getCurrentButton();this._likeButtonAction(e,f,g,h,b,event,m)}.bind(this);b("Event").listen(c,"click",n);i&&b("Arbiter").subscribe(b("PageLikeConstants").LAZY_CLICK,function(a,b){var event=b.event;a=b.node;if(a!==c)return;n(event)})},_subscribe:function(event,a,c){a=a?[event,event+".lazy"]:[event];b("Arbiter").subscribe(a,c)},initCallout:function(a,c){var d=document.getElementById("pageActionLikeCalloutButton");b("Event").listen(d,"click",this._likeButtonAction(a,c,null,null,null))},initUnlike:function(a,c,d,e){var f=this._getOption(e,"actor_id");b("Event").listen(a,"click",function(event){this.doUnlikeAction(event,c,d,f,e)}.bind(this))},initUnlikeAndHide:function(a,c,d,e){var f=this._getOption(e,"actor_id");b("Event").listen(a,"click",function(event){this.doUnlikeAction(event,c,d,f,e),b("DOM").remove(a)}.bind(this))},doUnlikeAction:function(event,a,c,d,e){this._saveLike(event.target,a,!1,function(c){b("Arbiter").inform(b("PageLikeConstants").LIKED,{profile_id:a,actor_id:d}),b("AsyncResponse").defaultErrorHandler(c)},c,null,null,e),this.informUnlike(a,d)},doLikeAction:function(a,c,d,e){var f={actor_id:e};this._saveLike(a,c,!0,function(a){a.getError()!==1431019&&b("Arbiter").inform(b("PageLikeConstants").UNLIKED,{profile_id:c,actor_id:e}),b("AsyncResponse").defaultErrorHandler(a)},d,null,null,f);g.informLike(c,a,d,f)},informLike:function(a,c,d,e){e=this._getOption(e,"actor_id");e={profile_id:a,actor_id:e,target:c,origin:d};b("Arbiter").inform(b("PageLikeConstants").LIKED,e);e.connected=!0;c=b("PagesFollowStore").getState();(!(a in c)||!c[a]||c[a]!==b("ProfileSubFollowStatus").SEE_FIRST)&&b("PagesLikeFollowNotifDispatcher").dispatch({type:b("PagesLikeFollowNotifActions").FOLLOW_CHANGED,data:{pageID:e.profile_id,followStatus:!0}});b("Arbiter").inform(b("FeedBlacklistButton").UNBLACKLIST,e)},informLikeSuccess:function(a){a={profile_id:a};b("Arbiter").inform(b("PageLikeConstants").LIKED_SUCCESS,a);b("Arbiter").inform(b("PageLikeConstants").SPM_CALLOUT,a)},informUnlike:function(a,c){var d={profile_id:a,actor_id:c};setTimeout(b("Arbiter").inform.bind(b("Arbiter"),b("PageLikeConstants").UNLIKED,d),0);d.connected=!1;setTimeout(function(){return b("PagesLikeFollowNotifDispatcher").dispatch({type:b("PagesLikeFollowNotifActions").FOLLOW_CHANGED,data:{pageID:d.profile_id,followStatus:!1}})},0);b("Arbiter").inform(b("FeedBlacklistButton").BLACKLIST,d)},updateLikeCount:function(a,c){b("Arbiter").subscribe(b("PageLikeConstants").LIKED_SUCCESS,function(d,e){d=e.profile_id;if(c==d){e=b("XPagesLikeCountController").getURIBuilder().setInt("page_id",c).setString("like_id",a).getURI();new(b("AsyncRequest"))().setURI(e).send()}})},_saveLike:function(a,c,d,e,f,h,i,j){var k=this._getOption(j,"actor_id"),l=this._getOption(j,"egodata");b("Tour").getInstance().hideStep("low_page_likes");this._getOption(j,"is_fundraiser")&&this._getOption(j,"logging_info")&&b("SocialGoodCharityActionsLoggerUtils").logJoinActionClick(d,this._getOption(j,"logging_info"));b("PageFanning").setFanStatus(a,c,d,!1,function(){g.informLikeSuccess(c),(!d&&this._getOption(j,"reload_on_unlike")||d&&this._getOption(j,"reload_on_like"))&&location.reload()}.bind(this),e,{fan_origin:f,fan_source:h,cat:i,actor_id:k,egodata:l})},_likeButtonAction:function(a,c,d,e,f,event,h){var i=this._getOption(h,"actor_id");this._saveLike(event.getTarget(),a,!0,function(c){b("Arbiter").inform(b("PageLikeConstants").UNLIKED,{profile_id:a,actor_id:i}),b("AsyncResponse").defaultErrorHandler(c)},c,d,e,h);g.informLike(a,f,c,h)},_shouldUpdateButton:function(a,b,c){b=this._getOption(b,"actor_id");if(a===c.profile_id){if(b===null)return!0;if(c.actor_id!==null&&b===c.actor_id)return!0}return!1},_getOption:function(a,b){return a&&b in a?a[b]:null}};e.exports=g;a.PageLikeButton=g}),null);
__d("PageNewsFeedStore",["FluxReduceStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","ProfileSubFollowStatus"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){__p&&__p();var d=babelHelpers["extends"]({},a);switch(c.type){case b("PagesLikeFollowNotifActions").INIT_DATA:if(c.data.pageID in a)return a;d[c.data.pageID]=c.data.newsFeedStatus;return d;case b("PagesLikeFollowNotifActions").NEWS_FEED_CHANGE:d[c.data.pageID]=c.data.newsFeedStatus;return d;case b("PagesLikeFollowNotifActions").LIKE:(c.data.pageID in a&&d[c.data.pageID]!==b("ProfileSubFollowStatus").SEE_FIRST||!(c.data.pageID in a))&&(d[c.data.pageID]=b("ProfileSubFollowStatus").REGULAR_FOLLOW);return d}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PagesLikeFollowNotifDispatcher"))}),null);
__d("PageNotifOptionSettingType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ON:"on",OFF:"off"})}),null);
__d("PagesGetNotificationStore",["FluxReduceStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","PageNotifOptionSettingType"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){__p&&__p();var d=babelHelpers["extends"]({},a);switch(c.type){case b("PagesLikeFollowNotifActions").INIT_DATA:if(c.data.pageID in a)return a;d[c.data.pageID]=c.data.notifStatus;return d;case b("PagesLikeFollowNotifActions").NOTIF_CHANGE:d[c.data.pageID]=babelHelpers["extends"]({},a[c.data.pageID]);d[c.data.pageID][c.data.type]=c.data.state;return d;case b("PagesLikeFollowNotifActions").NOTIF_ALL_ON:Object.keys(a[c.data.pageID]).map(function(a){d[c.data.pageID][a]=b("PageNotifOptionSettingType").ON});return d;case b("PagesLikeFollowNotifActions").NOTIF_ALL_OFF:Object.keys(a[c.data.pageID]).map(function(a){d[c.data.pageID][a]=b("PageNotifOptionSettingType").OFF});return d}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PagesLikeFollowNotifDispatcher"))}),null);
__d("PageGetNotificationConstants",["fbt","keyMirror"],(function(a,b,c,d,e,f,g){a={Events:b("keyMirror")({CHANGE:null,NEWSFEED_CHANGE:null,NOTIFICATION_CHANGE:null}),Title:{video:g._("Video"),photo:g._("\u1ea2nh"),link:g._("Li\u00ean k\u1ebft"),others:g._("C\u1eadp nh\u1eadt tr\u1ea1ng th\u00e1i"),event:g._("S\u1ef1 ki\u1ec7n"),live_video:g._("Video tr\u1ef1c ti\u1ebfp"),episode:g._("T\u1eadp"),offer:g._("\u01afu \u0111\u00e3i"),all_posts:g._("T\u1ea5t c\u1ea3 b\u00e0i vi\u1ebft"),none:g._("Kh\u00f4ng c\u00f3"),all_on:g._("T\u1ea5t c\u1ea3 \u0111\u1ec1u b\u1eadt"),on:g._("B\u1eadt")},NewsFeedTitle:{unfollow:g._("B\u1ecf theo d\u00f5i"),see_first:g._("Xem tr\u01b0\u1edbc"),follow:g._("M\u1eb7c \u0111\u1ecbnh")},LiveVideoTitle:{inferred:g._("Video tr\u1ef1c ti\u1ebfp \u0111\u01b0\u1ee3c \u0111\u1ec1 xu\u1ea5t"),on:g._("T\u1ea5t c\u1ea3 video tr\u1ef1c ti\u1ebfp")},PostTitle:{highlight:g._("B\u00e0i vi\u1ebft n\u1ed5i b\u1eadt"),on:g._("B\u00e0i vi\u1ebft")},PostSubscriptionType:b("keyMirror")({video:null,photo:null,link:null,others:null}),PostSubscriptionTypeArray:["video","photo","link","others"],EventSubscriptionType:b("keyMirror")({event:null}),LiveVideoSubscriptionType:b("keyMirror")({live_video:null}),PagePostSubscriptionType:b("keyMirror")({post:null}),OfferSubscriptionType:b("keyMirror")({offer:null}),EpisodeSubscriptionType:b("keyMirror")({episode:null})};e.exports=a}),null);
__d("PageGetNotificationUtil",["PageGetNotificationConstants","PageNotifOptionSettingType"],(function(a,b,c,d,e,f){__p&&__p();a={subtitleForPageGetNotification:function(a){__p&&__p();var c=[],d=b("PageGetNotificationConstants").PagePostSubscriptionType.post;if(d in a){d=b("PageGetNotificationConstants").PostTitle[a[d]];d&&c.push(d)}else(function(){var d=b("PageGetNotificationConstants").PostSubscriptionType;Object.keys(d).map(function(c){return d[c]=a[c]===b("PageNotifOptionSettingType").ON});var e=Object.values(d).filter(function(a){return!a}).length===0;e?c.push(b("PageGetNotificationConstants").Title.all_posts):b("PageGetNotificationConstants").PostSubscriptionTypeArray.map(function(a){d[a]&&c.push(b("PageGetNotificationConstants").Title[a])})})();a[b("PageGetNotificationConstants").EventSubscriptionType.event]===b("PageNotifOptionSettingType").ON&&c.push(b("PageGetNotificationConstants").Title.event);a[b("PageGetNotificationConstants").OfferSubscriptionType.offer]===b("PageNotifOptionSettingType").ON&&c.push(b("PageGetNotificationConstants").Title.offer);d=b("PageGetNotificationConstants").LiveVideoSubscriptionType.live_video;d=b("PageGetNotificationConstants").LiveVideoTitle[a[d]];d&&c.push(d);a[b("PageGetNotificationConstants").EpisodeSubscriptionType.episode]===b("PageNotifOptionSettingType").ON&&c.push(b("PageGetNotificationConstants").Title.episode);return c.length===0?b("PageGetNotificationConstants").Title.none:c.join(", ")},isNotifStatusOn:function(a){return Object.values(a).filter(function(a){return a!==b("PageNotifOptionSettingType").OFF}).length>0},isNotifStatusAllOn:function(a){return Object.values(a).filter(function(a){return a!==b("PageNotifOptionSettingType").ON}).length===0},titleForTurnOnNotificationOption:function(a){return!this.isNotifStatusOn(a)?b("PageGetNotificationConstants").Title.all_on:[this.isNotifStatusAllOn(a)?b("PageGetNotificationConstants").Title.all_on:b("PageGetNotificationConstants").Title.on," (",this.subtitleForPageGetNotification(a),")"].join("")}};e.exports=a}),null);
__d("PagesProfileTestID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COVER_PHOTO_EDIT_MENU:"cover_photo_edit_menu",COVER_PHOTO_REMOVE_MENU_ITEM:"cover_photo_remove_menu_item",COVER_PHOTO_UPLOAD_MENU_ITEM:"cover_photo_upload_menu_item",COVER_PHOTO_SAVE_BUTTON:"cover_photo_save_button",COVER_PHOTO_REMOVE_CONFIRM_BUTTON:"cover_photo_remove_confirm_button",PROFILE_PICTURE_EDIT_MENU:"profile_picture_edit_menu",PROFILE_PICTURE_REMOVE_MENU_ITEM:"profile_picture_remove_menu_item",PROFILE_PICTURE_UPLOAD_MENU_ITEM:"profile_picture_upload_menu_item",UNLIKE_PAGE_ITEM:"page_unlike_item_test_id",UNFOLLOW_PAGE_ITEM:"page_unfollow_item_test_id",SEE_FIRST_ITEM:"page_see_first_item_test_id",DEFAULT_FOLLOW_ITEM:"page_default_follow_item_test_id",FOLLOW_BUTTON_ID:"_follow_button_test_id",FOLLOWED_BUTTON_ID:"_followed_button_test_id",LIKE_BUTTON_ID:"_like_button_test_id",LIKED_BUTTON_ID:"_liked_button_test_id"})}),null);
__d("XPageFollowMutatorController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/page/follow_mutator/",{page_id:{type:"Int",required:!0},status:{type:"Bool",defaultValue:!1},location:{type:"Enum",required:!0,enumType:0}})}),null);
__d("XPageGetNewsFeedSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/save_get_news_feed/",{page_id:{type:"Int",required:!0},follow:{type:"Enum",required:!0,enumType:1},ref:{type:"Enum",enumType:1},location:{type:"Enum",enumType:0}})}),null);
__d("XPageGetNotificationSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/save_get_notification/",{page_id:{type:"Int",required:!0},type:{type:"Enum",enumType:1},all_notif:{type:"Bool",defaultValue:!1},status:{type:"Bool",defaultValue:!1},ref:{type:"Enum",required:!0,enumType:1}})}),null);
__d("XPageUserFanningSettingsDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/get_notification/",{tab:{type:"Enum",enumType:1},page_id:{type:"Int",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("XUnsnoozeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/async/nf-controls/snooze/unsnooze/",{})}),null);
__d("PagesLikeFollowHelper",["ix","cx","fbt","AsyncRequest","Image.react","Layout.react","Link.react","React","ReactXUIMenu","PageGetNotificationUtil","ProfileSubFollowStatus","PagesLikeFollowNotifDispatcher","PagesLikeFollowNotifActions","PagesProfileTestID","XPageFollowMutatorController","XPageGetNewsFeedSaveController","XPageGetNotificationSaveController","XPageUserFanningSettingsDialogController","XUnsnoozeController","XUIMenuStaticItem.react","collectDataAttributes","fbglyph"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j=b("Layout.react").Column,k=b("Layout.react").FillColumn,l=b("ReactXUIMenu").SelectableItem;a={newsfeedTitleMenuItem:function(a){a=b("XPageUserFanningSettingsDialogController").getURIBuilder().setEnum("tab","newsfeed").setInt("page_id",a).getURI();var c=i._("TRONG B\u1ea2NG TIN C\u1ee6A B\u1ea0N");return this._getStaticMenuItem(c,a,"newsfeed_header")},notificationTitleMenuItem:function(a){a=b("XPageUserFanningSettingsDialogController").getURIBuilder().setEnum("tab","notif").setInt("page_id",a).getURI();var c=i._("TH\u00d4NG B\u00c1O");return this._getStaticMenuItem(c,a,"notification_header")},_getStaticMenuItem:function(a,c,d){return b("React").createElement(b("XUIMenuStaticItem.react"),{className:"pageLikeHoverButton/headerItem",key:d},b("React").createElement(b("Layout.react"),null,b("React").createElement(k,null,b("React").createElement("div",{className:"_47vj"},a)),b("React").createElement(j,null,b("React").createElement(b("Link.react"),{href:"#",ajaxify:c,rel:"dialog"},b("React").createElement(b("Image.react"),{src:g("124952")})))))},newsfeedMenuItem:function(a,c,d){return b("React").createElement(l,{className:"_4bjg"+(d===c?" _5jwm":""),"data-testid":c==b("ProfileSubFollowStatus").SEE_FIRST?b("PagesProfileTestID").SEE_FIRST_ITEM:b("PagesProfileTestID").DEFAULT_FOLLOW_ITEM,key:c,onclick:function(){return this.onNewsFeedChange(a,c,d)}.bind(this),selected:!1},b("React").createElement(b("Image.react"),{className:"_47vl",src:g("128986")}),b("React").createElement(b("Image.react"),{className:"_47vm",src:g("114569")}),b("React").createElement("div",{className:"_5jwn"},this.newsfeedNewsfeedItemText(c)))},newsfeedNewsfeedItemText:function(a){var c=null;switch(a){case b("ProfileSubFollowStatus").SEE_FIRST:c=i._("Xem tr\u01b0\u1edbc");break;case b("ProfileSubFollowStatus").REGULAR_FOLLOW:c=i._("M\u1eb7c \u0111\u1ecbnh");break;case b("ProfileSubFollowStatus").UNFOLLOW:c=i._("B\u1ecf theo d\u00f5i");break}return c},notificationMenuItem:function(a,c,d,e){e=c?b("PageGetNotificationUtil").titleForTurnOnNotificationOption(e):i._("T\u1ea5t c\u1ea3 \u0111\u1ec1u t\u1eaft");return b("React").createElement(l,{className:"_4bjg"+(d?" _5jwm":""),key:"off",onclick:function(){return this._onNotificationsClick(a,c)}.bind(this),selected:!1},b("React").createElement(b("Image.react"),{className:"_47vl",src:g("128986")}),b("React").createElement(b("Image.react"),{className:"_47vm",src:g("114569")}),b("React").createElement("div",{className:"_5jwn"},e))},onNewsFeedChange:function(a,c,d){d&&this._informNewsFeedChange(a,c);var e=b("XPageGetNewsFeedSaveController").getURIBuilder().setInt("page_id",a).setEnum("follow",c).setEnum("ref","dialog").getURI();new(b("AsyncRequest"))().setURI(e).setHandler(function(b){b=b.payload;d||this._informNewsFeedChange(a,c);this._informFollowChange(a,b.followStatus)}.bind(this)).setFinallyHandler(function(b){b.getError()&&d&&this._informNewsFeedChange(a,d)}.bind(this)).send()},onFollowChange:function(a,c){var d=arguments.length<=2||arguments[2]===undefined?0:arguments[2],e=arguments[3];this._informFollowChange(a,c);c&&this._informNewsFeedChange(a,b("ProfileSubFollowStatus").REGULAR_FOLLOW);var f=d?d:141,g=b("XPageFollowMutatorController").getURIBuilder().setInt("page_id",a).setBool("status",c).setEnum("location",f).getURI();new(b("AsyncRequest"))().setURI(g).setHandler(function(a){e&&e()}).send()},onFollowChangeWithTrackingData:function(a,c,d){var e=arguments.length<=3||arguments[3]===undefined?0:arguments[3],f=arguments[4],g={ft:{}};a instanceof Node&&(g={ft:b("collectDataAttributes")(a,["ft"]).ft});this._informFollowChange(c,d);d&&this._informNewsFeedChange(c,b("ProfileSubFollowStatus").REGULAR_FOLLOW);var h=e?e:141,i=b("XPageFollowMutatorController").getURIBuilder().setInt("page_id",c).setBool("status",d).setEnum("location",h).getURI();new(b("AsyncRequest"))().setURI(i).setData(g).setHandler(function(a){f&&f()}).send()},onSnoozeChange:function(a,c){this._informSnoozeChange(a,c);c=b("XUnsnoozeController").getURIBuilder().getURI();new(b("AsyncRequest"))().setURI(c).setData({snoozee_id:a}).setMethod("POST").setHandler(function(b){b.getPayload()===!1&&this._informSnoozeChange(a,!0)}.bind(this)).setErrorHandler(function(){return this._informSnoozeChange(a,!0)}.bind(this)).send()},_informNewsFeedChange:function(a,c){b("PagesLikeFollowNotifDispatcher").dispatch({type:b("PagesLikeFollowNotifActions").NEWS_FEED_CHANGE,data:{pageID:a,newsFeedStatus:c}})},_informSnoozeChange:function(a,c){b("PagesLikeFollowNotifDispatcher").dispatch({type:b("PagesLikeFollowNotifActions").SNOOZE_CHANGED,data:{pageID:a,snoozeStatus:c}})},_onNotificationsClick:function(a,c,d){this._informNotificationChange(a,c);d=b("XPageGetNotificationSaveController").getURIBuilder().setInt("page_id",a).setBool("status",c).setBool("all_notif",!0).setEnum("ref","www_timeline").getURI();new(b("AsyncRequest"))().setURI(d).setHandler(function(b){this._informFollowChange(a,b.payload.followStatus)}.bind(this)).send()},_informFollowChange:function(a,c){b("PagesLikeFollowNotifDispatcher").dispatch({type:b("PagesLikeFollowNotifActions").FOLLOW_CHANGED,data:{pageID:a,followStatus:c}})},_informNotificationChange:function(a,c){c=c?b("PagesLikeFollowNotifActions").NOTIF_ALL_ON:b("PagesLikeFollowNotifActions").NOTIF_ALL_OFF;b("PagesLikeFollowNotifDispatcher").dispatch({type:c,data:{pageID:a}})}};e.exports=a}),null);
__d("PagesHeaderFollowButton.react",["ix","cx","fbt","BasicFBNux","ContextualDialogArrow","Image.react","Link.react","PageGetNotificationUtil","PagesButton.react","PagesLikeFollowHelper","PagesProfileTestID","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","ProfileSubFollowStatus","React","ReactXUIMenu","SnoozedProfileTypedLogger","XUIAmbientNUX.react","XUIButton.react","XUIMenuSeparator.react","XUIPopoverButton.react","XUIText.react","asset","fbglyph","gkx","uuid"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ReactXUIMenu").SelectableMenu,l=b("ReactXUIMenu").Item,m=4225,n=5571;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$8=function(){this.props.snoozeStatus&&new(b("SnoozedProfileTypedLogger"))().setEvent("cancel_end_snooze").setItemObjID(this.props.pageID).setSessionID(this.$1).log()}.bind(this),this.$9=function(event){b("PagesLikeFollowHelper").onFollowChangeWithTrackingData(event.target,this.props.pageID,!0,this.props.followLocation),this.props.shouldShowFollowPrivacyNux&&(this.setState({privacyNuxShown:!0}),b("BasicFBNux").onView(m))}.bind(this),this.$11=function(event){b("PagesLikeFollowHelper").onFollowChangeWithTrackingData(event.target,this.props.pageID,!1,this.props.followLocation)}.bind(this),c}a.getButtonSize=function(a){return b("XUIButton.react").getButtonSize(a)};a.prototype.UNSAFE_componentWillMount=function(){this.$1=b("uuid")(),this.props.shouldShowFollowButtonNux===!0&&b("BasicFBNux").onView(n),this.setState({privacyNuxShown:!1,followButtonNuxShown:this.props.shouldShowFollowButtonNux})};a.prototype.componentWillUnmount=function(){this.$1=null};a.prototype.render=function(){__p&&__p();if(!this.props.followAllowed)return null;var a=void 0,c=void 0;if(this.props.snoozeStatus)a=this.$2(),c=this.$3(),new(b("SnoozedProfileTypedLogger"))().setEvent("profile_visit").setItemObjID(this.props.pageID).setSessionID(this.$1).log();else{if(!this.props.followStatus)return this.$4();else if(this.props.disableDropdown)return this.$5();a=this.$6();c=this.$7()}c=b("React").createElement(b("PopoverMenu.react"),{alignh:"right",behaviors:[b("PopoverMenuOverlappingBorder"),b("PopoverMenuShowOnHover")],layerBehaviors:[b("ContextualDialogArrow")],menu:b("React").createElement(k,{className:"_4bje"+(this.props.snoozeStatus?" _3qn5":""),multiple:!0},c),onHide:this.$8},a);return this.props.asPrimaryButton==="true"?b("React").createElement("div",{className:"_6534"},c):c};a.prototype.$4=function(){if(this.props.blueFollowButton)return b("React").createElement(b("PagesButton.react"),{color:"fbblue",image:b("React").createElement(b("Image.react"),{className:"ctaButtonIcon",src:g("114929")}),label:b("React").createElement("span",{className:"blueButtonLabel"},i._("Theo d\u00f5i")),onClick:this.$9});return this.props.asPrimaryButton==="true"?b("React").createElement("span",{className:"_6534 uiContextualLayerParent"},b("React").createElement(b("XUIButton.react"),{"data-testid":this.props.origin+b("PagesProfileTestID").FOLLOW_BUTTON_ID,image:b("React").createElement(b("Image.react"),{src:g("114929")}),label:i._("Theo d\u00f5i"),onClick:this.$9,ref:"followButton",size:"large",use:"confirm"}),this.$10()):b("React").createElement(b("XUIButton.react"),{"data-testid":this.props.origin+b("PagesProfileTestID").FOLLOW_BUTTON_ID,image:b("React").createElement(b("Image.react"),{src:g("127712")}),label:i._("Theo d\u00f5i"),onClick:this.$9,size:this.props.size})};a.prototype.$5=function(){return this.props.blueFollowButton?b("React").createElement(b("PagesButton.react"),{color:"fbblue",image:b("React").createElement(b("Image.react"),{className:"ctaButtonIcon",src:g("114932")}),label:b("React").createElement("span",{className:"blueButtonLabel"},i._("\u0110ang theo d\u00f5i")),onClick:this.$11}):b("React").createElement(b("XUIButton.react"),{image:b("React").createElement(b("Image.react"),{src:g("116498")}),label:i._("\u0110ang theo d\u00f5i"),onClick:this.$11,size:this.props.size})};a.prototype.$6=function(){return this.props.asPrimaryButton==="true"?b("React").createElement("div",null,b("React").createElement(b("XUIPopoverButton.react"),{"data-testid":this.props.origin+b("PagesProfileTestID").FOLLOWED_BUTTON_ID,image:b("React").createElement(b("Image.react"),{src:g("116533")}),label:i._("\u0110ang theo d\u00f5i"),ref:"followedButton",size:"large"}),this.renderLayers()):b("React").createElement("div",null,b("React").createElement(b("XUIPopoverButton.react"),{"data-testid":this.props.origin+b("PagesProfileTestID").FOLLOWED_BUTTON_ID,image:b("React").createElement(b("Image.react"),{src:g("116498")}),label:i._("\u0110ang theo d\u00f5i"),ref:"followedButton",size:this.props.size}),this.renderLayers())};a.prototype.$2=function(){return b("React").createElement("div",null,b("React").createElement(b("XUIPopoverButton.react"),{className:this.props.origin==="hovercard"?"_29kr":"",image:b("React").createElement(b("Image.react"),{src:g("396312")}),label:(this.props.snoozeData||{}).stateText,ref:"snoozedButton",size:this.props.size}))};a.prototype.renderLayers=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.followedButton}.bind(this),shown:this.state.privacyNuxShown,position:"right",onCloseButtonClick:function(){return this.$12()}.bind(this),key:"ambientNUX"},i._("B\u1ea1n c\u00f3 th\u1ec3 ki\u1ec3m so\u00e1t ai c\u00f3 th\u1ec3 xem nh\u1eefng ng\u01b0\u1eddi, Trang v\u00e0 danh s\u00e1ch m\u00e0 m\u00ecnh theo d\u00f5i {hyperlink for help center}.",[i._param("hyperlink for help center",b("React").createElement(b("Link.react"),{href:"/ajax/timeline/friends/edit_dialog.php",rel:"dialog"},i._("t\u1ea1i \u0111\u00e2y")))]))};a.prototype.$12=function(){this.setState({privacyNuxShown:!1}),b("BasicFBNux").onDismiss(m)};a.prototype.$10=function(){return b("React").createElement(b("XUIAmbientNUX.react"),{contextRef:function(){return this.refs.followButton}.bind(this),onCloseButtonClick:function(){return this.$13()}.bind(this),position:"below",shown:this.state.followButtonNuxShown,key:"ambientNUX"},b("React").createElement(b("Image.react"),{className:"_2tv4",src:g("418478")}),b("React").createElement("div",{className:"_2tv5"},i._("Follow this show to get new episodes in your watchlist on Facebook Watch.")))};a.prototype.$13=function(){this.setState({followButtonNuxShown:!1}),b("BasicFBNux").onDismiss(n)};a.prototype.$3=function(){return[b("React").createElement(l,{className:"_10it",key:"Unsnooze."+this.props.pageID,onclick:function(){b("PagesLikeFollowHelper").onSnoozeChange(this.props.pageID,!1),new(b("SnoozedProfileTypedLogger"))().setEvent("end_snooze").setItemObjID(this.props.pageID).setSessionID(this.$1).log()}.bind(this)},b("React").createElement(b("XUIText.react"),{size:"meta1",display:"block"},(this.props.snoozeData||{}).actionText),b("React").createElement(b("XUIText.react"),{size:"meta1",className:"_34kz"},(this.props.snoozeData||{}).timeLeftText))]};a.prototype.$7=function(){var a=b("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);return[b("React").createElement(l,{"data-testid":b("PagesProfileTestID").UNFOLLOW_PAGE_ITEM,key:"Unfollow."+this.props.pageID,onclick:this.$11},i._("B\u1ecf theo d\u00f5i Trang n\u00e0y")),b("React").createElement(b("XUIMenuSeparator.react"),{key:"follow_seperator"}),b("PagesLikeFollowHelper").newsfeedTitleMenuItem(this.props.pageID),b("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,b("ProfileSubFollowStatus").SEE_FIRST,this.props.newsFeedStatus),b("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,b("ProfileSubFollowStatus").REGULAR_FOLLOW,this.props.newsFeedStatus),b("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,b("ProfileSubFollowStatus").UNFOLLOW,this.props.newsFeedStatus),b("PagesLikeFollowHelper").notificationTitleMenuItem(this.props.pageID),b("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,!0,a,this.props.notifStatus),b("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,!1,!a,this.props.notifStatus)]};e.exports=a}),null);
__d("PagesLikeStore",["FluxReduceStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){a=babelHelpers["extends"]({},a);switch(c.type){case b("PagesLikeFollowNotifActions").LIKE:case b("PagesLikeFollowNotifActions").UNLIKE:case b("PagesLikeFollowNotifActions").INIT_DATA:a[c.data.pageID]=c.data.likeStatus}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PagesLikeFollowNotifDispatcher"))}),null);
__d("PagesSnoozeStore",["FluxReduceStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){a=babelHelpers["extends"]({},a);switch(c.type){case b("PagesLikeFollowNotifActions").SNOOZE_CHANGED:case b("PagesLikeFollowNotifActions").INIT_DATA:a[c.data.pageID]=babelHelpers["extends"]({},a[c.data.pageID]),a[c.data.pageID].status=c.data.snoozeStatus,a[c.data.pageID].data=c.data.snoozeData||a[c.data.pageID].data}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PagesLikeFollowNotifDispatcher"))}),null);
__d("PagesHeaderFollowButtonContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderFollowButton.react","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","PagesLikeStore","PagesSnoozeStore","React","XUIButton.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.getButtonSize=function(a){return b("XUIButton.react").getButtonSize(a)};a.getStores=function(){return[b("PagesLikeStore"),b("PagesFollowStore"),b("PagesSnoozeStore"),b("PageNewsFeedStore"),b("PagesGetNotificationStore")]};a.calculateState=function(a,c){a=b("PagesLikeStore").getState();var d=b("PagesFollowStore").getState(),e=b("PagesSnoozeStore").getState()[c.pageID]||{},f=b("PagesGetNotificationStore").getState(),g=b("PageNewsFeedStore").getState();g={pageID:c.pageID,pageName:c.pageName,actorID:c.actorID,followAllowed:c.followAllowed,followLocation:c.followLocation,newsFeedStatus:g[c.pageID],disableDropdown:c.disableDropdown,shouldShowFollowPrivacyNux:c.shouldShowFollowPrivacyNux,likeStatus:a[c.pageID],followStatus:d[c.pageID],snoozeStatus:e.status,snoozeData:e.data,notifStatus:babelHelpers["extends"]({},f[c.pageID]),origin:c.origin,size:c.size,showUnpublishPageDialog:c.showUnpublishPageDialog,blueFollowButton:c.blueFollowButton,asPrimaryButton:c.asPrimaryButton,shouldShowFollowButtonNux:c.shouldShowFollowButtonNux};return g};a.prototype.UNSAFE_componentWillMount=function(){b("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([b("PagesLikeStore"),b("PagesFollowStore"),b("PagesSnoozeStore"),b("PageNewsFeedStore"),b("PagesGetNotificationStore")]),b("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:b("PagesLikeFollowNotifActions").INIT_DATA})};a.prototype.render=function(){return b("React").createElement(b("PagesHeaderFollowButton.react"),this.state)};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesHeaderLikeButton.react",["ix","cx","fbt","BootloadedComponent.react","ContextualDialogArrow","DOM","Image.react","JSResource","PageGetNotificationUtil","PageLikeButton","ProfileSubFollowStatus","PagesLikeButtonAnimationGKConfig","PagesLikeFollowHelper","PopoverMenu.react","PopoverMenuOverlappingBorder","PopoverMenuShowOnHover","React","ReactDOM","ReactXUIMenu","PagesProfileTestID","XUIButton.react","XUIMenuSeparator.react","XUIPopoverButton.react","XUISpinner.react","fbglyph","goURI"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ReactXUIMenu").SelectableMenu,l=b("ReactXUIMenu").Item;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){j.constructor.call(this,a),this.state={changeToLiked:!1}}a.getButtonSize=function(a){return b("XUIButton.react").getButtonSize(a)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){a.likeStatus!==this.props.likeStatus&&a.likeStatus&&this.setState({changeToLiked:!0})};a.prototype.render=function(){__p&&__p();if(!this.props.likeStatus)return this.$1();else if(this.props.disableDropdown)return this.$2();var a=[b("React").createElement(l,{"data-testid":b("PagesProfileTestID").UNLIKE_PAGE_ITEM,key:"Unlike."+this.props.pageID,onclick:function(event){return this.$3(event)}.bind(this)},i._("B\u1ecf th\u00edch Trang n\u00e0y"))];if(!this.props.followAllowed){a.push(b("React").createElement(b("XUIMenuSeparator.react"),{key:"like_seperator"}));a.push(b("PagesLikeFollowHelper").newsfeedTitleMenuItem(this.props.pageID));a.push(b("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,b("ProfileSubFollowStatus").SEE_FIRST,this.props.newsFeedStatus));a.push(b("PagesLikeFollowHelper").newsfeedMenuItem(this.props.pageID,b("ProfileSubFollowStatus").REGULAR_FOLLOW,this.props.newsFeedStatus));var c=b("PageGetNotificationUtil").isNotifStatusOn(this.props.notifStatus);a.push(b("PagesLikeFollowHelper").notificationTitleMenuItem(this.props.pageID));a.push(b("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,!0,c,this.props.notifStatus));a.push(b("PagesLikeFollowHelper").notificationMenuItem(this.props.pageID,!1,!c,this.props.notifStatus))}return b("React").createElement(b("PopoverMenu.react"),{alignh:"right",behaviors:[b("PopoverMenuOverlappingBorder"),b("PopoverMenuShowOnHover")],layerBehaviors:[b("ContextualDialogArrow")],menu:b("React").createElement(k,{className:this.props.followAllowed?null:"_4bje",multiple:!0},a)},this.$4())};a.prototype.$1=function(){return b("React").createElement(b("XUIButton.react"),{className:"likeButton","data-testid":this.props.origin+b("PagesProfileTestID").LIKE_BUTTON_ID,image:b("React").createElement(b("Image.react"),{src:g("127974")}),label:i._("Th\u00edch"),labelIsHidden:this.props.hideButtonText,onClick:function(event){return this.$5(event)}.bind(this),size:this.props.size})};a.prototype.$2=function(){return b("React").createElement(b("XUIButton.react"),{className:"likedButton",image:b("React").createElement(b("Image.react"),{src:g("116760")}),label:i._("\u0110\u00e3 th\u00edch"),onClick:function(event){return this.$3(event)}.bind(this),size:this.props.size})};a.prototype.$4=function(){var a=b("PagesLikeButtonAnimationGKConfig").show_animation;return b("React").createElement(b("XUIPopoverButton.react"),{className:"likedButton"+(this.state.changeToLiked&&a?" _2ws0":"")+(this.state.changeToLiked&&a?" _be8":""),"data-testid":this.props.origin+b("PagesProfileTestID").LIKED_BUTTON_ID,image:b("React").createElement(b("Image.react"),{className:this.state.changeToLiked&&a?"_2wsk":"",src:g("116760")}),label:i._("\u0110\u00e3 th\u00edch"),labelIsHidden:this.props.hideButtonText,size:this.props.size})};a.prototype.$3=function(event){b("PageLikeButton").doUnlikeAction(event,this.props.pageID,this.props.origin,this.props.actorID)};a.prototype.$5=function(event){(!this.props.pageID||!this.props.actorID)&&b("goURI")("/"),this.props.showUnpublishPageDialog&&this.$6(),b("PageLikeButton").doLikeAction(event.target,this.props.pageID,this.props.origin,this.props.actorID)};a.prototype.$6=function(){b("ReactDOM").render(b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("PageUnpublishPageLikeWarningDialog.react").__setRef("PagesHeaderLikeButton.react"),bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),null),pageid:this.props.pageID,pageName:this.props.pageName}),b("DOM").create("div"))};e.exports=a}),null);
__d("PagesHeaderLikeButtonContainer.react",["FluxContainer","PageNewsFeedStore","PagesFollowStore","PagesGetNotificationStore","PagesHeaderLikeButton.react","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","PagesLikeStore","PagesSnoozeStore","React","XUIButton.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.getButtonSize=function(a){return b("XUIButton.react").getButtonSize(a)};a.getStores=function(){return[b("PagesLikeStore"),b("PagesFollowStore"),b("PagesSnoozeStore"),b("PageNewsFeedStore"),b("PagesGetNotificationStore")]};a.calculateState=function(a,c){a=b("PagesLikeStore").getState();var d=b("PagesFollowStore").getState(),e=b("PagesSnoozeStore").getState()[c.pageID]||{},f=b("PagesGetNotificationStore").getState(),g=b("PageNewsFeedStore").getState();g={pageID:c.pageID,pageName:c.pageName,actorID:c.actorID,followAllowed:c.followAllowed,newsFeedStatus:g[c.pageID],disableDropdown:c.disableDropdown,likeStatus:a[c.pageID],followStatus:d[c.pageID],snoozeStatus:e.status,snoozeData:e.data,notifStatus:babelHelpers["extends"]({},f[c.pageID]),origin:c.origin,size:c.size,showUnpublishPageDialog:c.showUnpublishPageDialog,shouldShowFollowPrivacyNux:c.shouldShowFollowPrivacyNux,blueFollowButton:c.blueFollowButton,shouldShowFollowButtonNux:c.shouldShowFollowButtonNux,hideButtonText:c.hideButtonText};return g};a.prototype.UNSAFE_componentWillMount=function(){b("PagesLikeFollowNotifDispatcher").explicitlyRegisterStores([b("PagesLikeStore"),b("PagesFollowStore"),b("PageNewsFeedStore"),b("PagesGetNotificationStore")]),b("PagesLikeFollowNotifDispatcher").dispatch({data:this.props,type:b("PagesLikeFollowNotifActions").INIT_DATA})};a.prototype.render=function(){return b("React").createElement(b("PagesHeaderLikeButton.react"),this.state)};function a(){g.apply(this,arguments)}e.exports=b("FluxContainer").create(a,{withProps:!0})}),null);
__d("PagesEventObserver",["Banzai"],(function(a,b,c,d,e,f){__p&&__p();var g="pages_client_logging",h={VITAL_WAIT:b("Banzai").VITAL_WAIT,logData_DEPRECATED:function(a,c){c={delay:c||b("Banzai").VITAL_WAIT};b("Banzai").post(g,a,c)},notify:function(event,a,c,d,e){c=babelHelpers["extends"]({},c,{event_name:event,page_id:a,dedupe:d!==!1});a={delay:e||b("Banzai").VITAL_WAIT};b("Banzai").post(g,c,a)},registerLogOnClick:function(a,b){var c=arguments.length<=2||arguments[2]===undefined?null:arguments[2];a.addEventListener("click",function(){c&&h.notify(c,b,null,null,null)})}};e.exports=h}),null);
__d("PagesMessengerLinkConfirmationDialog.react",["ix","cx","fbt","Image.react","React","XUIDialog.react","XUIDialogBody.react","XUIDialogButton.react","XUIDialogFooter.react","XUIGrayText.react","XUIText.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=494;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){return b("React").createElement(b("XUIDialog.react"),{shown:this.props.shown,onToggle:function(a){return!a&&this.props.onDismiss}.bind(this),width:k},b("React").createElement(b("XUIDialogBody.react"),{className:"_3-95 _3pa-"},b("React").createElement(b("Image.react"),{className:"_3-97 _3-8x",src:"/images/pages/linkshare/checkmark.png"}),b("React").createElement(b("XUIText.react"),{size:"header3",display:"block"},i._("\u0110\u00e3 sao ch\u00e9p li\u00ean k\u1ebft Messenger.")),b("React").createElement(b("XUIText.react"),{className:"_3-8y",display:"block",size:"header4"},i._("Li\u00ean k\u1ebft Messenger \u0111\u00e3 \u0111\u01b0\u1ee3c sao ch\u00e9p v\u00e0o b\u1ed9 nh\u1edb t\u1ea1m. B\u1ea5t k\u1ef3 ai nh\u1ea5p v\u00e0o li\u00ean k\u1ebft n\u00e0y \u0111\u1ec1u c\u00f3 th\u1ec3 b\u1eaft \u0111\u1ea7u cu\u1ed9c tr\u00f2 chuy\u1ec7n v\u1edbi Trang c\u1ee7a b\u1ea1n."))),b("React").createElement(b("XUIDialogFooter.react"),{className:"_3pa_",fullbleedborder:"true",leftContent:b("React").createElement("div",null,b("React").createElement(b("Image.react"),{className:"_1-vn _3-8_",src:g("126379")}),b("React").createElement(b("XUIGrayText.react"),null,this.props.url))},b("React").createElement(b("XUIDialogButton.react"),{use:"confirm",label:i._("Xong"),onClick:this.props.onDismiss})))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("XPagesOnlineIndicatorAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/messaging/show_online_indicator/",{page_id:{type:"FBID",required:!0}})}),null);
__d("PagesMessageButton.react",["cx","fbt","ix","AsyncRequest","ChatOpenTabEventLogger","Clipboard","ContextualDialogArrow","ContextualLayerUpdateOnScroll","FantaTabActions","Image.react","InlineBlock.react","MenuSeparator.react","MercuryIDs","MessagingSourceEnum","PagesBlueMessageButtonQE","PagesEventObserver","PagesEventType","PagesMessengerLinkConfirmationDialog.react","PopoverMenu.react","PopoverMenuShowOnHover","React","ReactXUIMenu","XBasicFBNuxDismissController","XPagesOnlineIndicatorAsyncController","XUIAmbientNUX.react","XUIButton.react","XUIPopoverButton.react","fbglyph","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ReactXUIMenu").Item,l=3997,m=i("114247"),n=i("127062");c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a){__p&&__p();j.constructor.call(this,a),this.$1=function(event){var a=this.props.pageID,c=b("MercuryIDs").getThreadIDFromUserID(a);b("FantaTabActions").openTab(c,[this.props.settings.ref]);b("ChatOpenTabEventLogger").logUserClickOpen(this.props.settings.ref,a)}.bind(this),this.$6=function(event){var a=this.props.settings.adminSettings&&this.props.settings.adminSettings.messengerLinkURI;if(!a)return;b("Clipboard").copy(a);this.setState({linkDialogShown:!0});b("PagesEventObserver").notify(b("PagesEventType").SHARED_MESSAGE_LINK_COPY,this.props.pageID,{source:b("MessagingSourceEnum").PAGES_MESSAGE_SHORTLINK})}.bind(this),this.$7=function(){this.setState({linkDialogShown:!1})}.bind(this),this.$9=function(){this.setState({nuxDismissed:!0})}.bind(this),this.$10=function(){this.setState({messengerLinkNUXDismissed:!0});var a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",l).getURI();new(b("AsyncRequest"))().setURI(a).send()}.bind(this),this.state={isOnline:!1,linkDialogShown:!1,messengerLinkNUXDismissed:!1,nuxDismissed:!1}}a.prototype.UNSAFE_componentWillMount=function(){var a=b("XPagesOnlineIndicatorAsyncController").getURIBuilder().setFBID("page_id",this.props.pageID).getURI();new(b("AsyncRequest"))().setURI(a).setHandler(function(a){a=a.payload;this.setState({isOnline:a.showOnlneIndicator})}.bind(this)).send()};a.getButtonSize=function(a){return b("XUIButton.react").getButtonSize(a)};a.prototype.componentDidMount=function(){b("PagesEventObserver").notify(b("PagesEventType").MESSAGES_BUTTON_RENDER,this.props.pageID,{source:"refresh",logged_out:!this.props.settings.isLoggedIn,ref:this.props.settings.ref})};a.prototype.render=function(){if(!this.props.settings.isLoggedIn)return null;var a=!1;b("PagesBlueMessageButtonQE").showBlueSecondaryButton&&(a=!0);var c=h._("Nh\u1eafn tin");this.props.settings.adminSettings||(this.props.className?c=h._("G\u1eedi tin nh\u1eafn"):this.props.settings.label&&(c=h._("{settings_label}",[h._param("settings_label",this.props.settings.label)])));c=this.props.settings.adminSettings?b("React").createElement(b("XUIPopoverButton.react"),{className:b("joinClasses")(this.props.className,"_p8f"),image:b("React").createElement(b("Image.react"),{src:n}),label:c,onClick:this.$1,ref:"messageButton",size:this.props.size,"data-testid":"page-message-button"}):b("React").createElement(b("XUIButton.react"),{className:b("joinClasses")(this.props.className,"_p8f"),image:a?b("React").createElement(b("Image.react"),{src:this.props.className?null:m}):b("React").createElement(b("Image.react"),{src:this.props.className?null:n}),imageRight:this.$2(),label:c,onClick:this.$1,ref:"messageButton",size:this.props.size,use:a?"confirm":"default","data-testid":"page-message-button"});this.props.settings.adminSettings&&(c=b("React").createElement(b("PopoverMenu.react"),{className:b("joinClasses")(this.props.className,"_3u42"),alignh:"right",menu:this.$3(),behaviors:[b("PopoverMenuShowOnHover")],layerBehaviors:[b("ContextualDialogArrow")]},c,this.$4()));return b("React").createElement(b("InlineBlock.react"),{alignv:"middle",className:"_3u43 _p8r"},c,this.$5())};a.prototype.$2=function(){return!this.state.isOnline?null:b("React").createElement("span",{className:"_ljx"},b("React").createElement(b("Image.react"),{src:i("311942")}))};a.prototype.$3=function(){if(!this.props.settings.adminSettings)return null;var a=null;this.props.settings.adminSettings.messengerLinkURI&&(a=b("React").createElement(k,{onclick:this.$6},h._("Sao ch\u00e9p li\u00ean k\u1ebft Messenger")));return b("React").createElement(b("ReactXUIMenu"),null,b("React").createElement(k,{href:this.props.settings.adminSettings.inboxURI},h._("Xem tin nh\u1eafn")),this.props.settings.adminSettings.messengerLinkURI?b("React").createElement(b("MenuSeparator.react"),null):null,a)};a.prototype.$4=function(){var a=this.props.settings.adminSettings&&this.props.settings.adminSettings.messengerLinkURI;return!a?null:b("React").createElement(b("PagesMessengerLinkConfirmationDialog.react"),{onDismiss:this.$7,shown:this.state.linkDialogShown,url:a})};a.prototype.$5=function(){if(this.props.settings.adminSettings&&this.props.settings.adminSettings.showMessengerLinkNUX)return this.$8();if(!this.props.settings.showNUX)return null;var a=this.props.pageCategory==="WORKPLACE_BOT"?h._("Send a message to this Bot."):h._("Send a message to this Page.");return b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"center",behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.messageButton}.bind(this),onCloseButtonClick:this.$9,position:"below",shown:!this.state.nuxDismissed,width:"auto"},a)};a.prototype.$8=function(){return!this.props.settings.adminSettings||!this.props.settings.adminSettings.showMessengerLinkNUX?null:b("React").createElement(b("XUIAmbientNUX.react"),{alignment:"right",autofocus:!1,behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll")},contextRef:function(){return this.refs.messageButton}.bind(this),onCloseButtonClick:this.$10,position:"below",shown:!this.state.messengerLinkNUXDismissed,width:"wide"},h._("Gi\u1edd b\u1ea1n c\u00f3 th\u1ec3 chia s\u1ebb li\u00ean k\u1ebft tr\u1ef1c ti\u1ebfp \u0111\u1ec3 gi\u00fap m\u1ecdi ng\u01b0\u1eddi d\u1ec5 d\u00e0ng nh\u1eafn tin \u0111\u1ebfn Trang c\u1ee7a b\u1ea1n."))};e.exports=a}),null);
__d("PagesHovercardFooter.react",["cx","DynamicPageHovercardTypedLogger","PageCTAViewerUnitContainer.react","PagesMessageButton.react","PagesHeaderLikeButtonContainer.react","PagesHeaderFollowButtonContainer.react","Layout.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("Layout.react").Column;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.$1(),c=this.$2(),d=this.$3(),e=(a!==null?1:0)+(c!==null?1:0)+(d!==null?1:0);e=e===3?"_1wcx":e===2?"_1wcy":"_1wcz";a!==null&&(a=b("React").createElement(i,{className:e},a));c!==null&&(c=b("React").createElement(i,{className:e},c));d!==null&&(d=b("React").createElement(i,{className:e},d));return b("React").createElement("div",{className:"_54ay"},this.$4(),b("React").createElement("div",{className:"_1wc-"},b("React").createElement(b("Layout.react"),null,a,c,d)))};a.prototype.$4=function(){return!this.props.callToActionUnitData?null:b("React").createElement("div",{className:"callToActionButton",onClick:this.$5.bind(this),role:"presentation"},b("React").createElement(b("PageCTAViewerUnitContainer.react"),this.props.callToActionUnitData))};a.prototype.$1=function(){return!this.props.likeFollowData?null:b("React").createElement("div",{onClick:this.$6.bind(this),role:"presentation"},b("React").createElement(b("PagesHeaderLikeButtonContainer.react"),this.props.likeFollowData))};a.prototype.$2=function(){return!this.props.likeFollowData||!this.props.likeFollowData.followAllowed?null:b("React").createElement("div",{onClick:this.$7.bind(this),role:"presentation"},b("React").createElement(b("PagesHeaderFollowButtonContainer.react"),babelHelpers["extends"]({},this.props.likeFollowData,{asPrimaryButton:"false"})))};a.prototype.$3=function(){var a=this.props.messageData;return!a?null:b("React").createElement("div",{onClick:this.$8.bind(this),role:"presentation"},b("React").createElement(b("PagesMessageButton.react"),{pageID:String(this.props.pageID),settings:a}))};a.prototype.$5=function(event){this.$9("cta_click")};a.prototype.$6=function(event){this.$9("like_click")};a.prototype.$7=function(event){this.$9("follow_click")};a.prototype.$8=function(event){this.$9("message_click")};a.prototype.$9=function(a){new(b("DynamicPageHovercardTypedLogger"))().setPageid(Number(this.props.pageID)).setEvent("header_footer_engagement").setContentType(99).setTrackingNodeType(0).setTrackingNodeName(a).setReferrer(this.props.referrer).setUIID(this.props.UIID).log()};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("PhotoSessionLog",["AsyncRequest","Run","URI","Vector","WWWBase"],(function(a,b,c,d,e,f){__p&&__p();function g(){}Object.assign(g,{UNKNOWN:0,ESC:1,X:2,OUTSIDE:3,UNLOAD:4,NAVIGATE:5,AGGREGATE:6,LEAVE:7,LOADING:8,PERMALINK:0,SNOWLIFT:6,SNOWDOWN:13,AGGREGATION_COUNT:20,set:null,time:null,views:0,fbidList:[],details:{},width:0,height:0,first:!1,last:!1,logIds:!1,version:null,source:null,buttonLikes:0,pagingAction:"",cycle:!1,endOfRelevant:!1,relevantCount:0,closingTypeToString:function(a){return{0:"UNKNOWN",1:"ESC",2:"X",3:"OUTSIDE",4:"UNLOAD",5:"NAVIGATE"}[a]||"UNKNOWN"},initLogging:function(a){__p&&__p();this.set=null;this.time=new Date();this.views=0;this.hiResLoads=0;this.fullScreenViews={};this.first=!0;this.last=!1;this.logIds=!1;this.eid="";this.version=a;this.buttonLikes=0;this.pagingAction="";this.cycle=!1;this.endOfRelevant=!1;this.relevantCount=0;this.topLevelPostId=0;if(a===g.SNOWLIFT){a=b("Vector").getViewportDimensions();this.width=a.x;this.height=a.y}},_isSnowlift:function(){return this.version===g.SNOWLIFT},setLogFbids:function(a){this.logIds=a},setTopLevelPostId:function(a){this.topLevelPostId=a},setEid:function(a){this.eid=a},setPhotoSet:function(a){this.set=a},addButtonLike:function(){this.buttonLikes++},setPagingAction:function(a){this.pagingAction=a},setCycle:function(a){this.cycle=a},setEndOfRelevant:function(a){this.endOfRelevant=a},setRelevantCount:function(a){this.relevantCount=a},setEndMetrics:function(a){this.endMetrics=a},setSource:function(a){this.source=a},addPhotoView:function(a,b,c){this.logIds&&this.views>=this.AGGREGATION_COUNT&&this.logPhotoViews(this.AGGREGATE),this.views++,a&&this.fbidList.push([a.fbid,a.owner,Date.now()]),b&&this.hiResLoads++,c&&(this.fullScreenViews[a.fbid]=!0)},logEnterFullScreen:function(a){this.fullScreenViews[a]=!0},addDetailData:function(a,b){this.details[a]||(this.details[a]={t:b.num_tags,l:b.has_location,c:b.has_caption,cm:b.comment_count,lk:b.like_count,w:b.width,h:b.height,ad:"{}",p:this.pagingAction})},updateAdData:function(a,b){this.details[a]&&(this.details[a].ad=JSON.stringify(b))},logPhotoViews:function(a){__p&&__p();if(!this.views)return;a!=this.AGGREGATE&&(this.last=!0);this.logData(a?a:this.UNKNOWN);this.views=0;this.hiResLoads=0;this.fbidList=[];this.details={};this.first=!1;this.buttonLikes=0;this.last&&(this.set=null,this.logIds=!1,this.fullScreenViews={})},logInitialLoad:function(){this.logData(g.LOADING)},logData:function(a){__p&&__p();var c=[],d={},e=0;a===this.LOADING?(e=this.topLevelPostId,this.topLevelPostId||(c=this.fbidList,d=this.details)):(c=this.fbidList,d=this.details);c={set:this.set,time:new Date()-this.time,fbids:c,details:d,eid:this.eid,first:this.first,last:this.last,close:a,button_likes:this.buttonLikes,version:this.version,endmetric:this.endMetrics,cycle:this.cycle,end_relev:this.endOfRelevant,relev_count:this.relevantCount,source:this.source,top_level_post_id:e};if(this.version===g.SNOWLIFT){d=b("Vector").getViewportDimensions();c.width=d.x||this.width;c.height=d.y||this.height;this.hiResLoads>0&&(c.hires_loads=this.hiResLoads);if(this.last){e=Object.keys(this.fullScreenViews).length;e>0&&(c.fullscreen=e)}}d=new(b("URI"))(b("WWWBase").uri).setPath("/ajax/photos/logging/session_logging.php");new(b("AsyncRequest"))().setAllowCrossPageTransition(!0).setURI(d).setOption("asynchronous_DEPRECATED",a!=g.UNLOAD).setOption("suppressErrorHandlerWarning",!0).setData(c).send()}});b("Run").onUnload(function(){g.logPhotoViews(g.UNLOAD)});b("Run").onLeave(function(){g.logPhotoViews(g.LEAVE)});e.exports=g}),null);
__d("PhotosUtils",["Vector"],(function(a,b,c,d,e,f){__p&&__p();function a(){}Object.assign(a,{getNearestBox:function(a,b){var c=Infinity,d=null;for(var e in a){var f=a[e];if(f.contains(b)){f=b.distanceTo(f.getCenter());f<c&&(c=f,d=e)}}return d},absoluteToNormalizedPosition:function(a,c){var d=b("Vector").getElementPosition(a);a=b("Vector").getElementDimensions(a);c=c.sub(d).mul(100/a.x,100/a.y);c.domain="pure";return c},normalizedToAbsolutePosition:function(a,c){var d=b("Vector").getElementPosition(a);a=b("Vector").getElementDimensions(a);c=c.mul(a.x/100,a.y/100).add(d);c.domain="document";return c},isFacebox:function(a){return a.match(/^face:/)},isTag:function(a){return a.match(/^tag:/)}});e.exports=a}),null);
__d("PhotoPermalinkURI",[],(function(a,b,c,d,e,f){__p&&__p();var g={isValid:function(a){return g.parse(a)!==null},parse:function(a){__p&&__p();if(this.isValidLegacy(a)){var b=a.getQueryData();if(b.fbid)return{photo_id:b.fbid,set_token:b.set};return b.id&&b.pid?{photo_id:b.id+":"+b.pid,set_token:b.set}:null}b=a.getPath();b[b.length-1]==="/"&&(b=b.substring(0,b.length-1));a=b.split("/");if(a.length>=3&&a[2]==="photos")if(a.length===4&&/^\d+$/.exec(a[3])!==null)return{photo_id:a[3],set_token:null};else if(a.length===5&&/^\d+$/.exec(a[4])!==null)return{photo_id:a[4],set_token:a[3]};return null},isValidLegacy:function(a){a=a.getPath();a[a.length-1]==="/"&&(a=a.substring(0,a.length-1));return a==="/photo.php"||a==="/force_photo/photo.php"||a==="/photo"||a==="/force_photo/photo/index.php"||a==="/photo/index.php"||a==="/force_photo/photo"||a==="/video.php"||a==="/video/video.php"?!0:!1}};e.exports=g}),null);
__d("PhotoTagSearchPivotLogger",["Banzai"],(function(a,b,c,d,e,f){__p&&__p();var g={};b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){Object.keys(g).forEach(function(a){var c=g[a];Object.keys(c).forEach(function(d){b("Banzai").post("photo_tag_search_pivot",{source:a,action:d,count:c[d]})})})});var h=/^(perm:)?tag:/,i;a={logImpression:function(a,b){a=a in g?g[a]:g[a]={};a[b]=b in a?a[b]+1:1},logImageImpression:function(a,b,c){i!==b&&(c.some(function(a){return h.test(a)})&&this.logImpression(a,"image_impression"),i=b)},logPivotImpression:function(a,b){h.test(b)&&this.logImpression(a,"pivot_impression")},logShowMorePhotos:function(){this.logImpression("photoset","show_more_photos")},logHideMorePhotos:function(){this.logImpression("photoset","hide_more_photos")},logSuggestMorePhotos:function(){this.logImpression("photoset","suggest_more_photos")},logMorePhotosNavigation:function(a){b("Banzai").post("photo_tag_search_pivot",{source:"photoset",action:"more_photos_search",query:a,count:1})}};e.exports=a}),null);
__d("PhotosetSearchPivot.react",["cx","fbt","LeftRight.react","PhotosetSearchPivotData","PhotoTagSearchPivotLogger","React","XUISpinner.react","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;a=b("React").PropTypes;c=babelHelpers.inherits(j,b("React").Component);i=c&&c.prototype;function j(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.onClick=function(){b("PhotoTagSearchPivotLogger").logMorePhotosNavigation(this.props.normalized)}.bind(this),c}j.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_25r"},b("React").createElement("a",{onClick:this.onClick,href:this.props.uri,className:"_25t _3-8t"},b("React").createElement("div",{className:"_25u"},b("React").createElement("div",{className:"_25v _25w",style:{backgroundImage:"url("+this.props.images[0].uri+")"}}),b("React").createElement("div",{className:"_25x"},b("React").createElement("div",{className:"_25y"},b("React").createElement("div",{className:"_25z"}),b("React").createElement("div",{className:"_26r"},b("React").createElement("div",{className:"_273 _25w",style:{backgroundImage:"url("+this.props.images[1].uri+")"}}))),b("React").createElement("div",{className:"_274"},b("React").createElement("div",{className:"_25z"}),b("React").createElement("div",{className:"_26r"},b("React").createElement("div",{className:"_273 _25w",style:{backgroundImage:"url("+this.props.images[2].uri+")"}}))))),b("React").createElement(b("XUIText.react"),{display:"block",className:"_27f _2pi4",dangerouslySetInnerHTML:{__html:this.props.title.__html}})))};j.propTypes={normalized:a.string,title:a.object,uri:a.string,images:a.array};d=b("React").createClass({displayName:"PhotosetSearchPivot",propTypes:{fbid:a.string,endofalbum:a.bool,withBackground:a.bool,linesAroundHeader:a.bool,onclose:a.func},fetchPivots:function(a){b("PhotosetSearchPivotData").fetch(a).then(function(b){setTimeout(this.onFetchSuccess.bind(this,a,b.pivots),0)}.bind(this),function(b){setTimeout(this.onFetchError.bind(this,a),0)}.bind(this))},onFetchSuccess:function(a,b){if(!this.isMounted()||this.props.fbid!==a)return;b=b||[];a="show";b.length===0&&(a="hide");this.setState({pivots:b,action:a})},onFetchError:function(a){if(!this.isMounted()||this.props.fbid!==a)return;this.setState({pivots:[],action:"hide"})},getInitialState:function(){this.fetchPivots(this.props.fbid);return{pivots:[],action:"loading"}},UNSAFE_componentWillReceiveProps:function(a){a.fbid?(this.setState({action:"loading"}),this.fetchPivots(a.fbid)):this.setState({action:"hide",pivots:[]})},onExitClicked:function(){this.props.onclose()},render:function(){if(this.state.action==="loading")return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_27h _2ph_")},b("React").createElement(b("XUISpinner.react"),{size:"large"}));if(this.state.action==="hide")return b("React").createElement("span",null);var a=this.state.pivots.map(function(a){return b("React").createElement(j,{normalized:a.normalized,title:a.title,uri:a.uri,images:a.images})}),c=this.props.endofalbum?b("React").createElement("span",{className:"_2pij"},h._("H\u1ebft album")):null,d="_27m _2pi3 _2pib"+(this.props.linesAroundHeader?" _3-te":"");c=b("React").createElement("span",null,c,b("React").createElement("span",{className:"_4ptz"},h._("\u1ea2nh kh\u00e1c b\u1ea1n c\u00f3 th\u1ec3 th\u00edch")));this.props.onclose?c=b("React").createElement(b("LeftRight.react"),{className:d},c,b("React").createElement("a",{href:"#",onClick:this.onExitClicked,className:"_27n"})):c=b("React").createElement("div",{className:d},c);return b("React").createElement("div",{className:b("joinClasses")(this.props.className,(this.state.action==="hide"?"_27j":"")+(this.state.action==="show"?" _27k":""))},b("React").createElement("div",{className:"_27l"+(this.props.withBackground?" _3-tf":"")},c,b("React").createElement("div",{className:"_27o _2pi8 clearfix"},a)))}});e.exports=d}),null);
__d("PhotosetPivotSlide.react",["ix","cx","fbt","xuiglyph","Image.react","Link.react","PhotosetSearchPivot.react","React","XUIText.react"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);k=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.$1=function(){if(this.props.albumOwnerName)if(this.props.isAlbum)return i._("K\u1ebft th\u00fac album c\u1ee7a {user_name}",[i._param("user_name",b("React").createElement(b("XUIText.react"),{weight:"bold"},this.props.albumOwnerName))]);else return i._("K\u1ebft th\u00fac \u1ea3nh c\u1ee7a {user_name}",[i._param("user_name",b("React").createElement(b("XUIText.react"),{weight:"bold"},this.props.albumOwnerName))]);else if(this.props.isAlbum)return i._("K\u1ebft th\u00fac album");else return i._("K\u1ebft th\u00fac \u1ea3nh")}.bind(this),c}a.prototype.render=function(){"use strict";return b("React").createElement("div",{className:"_1_ap"+(this.props.visible?" _1_aq":"")},b("React").createElement("div",{className:"_1_ar"},b("React").createElement(b("XUIText.react"),{display:"block"},this.$1()),b("React").createElement(b("Link.react"),{className:"_1_as",onClick:this.props.onReturn},b("React").createElement(b("Image.react"),{className:"_1_at",src:g("88724")}),i._("Quay l\u1ea1i t\u1eeb \u0111\u1ea7u"))),b("React").createElement(b("PhotosetSearchPivot.react"),{className:"_1_au",fbid:this.props.visible?this.props.fbid:null,linesAroundHeader:!0}))};a.propTypes={fbid:c.string,isAlbum:c.bool,albumOwnerName:c.string,visible:c.bool,onReturn:c.func};e.exports=a}),null);
__d("DisableContextMenuMixin",["Event","emptyFunction"],(function(a,b,c,d,e,f){"use strict";a=b("emptyFunction");c={getContextMenuContainer:a,_contextMenuEventHandler:null,disableContextMenu:function(){if(this._contextMenuEventHandler)return;this._contextMenuEventHandler=b("Event").listen(this.getContextMenuContainer(),"contextmenu",function(a){a.preventDefault(),a.stopPropagation()})},enableContextMenu:function(){this._contextMenuEventHandler&&(this._contextMenuEventHandler.remove(),this._contextMenuEventHandler=null)}};e.exports=c}),null);
__d("LikeConfirmer",["AsyncDialog","AsyncRequest"],(function(a,b,c,d,e,f){__p&&__p();var g=!1,h=!1;a={likeContent:function(){},like:function(a,c){__p&&__p();this.likeContent=a;if(h)return;if(g)this.likeContent();else{a=new(b("AsyncRequest"))().setURI("/like/confirm_like.php").setRelativeTo(c);b("AsyncDialog").send(a,function(a){h=!0,a.subscribe("hide",this.onCloseLikeConfirmDialog.bind(this)),a.setCausalElement(c)}.bind(this))}return!1},isShowingConfirmation:function(){return h},onCloseLikeConfirmDialog:function(){h=!1},likeSkipConfirmation:function(a){g=a,this.likeContent()}};e.exports=a}),null);
__d("ObjectionableContentFilterMixin",["csx","cx","CSS","DOM","emptyFunction"],(function(a,b,c,d,e,f,g,h){__p&&__p();a=b("emptyFunction");c={getObjectionableWarningContainer:a,getObjectionableWarningHiddenContent:a,_objectionableWarningMarkup:null,_objectionableWarningOverlay:null,_objectionableWarningHiddenContentWrapper:null,_objectionableWarningHiddenContent:null,showObjectionableWarning:function(a){var c="._f_2",d="._f_g";this._objectionableWarningMarkup&&this.hideObjectionableWarning();this._objectionableWarningOverlay=b("DOM").scry(a,c).pop();this._objectionableWarningHiddenContentWrapper=b("DOM").scry(a,d).pop();this._objectionableWarningOverlay&&b("CSS").show(this._objectionableWarningOverlay);this._objectionableWarningHiddenContentWrapper&&(this.getObjectionableWarningContainer().replaceChild(a,this.getObjectionableWarningHiddenContent()),this._objectionableWarningHiddenContentWrapper.appendChild(this.getObjectionableWarningHiddenContent()),b("CSS").addClass(a,"_dbl"));this._objectionableWarningMarkup=a;this._objectionableWarningHiddenContent=this.getObjectionableWarningHiddenContent()},hideObjectionableWarning:function(){if(!this.getObjectionableWarningContainer().contains(this._objectionableWarningMarkup))return;this.getObjectionableWarningContainer().replaceChild(this._objectionableWarningHiddenContent,this._objectionableWarningMarkup)}};e.exports=c}),null);
__d("PhotoSnowliftAds",["csx","Arbiter","CSS","DataAttributeUtils","DataStore","DOM","Event","PhotoSessionLog","UIPagelet","URI","Vector","cxodecode"],(function(a,b,c,d,e,f,g){__p&&__p();var h=void 0,i={REFRESH_RATE:3e4,UNITS_REGISTER_DELAY:1e3,root:null,availableDimensions:null,loadQuery:null,lastLoadTime:0,minAds:100,units:null,isLogAdData:null,displayedCallback:null,position:null,adsStatus:"null",adsEvents:{},resetEvents:function(){this.adsStatus="reset",this.adsEvents={}},addEvent:function(a,b){b&&(this.adsStatus=a);b=Date.now();this.adsEvents[a+"_"+b]=b},init:function(a,c,d,e){d.nonce&&(h=b("cxodecode")(d.nonce)),this.reset(),this.root=a,this.snowlift=c,this.minAds=d.min_ads,this.displayedCallback=e,this.addEvent("init",!0)},reset:function(){this.lastLoadTime=0,this.position=0,this.units=[],this.resetEvents(),this.addEvent("reset",!0)},resize:function(a){this.availableDimensions=a,this.loadQuery=this.snowlift.getLoadQuery(),this.processResize()},calculateUnitSizes:function(a,c,d){__p&&__p();var e={};a.forEach(function(a){__p&&__p();var f=a.root.firstChild.offsetHeight;a.units.forEach(function(a){if(!b("CSS").hasClass(a,"hidden")&&!this.getIsHoldout(a)&&!this.getIsShadow(a)){a=this.getHeight(a.firstChild,c);f-=a}}.bind(this));var g={height:f,visible:!1};a.units.forEach(function(a){var b=this.getIsAds(a),f=this.getHeight(a.firstChild,c),h=this.getUnitId(a);a=this.getIsHoldout(a);if(a&&d)return;e[h]={height:f,visible:!1,priority:0,is_ads:b,is_holdout:a,section_ref:g}}.bind(this))}.bind(this));return e},calculateVisibleUnits:function(a,b,c){__p&&__p();a=this.getUnitPriority(b);a.forEach(function(a){if(Object.prototype.hasOwnProperty.call(b,a)){a=b[a];var d=a.height;a.section_ref.visible||(d+=a.section_ref.height);a.height_below=c-d;a.visible=a.height_below>=0&&d>0;a.visible&&(a.section_ref.visible=!0,c-=d)}});return b},displayUnits:function(a,c){__p&&__p();a.forEach(function(a){__p&&__p();var d=!1,e=!0;a.units.forEach(function(a){__p&&__p();var f=this.getUnitId(a),g=c[f];if(!g)return;var h=g.visible,i=g.height_below;g=g.is_ads;b("CSS").conditionClass(a,"hidden",!h);if(g&&h&&e){a=b("DOM").find(a,"div.ego_unit");b("CSS").addClass(a,"ego_unit_no_top_border");e=!1}d=d||h;this.calcUnitStats(this.units[g][f],h,i)}.bind(this));b("CSS").conditionClass(a.root,"hidden",!d)}.bind(this)),b("Arbiter").inform("PhotoSnowliftAds/displayUnits")},getUnitsDisplayed:function(a,b){var c=0;a.forEach(function(a){a.units.forEach(function(a){a=this.getUnitId(a);a=b[a];if(!a||!a.visible)return;c++}.bind(this))}.bind(this));return c},getHeightsRequired:function(a,b){__p&&__p();var c=0,d=[];a.forEach(function(a){var e=!1;a.units.forEach(function(a){a=this.getUnitId(a);a=b[a];if(!a)return;c+=a.height;e||(c+=a.section_ref.height,e=!0);d.push(c)}.bind(this))}.bind(this));return d},getUnitPriority:function(a){__p&&__p();var b=[],c=0,d=0;for(var e in a){var f=a[e];b.push(e);var g=this.minAds+c+d;f.is_ads?(d<this.minAds&&(g=d),d++):c++;f.priority=g}b=b.sort(function(b,c){b=a[b];c=a[c];return b.priority-c.priority});return b},updateUnitsStatus:function(){__p&&__p();var a=this.availableDimensions.x,b=this.availableDimensions.y,c=this.calculateUnitSizes(this.sections,a);c=this.calculateVisibleUnits(this.sections,c,b);for(var d in c){if(!Object.prototype.hasOwnProperty.call(c,d))continue;var e=c[d];if(!e.is_holdout||!e.visible)continue;var f=this.units[1][d];this.calcUnitStats(f,e.visible,e.height_below)}c=this.calculateUnitSizes(this.sections,a,!0);c=this.calculateVisibleUnits(this.sections,c,b);this.displayUnits(this.sections,c);if(this.displayedCallback){f=this.getUnitsDisplayed(this.sections,c);e=this.getHeightsRequired(this.sections,c);this.displayedCallback(f,e)}},calcUnitStats:function(a,b,c){__p&&__p();if(!a)return;var d=Date.now();a.visible&&(a.totalTime+=d-a.lastShowTime);if(a.trackingCode!==null&&a.totalTime>=this.UNITS_REGISTER_DELAY){var e=a.trackingCode;a.trackingCode=null;this.registerImpression(e,a.registerUrl)}a.visible=b;a.heightBelow=c;a.lastShowTime=d},prepareResize:function(){var a=function(a){var c=b("DOM").create("div",{className:"inner"}),d=b("DOM").create("div",{className:"wrapper"},c);b("DOM").replace(a,d);b("DOM").setContent(c,a);return d};this.sections=b("DOM").scry(this.root,"div.ego_section").map(function(c){return{root:a(c),units:b("DOM").scry(c,"div.ego_unit").map(a)}})},processResize:function(){if(this.isLoading||this.lastLoadTime===0||this.availableDimensions===null){this.setLogData();return}this.updateUnitsStatus();this.setLogData();var a=this.nextRegisterTime();a!==Infinity&&setTimeout(this.processResize.bind(this),a)},setIsLogAdData:function(a){this.isLogAdData=a,this.addEvent("setIsLogAdData",!1),this.setLogData()},setLogData:function(){var a=this.snowlift.getImageId();if(this.isLogAdData&&a){var c=b("Vector").getElementDimensions(this.snowlift.getImage()),d=b("Vector").getElementDimensions(this.snowlift.getRHCHeader()),e=b("Vector").getElementDimensions(this.snowlift.getRHCBody()),f=b("Vector").getElementDimensions(this.snowlift.getRHCFooter());c={query_set:this.snowlift.getLoadQuery().set,window_x:window.innerWidth,window_y:window.innerHeight,image_x:c.x,image_y:c.y,header_x:d.x,header_y:d.y,body_x:e.x,body_y:e.y,footer_x:f.x,footer_y:f.y,ads_below_space:this.getAdsBelowSpace(),time:Date.now(),adsStatus:this.adsStatus,adsEvents:this.adsEvents,refreshRate:this.refreshUnitsRate,position:this.position};b("PhotoSessionLog").updateAdData(a,c)}},getAdsBelowSpace:function(){var a=[],b=this.units[1];for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&!this.getIsHoldout(this.getAdUnit(c))&&a.push(b[c].heightBelow);return a},getIsAds:function(a){a=b("DOM").scry(a,h||"div._4u8");return a.length},getUnitId:function(a){if(this.getIsAds(a))return this.getAdId(a);else return this.getEgoId(a)},getEgoId:function(a){a=b("DOM").find(a,"div.ego_unit");return a.getAttribute("data-ego-fbid")},getAdData:function(a){a=b("DOM").find(a,h||"div._4u8");a=b("DataAttributeUtils").getDataAttribute(a,"data-ad");return a&&JSON.parse(a)||{}},getAdId:function(a){return this.getAdData(a).adid},getIsHoldout:function(a){return a&&this.getIsAds(a)&&this.getAdData(a).holdout},getIsShadow:function(a){return a&&this.getIsAds(a)&&this.getAdData(a).shadow},getAdUnit:function(a){if(!this.sections)return null;var b=[];this.sections.forEach(function(a){b.push.apply(b,a.units)});for(var c=0;c<b.length;c++)if(this.getIsAds(b[c])&&this.getAdId(b[c])==a)return b[c];return null},nextRegisterTime:function(){var a=Infinity,b=babelHelpers["extends"]({},this.units[0],this.units[1]);for(var c in b)if(Object.prototype.hasOwnProperty.call(b,c)){var d=b[c];d.trackingCode!==null&&d.visible&&(a=Math.min(a,this.UNITS_REGISTER_DELAY-d.totalTime))}return a},getHeight:function(a,c){var d=b("DataStore").get(a,"height");return d&&d.x===c?d.y:this.cacheHeight(a,c)},cacheHeight:function(a,c){c={x:c,y:a.offsetHeight};b("DataStore").set(a,"height",c);return c.y},loadAdsAndEgo:function(){if(this.loadQuery){this.resetEvents();this.addEvent("adsRequested",!0);this.position++;var a=this.getCursorFBID(this.loadQuery);b("UIPagelet").loadFromEndpoint("WebEgoPane",this.root,{pid:34,data:[this.loadQuery.set,a,!1,this.snowlift.getOpaqueCursor(a)]},{crossPage:!0,bundle:!1})}},getCursorFBID:function(a){if(a){if(a.v!==undefined)return a.v;if(a.fbid!==undefined)return a.fbid}return"0"},unitsLoaded:function(a,b){var c;b?(c="/ai.php",this.addEvent("adsLoaded",!0)):(c="/ajax/ei.php",this.addEvent("egoLoaded",!0));var d={};for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(d[e]={trackingCode:a[e],totalTime:0,lastShowTime:0,heightBelow:-1e4,visible:!1,registerUrl:c});this.units[b]=d;this.units[0]&&this.units[1]&&this.waitForImages(this.imagesLoaded.bind(this))},imagesLoaded:function(){this.prepareResize(),this.addEvent("imagesLoaded",!0),this.lastLoadTime=Date.now(),this.isLoading=!1,this.processResize(),b("CSS").removeClass(this.root,"loading")},loadAdsFromUserActivity:function(){var a=Date.now()-this.lastLoadTime;!this.isLoading&&a>i.REFRESH_RATE&&(b("CSS").addClass(this.root,"loading"),this.isLoading=!0,this.loadAdsAndEgo())},registerImpression:function(a,c){c=b("DOM").create("iframe",{src:new(b("URI"))(c).addQueryData({aed:a}),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"});c.setAttribute("aria-hidden","true");b("DOM").appendContent(this.root,c)},waitForImages:function(a){var c=b("DOM").scry(this.root,"img.img"),d=c.length,e=d;e===0&&a();var f=function(){e--,e===0&&setTimeout(a,0)};for(var g=0;g<d;g++){var h=c[g];h.complete?f():b("Event").listen(h,{load:f,error:f,abort:f})}}};e.exports=i}),null);
__d("PhotoSnowliftBackLink.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("a",{className:"_1cac"+(this.props.visible?" _1cad":""),href:this.props.href},this.props.name)};function a(){h.apply(this,arguments)}a.propTypes={href:c.string,name:c.string,visible:c.bool};e.exports=a}),null);
__d("PhotoSnowliftViewable",["cx","CSS","DOM","EventEmitter","Vector"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=2e3;c=babelHelpers.inherits(a,b("EventEmitter"));h=c&&c.prototype;function a(){__p&&__p();var a=arguments.length<=0||arguments[0]===undefined?i:arguments[0],c=arguments.length<=1||arguments[1]===undefined?1:arguments[1];h.constructor.call(this);this.$PhotoSnowliftViewable5=b("DOM").create("div",{className:"_2-sx"});this.$PhotoSnowliftViewable4=a;this.$PhotoSnowliftViewable3=c;this.$PhotoSnowliftViewable1=null;this.$PhotoSnowliftViewable2=0;this.$PhotoSnowliftViewable6();setTimeout(function(){return this.whenReady(function(){return this.$PhotoSnowliftViewable7()}.bind(this))}.bind(this),0)}a.prototype.$PhotoSnowliftViewable6=function(){"use strict";this.$PhotoSnowliftViewable1=setTimeout(function(){return this.$PhotoSnowliftViewable8()}.bind(this),this.$PhotoSnowliftViewable4)};a.prototype.$PhotoSnowliftViewable8=function(){"use strict";if(this.isReady())return;this.$PhotoSnowliftViewable2<this.$PhotoSnowliftViewable3?(this.reload(),this.$PhotoSnowliftViewable2++,this.$PhotoSnowliftViewable6()):this.emit("loadingfailed")};a.prototype.reload=function(){"use strict"};a.prototype.$PhotoSnowliftViewable7=function(){"use strict";this.$PhotoSnowliftViewable1!==null&&(clearTimeout(this.$PhotoSnowliftViewable1),this.$PhotoSnowliftViewable1=null)};a.prototype.getElement=function(){"use strict";return this.$PhotoSnowliftViewable5};a.prototype.show=function(){"use strict";b("CSS").show(this.getElement())};a.prototype.hide=function(){"use strict";b("CSS").hide(this.getElement())};a.prototype.suspend=function(){"use strict"};a.prototype.resume=function(){"use strict"};a.prototype.onToggleIntoFullScreen=function(){"use strict"};a.prototype.onToggleOutOfFullScreen=function(){"use strict"};a.prototype.onEnterFullScreen=function(){"use strict"};a.prototype.onExitFullScreen=function(){"use strict"};a.prototype.getNaturalDimensions=function(){"use strict";return this.getDimensions()};a.prototype.getDimensions=function(){"use strict";return b("Vector").getElementDimensions(this.getElement())};a.prototype.setDimensions=function(a){"use strict";var b=this.getElement();b.style.width=a.x+"px";b.style.height=a.y+"px"};a.prototype.isReady=function(){"use strict";throw new Error("Viewable has no concept of readiness - should be calling a subclass")};a.prototype.whenReady=function(a){"use strict";this.isReady()?setTimeout(a,0):this.once("ready",a)};e.exports=a}),null);
__d("PhotoSnowliftViewableImageWrapper",["Event","EventProfiler","ImageUtils","PhotoSnowliftViewable","TimeSlice","Vector"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("PhotoSnowliftViewable"));g=c&&c.prototype;function a(a){"use strict";__p&&__p();g.constructor.call(this);b("EventProfiler").tagCurrentActiveInteractionsAs("PSVImageWrapper");this.$PhotoSnowliftViewableImageWrapper1=a;this.getElement().appendChild(a);if(this.$PhotoSnowliftViewableImageWrapper1.complete)this.$PhotoSnowliftViewableImageWrapper2();else{a=b("TimeSlice").getGuardedContinuation("PhotoSnowLiftViewable photo load");b("Event").listen(this.$PhotoSnowliftViewableImageWrapper1,"load",a.bind(null,function(){return this.$PhotoSnowliftViewableImageWrapper2()}.bind(this)))}}a.prototype.$PhotoSnowliftViewableImageWrapper2=function(){"use strict";this.emit("ready"),b("EventProfiler").informPointOnActiveInteractions("snowlift_image_loaded",{isPointOfInterest:!0},!0)};a.prototype.isReady=function(){"use strict";return b("ImageUtils").hasLoaded(this.$PhotoSnowliftViewableImageWrapper1)};a.prototype.getNaturalDimensions=function(){"use strict";return this.$PhotoSnowliftViewableImageWrapper1&&this.$PhotoSnowliftViewableImageWrapper1.naturalWidth&&this.$PhotoSnowliftViewableImageWrapper1.naturalHeight?b("Vector").from(this.$PhotoSnowliftViewableImageWrapper1.naturalWidth,this.$PhotoSnowliftViewableImageWrapper1.naturalHeight):g.getNaturalDimensions.call(this)};e.exports=a}),null);
__d("PhotoSnowliftViewablePhoto",["Bootloader","DOM","EncryptedImg","Event","EventProfiler","ImageUtils","PhotoSnowliftViewable","TimeSlice","Vector"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(a,c){a.src&&a.complete?setTimeout(c,0):(function(){var d=b("Event").listen(a,"load",function(){d.remove(),c()})})()}function i(a,c){b("EncryptedImg").isEncrypted(c)?b("EncryptedImg").insertIntoDOM(c,a):a.src=c}c=babelHelpers.inherits(a,b("PhotoSnowliftViewable"));g=c&&c.prototype;function a(a,c){__p&&__p();var d=arguments.length<=2||arguments[2]===undefined?!1:arguments[2],e=arguments[3],f=arguments[4],h=arguments.length<=5||arguments[5]===undefined?!1:arguments[5],i=arguments.length<=6||arguments[6]===undefined?!1:arguments[6],j=arguments[7],k=arguments.length<=8||arguments[8]===undefined?!1:arguments[8];g.constructor.call(this);b("EventProfiler").tagCurrentActiveInteractionsAs("PSVPhoto");this.$PhotoSnowliftViewablePhoto2=e;this.$PhotoSnowliftViewablePhoto7=a;this.$PhotoSnowliftViewablePhoto6=c;this.$PhotoSnowliftViewablePhoto3=d;this.$PhotoSnowliftViewablePhoto1=j;this.$PhotoSnowliftViewablePhoto8=f;this.$PhotoSnowliftViewablePhoto9=h;this.$PhotoSnowliftViewablePhoto10=i;this.$PhotoSnowliftViewablePhoto11=k;this.addListener("imageloaded",function(a){return this.$PhotoSnowliftViewablePhoto13(a)}.bind(this));this.$PhotoSnowliftViewablePhoto14()}a.prototype.$PhotoSnowliftViewablePhoto14=function(){"use strict";__p&&__p();this.$PhotoSnowliftViewablePhoto4&&this.$PhotoSnowliftViewablePhoto4.parentElement&&this.$PhotoSnowliftViewablePhoto4.parentElement.removeChild(this.$PhotoSnowliftViewablePhoto4);var a=b("DOM").create("img",{className:"spotlight",alt:this.$PhotoSnowliftViewablePhoto1});this.$PhotoSnowliftViewablePhoto2&&this.$PhotoSnowliftViewablePhoto2.setElementDimensions(a);this.$PhotoSnowliftViewablePhoto4=a;this.$PhotoSnowliftViewablePhoto4.setAttribute("aria-busy","true");this.getElement().appendChild(this.$PhotoSnowliftViewablePhoto4);this.$PhotoSnowliftViewablePhoto12=b("TimeSlice").getGuardedContinuation("PhotoSnowliftViewable image load");this.$PhotoSnowliftViewablePhoto15(this.$PhotoSnowliftViewablePhoto16());h(this.$PhotoSnowliftViewablePhoto4,this.$PhotoSnowliftViewablePhoto12.bind(undefined,function(){this.emit("imageloaded",a)}.bind(this)));this.whenReady(function(){return this.$PhotoSnowliftViewablePhoto17()}.bind(this));this.$PhotoSnowliftViewablePhoto18();this.$PhotoSnowliftViewablePhoto19()};a.prototype.$PhotoSnowliftViewablePhoto19=function(){"use strict";this.$PhotoSnowliftViewablePhoto10&&!this.$PhotoSnowliftViewablePhoto9&&b("Bootloader").loadModules(["PhotoSnowliftViewableWithContextMenuLogging"],function(a){a=a.setupContextMenuLogging;a(this.getElement(),this.$PhotoSnowliftViewablePhoto8)}.bind(this),"PhotoSnowliftViewablePhoto")};a.prototype.$PhotoSnowliftViewablePhoto18=function(){"use strict";if(!this.$PhotoSnowliftViewablePhoto11)return;b("Bootloader").loadModules(["PhotoSnowliftViewableWithShieldIconOverlay"],function(a){a=a.setupShieldIconOverlay;a(this.getElement())}.bind(this),"PhotoSnowliftViewablePhoto")};a.prototype.$PhotoSnowliftViewablePhoto15=function(a){"use strict";this.$PhotoSnowliftViewablePhoto5=a,i(this.$PhotoSnowliftViewablePhoto4,this.$PhotoSnowliftViewablePhoto5)};a.prototype.$PhotoSnowliftViewablePhoto13=function(a){"use strict";if(this.$PhotoSnowliftViewablePhoto4!==a)return;this.emit("ready")};a.prototype.reload=function(){"use strict";this.$PhotoSnowliftViewablePhoto12&&b("TimeSlice").cancel(this.$PhotoSnowliftViewablePhoto12),this.$PhotoSnowliftViewablePhoto14()};a.prototype.$PhotoSnowliftViewablePhoto16=function(){"use strict";return this.$PhotoSnowliftViewablePhoto3?this.$PhotoSnowliftViewablePhoto7:this.$PhotoSnowliftViewablePhoto6||this.$PhotoSnowliftViewablePhoto7};a.prototype.$PhotoSnowliftViewablePhoto17=function(){"use strict";this.$PhotoSnowliftViewablePhoto4.setAttribute("aria-busy","false")};a.prototype.isReady=function(){"use strict";return this.$PhotoSnowliftViewablePhoto4.src&&b("ImageUtils").hasLoaded(this.$PhotoSnowliftViewablePhoto4)};a.prototype.getNaturalDimensions=function(){"use strict";if(this.$PhotoSnowliftViewablePhoto2)return this.$PhotoSnowliftViewablePhoto2;return this.$PhotoSnowliftViewablePhoto4&&this.$PhotoSnowliftViewablePhoto4.naturalWidth&&this.$PhotoSnowliftViewablePhoto4.naturalHeight?b("Vector").from(this.$PhotoSnowliftViewablePhoto4.naturalWidth,this.$PhotoSnowliftViewablePhoto4.naturalHeight):g.getNaturalDimensions.call(this)};a.prototype.$PhotoSnowliftViewablePhoto20=function(){"use strict";return this.$PhotoSnowliftViewablePhoto5===this.$PhotoSnowliftViewablePhoto7};a.prototype.onToggleIntoFullScreen=function(){"use strict";this.$PhotoSnowliftViewablePhoto20()||this.$PhotoSnowliftViewablePhoto5!==this.$PhotoSnowliftViewablePhoto7&&i(new Image(),this.$PhotoSnowliftViewablePhoto7)};a.prototype.onEnterFullScreen=function(){"use strict";this.$PhotoSnowliftViewablePhoto20()||this.$PhotoSnowliftViewablePhoto15(this.$PhotoSnowliftViewablePhoto7)};e.exports=a}),null);
__d("SphericalMediaBootloaded.react",["cx","BootloadedComponent.react","JSResource","LoadingIndicator.react","React","SphericalMediaConstants"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SphericalMediaConstants").COMP_PHOTO_EDIT_THUMB,j=b("SphericalMediaConstants").COMP_PHOTO_VIEWER,k=function(a,c){return b("React").createElement("div",{className:a,style:c},b("React").createElement(b("LoadingIndicator.react"),{className:"_4qlq",size:"small",color:"white"}))};h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=void 0;switch(this.props.componentName){case i:var c=this.props.loadingElement||k("_7d7",{width:this.props.width,height:this.props.height});return b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:b("JSResource")("SphericalPhotoEditThumbnail.react").__setRef("SphericalMediaBootloaded.react"),bootloadPlaceholder:c},this.props));case j:a=b("React").createElement("div",null);return b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({bootloadLoader:b("JSResource")("SphericalPhotoViewer.react").__setRef("SphericalMediaBootloaded.react"),bootloadPlaceholder:a},this.props));default:return null}};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("SphericalMediaGyroOverlay.react",["cx","CSS","React","ReactDOM","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=800,j=function(a){var b=arguments.length<=1||arguments[1]===undefined?!0:arguments[1],c=arguments.length<=2||arguments[2]===undefined?!1:arguments[2];return{gyroRoot:"_1zvy"+(a?" _2dz7":"")+(b?" _4z8s":"")+(c?" _4z8p":""),gyroOuter:"_4z8q",gyroInner:"_4z8r",gyroMeridian:"_4z8t",gyroEquator:"_4z8u",gyroTextShell:"_4z8v",gyroText:"_4z8w"}};h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.componentDidUpdate=function(a){if(a.isActive&&!this.props.isActive)setTimeout(function(){var a=b("ReactDOM").findDOMNode(this);a instanceof Element&&b("CSS").hide(a)}.bind(this),i);else if(!this.props.isActive){a=b("ReactDOM").findDOMNode(this);a instanceof Element&&b("CSS").hide(a)}};a.prototype.componentDidMount=function(){if(!this.props.isActive){var a=b("ReactDOM").findDOMNode(this);a instanceof Element&&b("CSS").hide(a)}};a.prototype.render=function(){var a=this.props,c=a.className,d=a.isActive,e=a.isInfinite;a=a.isPaused;d=j(d,e,a);return b("React").createElement("div",{className:b("joinClasses")(c,d.gyroRoot)},b("React").createElement("div",{className:d.gyroOuter},b("React").createElement("div",{className:d.gyroInner},b("React").createElement("div",{className:d.gyroMeridian}),b("React").createElement("div",{className:d.gyroEquator})),b("React").createElement("div",{className:d.gyroTextShell},b("React").createElement("span",{className:d.gyroText},"360"))))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("SphericalPhotoPlaceHolderWithGyroOverlay.react",["cx","BackgroundImage.react","Image.react","React","SphericalMediaGyroOverlay.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_5nxw _1c1o"},this.props.showNewRenderer?b("React").createElement(b("BackgroundImage.react"),{backgroundSize:"contain",height:this.props.height,src:this.props.placeholderImageURL,width:this.props.width}):b("React").createElement(b("Image.react"),{className:"_1c1p",height:this.props.height,src:this.props.placeholderImageURL,width:this.props.width}),b("React").createElement(b("SphericalMediaGyroOverlay.react"),{className:"_1c1q",isActive:!0}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("ProfileOverviewDOMID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({MEDLEY_ROOT:"timeline-medley",PREFIX_APP_COLLECTION:"pagelet_timeline_app_collection_",PREFIX_COLLECTION_WRAPPER:"collection_wrapper_",PREFIX_MEDLEY:"pagelet_timeline_medley_",PREFIX_MEDLEY_HEADER:"medley_header_",PREFIX_RECOMMENDATION:"pagelet_recommendation_"})}),null);
__d("TimelineDOMID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER_CONTAINER:"timeline_composer_container",MEMORIES:"pagelet_timeline_memories",RECENT:"pagelet_timeline_recent",RECENT_CAPSULE_CONTAINER:"recent_capsule_container",STICKY_HEADER:"timeline_sticky_header",STICKY_HEADER_OVERVIEW:"timeline_sticky_header_overview",STICKY_HEADER_CONTAINER:"timeline_sticky_header_container",TAB_CONTENT:"timeline_tab_content",TAB_CONTENT_EXTRA:"timeline_tab_content_extra",ABOVE_COMPOSER:"timeline_above_composer",UNDER_COMPOSER:"timeline_under_composer",SERP_ENTRY_POINT:"serp_entry_point",UNSEEN_STORIES_INDICATOR:"recent_unseen_stories_indicator",TIMELINE_SCHEDULED_POSTS:"timeline_scheduled_posts",PREFIX_MONTH_ALL:"pagelet_timeline_month_all_",PREFIX_YEAR:"pagelet_timeline_year_",SUFFIX_MORE_PAGER:"_more_pager"})}),null);
__d("TimelineOverviewDOMID",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({TAB_CONTENT:"timeline_overview"})}),null);
__d("ProfileTabUtils",["ProfileOverviewDOMID","ProfileTabConst","TimelineDOMID","TimelineOverviewDOMID"],(function(a,b,c,d,e,f){__p&&__p();function g(a){return!a||a===b("ProfileTabConst").TIMELINE||a===b("ProfileTabConst").WALL}var h={isActivityLogTab:function(a){return a===b("ProfileTabConst").ALL_ACTIVITY||a===b("ProfileTabConst").APPROVAL},isTimelineOverviewTab:function(a){return a===b("ProfileTabConst").TIMELINE_OVERVIEW},isOverviewTab:function(a){return a===b("ProfileTabConst").INFO||a===b("ProfileTabConst").OVERVIEW},isTimelineTab:g,isMapTab:function(a){return a===b("ProfileTabConst").MAP},tabHasFixedAds:function(a){return!0},tabHasScrubber:function(a){return h.isActivityLogTab(a)},tabHasStickyHeader:function(a){return g(a)||h.isTimelineOverviewTab(a)},getIDForCollectionToken:function(a){return b("ProfileOverviewDOMID").PREFIX_APP_COLLECTION+a},getIDForSectionKey:function(a){return b("ProfileOverviewDOMID").PREFIX_MEDLEY+a},isMedleyTab:function(a){return!h.isTimelineTab(a)&&!h.isTimelineOverviewTab(a)},normalizeTabKey:function(a){return h.isTimelineTab(a)?b("ProfileTabConst").TIMELINE:a},getIDForTabKey:function(a){if(h.isTimelineTab(a))return b("TimelineDOMID").TAB_CONTENT;return h.isTimelineOverviewTab(a)?b("TimelineOverviewDOMID").TAB_CONTENT:b("ProfileOverviewDOMID").MEDLEY_ROOT}};e.exports=h}),null);
__d("SphericalPhotoViewerLogEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CDN_IMAGE_FAILURE:"spherical_photo_cdn_image_failure",CUBE_LOAD_TIME:"spherical_photo_cube_load_time",DRAG_MOUSE_ANIMATION:"spherical_photo_drag_mouse_animation",DRAG_START:"spherical_photo_drag_start",ENTER_FULLSCREEN:"spherical_photo_tap_feed_to_fullscreen",EXIT_FULLSCREEN:"spherical_photo_fullscreen_exited",FALLBACK_LEARNMORE:"spherical_photo_fallback_learnmore",FALLBACK_PREVIEW:"spherical_photo_fallback_preview",FEED_VP_ENTERED:"spherical_photo_feed_vp_entered",FEED_VP_EXITED:"spherical_photo_feed_vp_exited",LOADED:"spherical_photo_loaded",MOUSEOVER_START:"spherical_photo_mouseover_start",PHONE_PAN_ANIMATION:"spherical_photo_phone_pan_animation",RENDER_FRAME_RATE:"spherical_photo_render_frame_rate",RENDERER_SETUP:"spherical_photo_renderer_setup",RENDERER_STATS:"spherical_photo_renderer_stats",SHOW_VIEW_IN_VR:"spherical_photo_show_view_in_vr",SIGNIFICANT_MOVEMENT:"spherical_photo_significant_movement",TAP_HEADING_INDICATOR:"spherical_photo_tap_heading_indicator",TAP_VIEW_IN_VR:"spherical_photo_tap_view_in_vr",WEBGL_CONTEXT_LOST:"spherical_photo_webgl_context_lost",WEBGL_INIT_FAILURE:"spherical_photo_webgl_init_failure",WEBGL_RENDER_FAILURE:"spherical_photo_webgl_render_failure",M_SENSOR_SETUP_FAILURE:"spherical_photo_m_sensor_setup_failure",WWW_ENTER_SNOWLIFT:"spherical_photo_www_enter_snowlift",WWW_EXIT_SNOWLIFT:"spherical_photo_www_exit_snowlift",WWW_GYRO_START:"spherical_photo_www_gyro_start",ZOOM_START:"spherical_photo_zoom_start",INITIAL_VIEW_MODIFIED:"spherical_photo_initial_view_modified",POST_EVENT:"spherical_photo_post_event",TOGGLE_OFF:"spherical_photo_toggle_off",TOGGLE_ON:"spherical_photo_toggle_on",WWW_IVS_OPEN:"spherical_photo_www_ivs_open",WWW_IVS_CANCEL:"spherical_photo_www_ivs_cancel",WWW_IVS_ENABLE_ON_SAVE:"spherical_photo_www_ivs_enable_on_save",WWW_IVS_DISABLE_ON_SAVE:"spherical_photo_www_ivs_disable_on_save",WWW_IVS_REQUEST_DONE:"spherical_photo_www_ivs_request_done",WWW_IVS_REQUEST_FAILED:"spherical_photo_www_ivs_request_failed",WWW_IVS_REQUEST_START:"spherical_photo_www_ivs_request_start",WWW_IVS_UPDATE_DONE:"spherical_photo_www_ivs_update_done",WWW_IVS_UPDATE_FAILED:"spherical_photo_www_ivs_update_failed",WWW_IVS_UPDATE_START:"spherical_photo_www_ivs_update_start",SERVER_IVS_UPDATE_DONE:"spherical_photo_server_ivs_update_done",SERVER_IVS_UPDATE_FAILED:"spherical_photo_server_ivs_update_failed",SERVER_IVS_UPDATE_START:"spherical_photo_server_ivs_update_start",DRAG_START_DEPRECATED:"drag_start_360_photo",PHONE_PAN_ANIMATION_DEPRECATED:"phone_pan_animation_360_photo",SHOW_VIEW_IN_VR_DEPRECATED:"show_360_photo_view_in_vr",SIGNIFICANT_MOVEMENT_DEPRECATED:"significant_movement_360_photo",TAP_FEED_TO_FULLSCREEN_DEPRECATED:"tap_360_photo_feed_to_fullscreen",TAP_HEADING_INDICATOR_DEPRECATED:"tap_360_photo_heading_indicator",TAP_VIEW_IN_VR_DEPRECATED:"tap_360_photo_view_in_vr",ZOOM_START_DEPRECATED:"zoom_start_360_photo"})}),null);
__d("SphericalPhotoViewerLoggerUtil",["Bootloader","CSS","FullScreen","ProfileTabUtils","SphericalPhotoViewerLogEvents","SphericalPhotoViewerTypedLogger","URI","SphericalMediaConstants"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="timelineLayout",h=b("SphericalMediaConstants").LOGGER_SURFACES,i=function(a){__p&&__p();if(b("FullScreen").isFullScreen())return h.fullpage;var c=b("URI").getMostRecentURI();if(Object.prototype.hasOwnProperty.call(c.getQueryData(),"theater"))return h.snowlift;if(c.getPath()==="/"||c.getPath()==="/home.php")return h.newsfeed;var d=a.getTabKeyFromURI(c);a=a.getVanityFromURI(c);return a&&b("ProfileTabUtils").isTimelineTab(d)&&document.body&&b("CSS").hasClass(document.body,g)?h.timeline:h.other},j={logTapHeadingIndicator:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").TAP_HEADING_INDICATOR,a)},logDragStart:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").DRAG_START,a)},logMouseOverStart:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").MOUSEOVER_START,a)},logWWWGyroStart:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_GYRO_START,a)},logZoomStart:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").ZOOM_START,a)},logDragMouseAnimation:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").DRAG_MOUSE_ANIMATION,a)},logEnterSnowlift:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_ENTER_SNOWLIFT,a)},logExitSnowlift:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_EXIT_SNOWLIFT,a)},logEnterFullScreen:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").ENTER_FULLSCREEN,a)},logExitFullScreen:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").EXIT_FULLSCREEN,a)},logSignificantMovement:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").SIGNIFICANT_MOVEMENT,a)},logIVSOpen:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_IVS_OPEN,a)},logIVSCancel:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_IVS_CANCEL,a)},logIVSEnableSphericalOnSave:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_IVS_ENABLE_ON_SAVE,a)},logIVSDisableSphericalOnSave:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_IVS_DISABLE_ON_SAVE,a)},logToggleOn:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").TOGGLE_ON,a)},logToggleOff:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").TOGGLE_OFF,a)},logIVSRequestStart:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_IVS_REQUEST_START,a)},logIVSRequestFailed:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_IVS_REQUEST_FAILED,a)},logIVSRequestDone:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_IVS_REQUEST_DONE,a)},logIVSUpdateStart:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_IVS_UPDATE_START,a)},logIVSUpdateFailed:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_IVS_UPDATE_FAILED,a)},logIVSUpdateDone:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WWW_IVS_UPDATE_DONE,a)},logWebGlInitFailed:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],c=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];j._log(b("SphericalPhotoViewerLogEvents").WEBGL_INIT_FAILURE,a,c)},logWebGlRenderFailed:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],c=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];j._log(b("SphericalPhotoViewerLogEvents").WEBGL_RENDER_FAILURE,a,c)},logWebGlContextLost:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").WEBGL_CONTEXT_LOST,a)},logNumberOfSphericalPhoto:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0];j._log(b("SphericalPhotoViewerLogEvents").POST_EVENT,a)},logRendererSetup:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],c=arguments[1];a.renderMethod=c?"tiled":"cubestrip";j._log(b("SphericalPhotoViewerLogEvents").RENDERER_SETUP,a)},logRendererStats:function(){var a=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],c=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];j._log(b("SphericalPhotoViewerLogEvents").RENDERER_STATS,a,c)},_log:function(a,c){var d=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];if(!c.surface){b("Bootloader").loadModules(["TimelineURI"],function(b){c.surface=i(b),j._logWithSurface(a,c,d)},"SphericalPhotoViewerLoggerUtil");return}j._logWithSurface(a,c,d)},_logWithSurface:function(a,c){var d=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];new(b("SphericalPhotoViewerTypedLogger"))().setComposerSessionID(c.composerSessionID).setDt(c.dt).setErrorMessage(c.errorMessage).setName(a).setNumberOfSphericalPhoto(c.numberOfSphericalPhoto).setPhotoID(c.photoID).setPitch(c.pitch).setRenderMethod(c.renderMethod||"").setSphericalPhotoSessionID(c.sessionID).setSurface(c.surface).setVfov(c.vfov).setViewportHeight(c.viewportHeight).setViewportWidth(c.viewportWidth).setYaw(c.yaw).updateData(d).log()}};e.exports=j}),null);
__d("PhotoSnowliftViewableSphericalPhoto",["cx","Arbiter","Bootloader","CSS","DOM","DOMQuery","EventProfiler","React","ReactDOM","SphericalMediaActions","SphericalMediaBootloaded.react","SphericalPhotoPlaceHolderWithGyroOverlay.react","SphericalPhotoTypedConfig","SubscriptionsHandler","Vector","SphericalMediaConstants","PhotoSnowliftViewable","SphericalMediaBaseActions","getViewportDimensions","SphericalPhotoViewerLoggerUtil"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("SphericalMediaConstants").COMP_PHOTO_VIEWER,j=b("SphericalMediaConstants").LOGGER_SURFACES,k=b("SphericalMediaConstants").UNTAGGED_FACEBOX,l=b("SphericalMediaBaseActions").deletedSpatialTag,m=b("SphericalMediaBaseActions").enterTaggingMode,n=b("SphericalMediaBaseActions").exitTaggingMode,o=b("SphericalMediaBaseActions").taggingStop,p=b("SphericalMediaBaseActions").updateDimension,q=b("SphericalMediaBaseActions").updateSpatialTags,r=b("SphericalMediaBaseActions").updateTagger,s=b("SphericalMediaBaseActions").updateTargetedTag,t=b("SphericalMediaBaseActions").updateFeedRootElement,u=b("SphericalPhotoViewerLoggerUtil").logEnterFullScreen,v=b("SphericalPhotoViewerLoggerUtil").logEnterSnowlift,w=b("SphericalPhotoViewerLoggerUtil").logExitFullScreen,x=b("SphericalPhotoViewerLoggerUtil").logExitSnowlift,y=2e3*16,z=360;c=babelHelpers.inherits(a,b("PhotoSnowliftViewable"));h=c&&c.prototype;function a(a,c,d,e,f,g,i){__p&&__p();var j=arguments.length<=7||arguments[7]===undefined?!1:arguments[7],k=arguments[8],l=arguments[9],m=arguments[10],n=arguments[11],o=arguments[12],p=arguments[13],q=arguments[14];h.constructor.call(this,y);A.call(this);b("EventProfiler").tagCurrentActiveInteractionsAs("PSVSphericalPhoto");this.$PhotoSnowliftViewableSphericalPhoto1=q;this.$PhotoSnowliftViewableSphericalPhoto2=d;this.$PhotoSnowliftViewableSphericalPhoto3=k;this.$PhotoSnowliftViewableSphericalPhoto6=p;this.$PhotoSnowliftViewableSphericalPhoto7=m;this.$PhotoSnowliftViewableSphericalPhoto8=!1;this.$PhotoSnowliftViewableSphericalPhoto9=j;this.$PhotoSnowliftViewableSphericalPhoto10=!1;this.$PhotoSnowliftViewableSphericalPhoto11=!1;this.$PhotoSnowliftViewableSphericalPhoto14=l;this.$PhotoSnowliftViewableSphericalPhoto15=n;this.$PhotoSnowliftViewableSphericalPhoto16=o;this.$PhotoSnowliftViewableSphericalPhoto17=c;this.$PhotoSnowliftViewableSphericalPhoto18=new(b("SubscriptionsHandler"))();this.$PhotoSnowliftViewableSphericalPhoto20=e;this.$PhotoSnowliftViewableSphericalPhoto21=a;this.$PhotoSnowliftViewableSphericalPhoto5=b("DOM").create("div",{className:"_zq_ _5nxw"});this.$PhotoSnowliftViewableSphericalPhoto4=b("DOM").create("div",{className:"_zr0 _5nxw"});this.getElement().appendChild(this.$PhotoSnowliftViewableSphericalPhoto5);this.getElement().appendChild(this.$PhotoSnowliftViewableSphericalPhoto4);b("CSS").addClass(this.getElement(),"_zr1");this.$PhotoSnowliftViewableSphericalPhoto12={fov:f,pitch:g,yaw:i};this.$PhotoSnowliftViewableSphericalPhoto19=new(b("SubscriptionsHandler"))();b("CSS").addClass(this.$PhotoSnowliftViewableSphericalPhoto15.stage,"_1ziy");this.$PhotoSnowliftViewableSphericalPhoto22();v(this.$PhotoSnowliftViewableSphericalPhoto23())}a.prototype.$PhotoSnowliftViewableSphericalPhoto23=function(){return{photoID:this.$PhotoSnowliftViewableSphericalPhoto7,surface:j.snowlift}};a.prototype.$PhotoSnowliftViewableSphericalPhoto24=function(a){this.$PhotoSnowliftViewableSphericalPhoto20.useTiledRenderer&&b("SphericalPhotoTypedConfig").show_new_renderer?b("ReactDOM").render(b("React").createElement(b("SphericalPhotoPlaceHolderWithGyroOverlay.react"),{placeholderImageURL:this.$PhotoSnowliftViewableSphericalPhoto25(),showNewRenderer:!0,width:a.x,height:a.y}),this.$PhotoSnowliftViewableSphericalPhoto4):b("ReactDOM").render(b("React").createElement(b("SphericalPhotoPlaceHolderWithGyroOverlay.react"),{placeholderImageURL:this.$PhotoSnowliftViewableSphericalPhoto25()}),this.$PhotoSnowliftViewableSphericalPhoto4)};a.prototype.$PhotoSnowliftViewableSphericalPhoto22=function(){var a=this.$PhotoSnowliftViewableSphericalPhoto26(),c=[this.$PhotoSnowliftViewableSphericalPhoto27,this.$PhotoSnowliftViewableSphericalPhoto28,this.$PhotoSnowliftViewableSphericalPhoto29,this.$PhotoSnowliftViewableSphericalPhoto30];b("SphericalPhotoTypedConfig").www_can_viewer_tag&&c.push(this.$PhotoSnowliftViewableSphericalPhoto31);this.$PhotoSnowliftViewableSphericalPhoto24(a);b("ReactDOM").render(b("React").createElement(b("SphericalMediaBootloaded.react"),{ambientAudio:this.$PhotoSnowliftViewableSphericalPhoto1,componentName:i,canvasNamespace:"Snowlift",cubeImageURI:this.$PhotoSnowliftViewableSphericalPhoto2,fallback:this.$PhotoSnowliftViewableSphericalPhoto6,enableGyro:!0,enableZoom:!0,enableTagging:!0,enableRubberBanding:!0,height:a.y,initialView:this.$PhotoSnowliftViewableSphericalPhoto12,photoID:this.$PhotoSnowliftViewableSphericalPhoto7,partialLimits:this.$PhotoSnowliftViewableSphericalPhoto14,photoSphereMetadata:this.$PhotoSnowliftViewableSphericalPhoto16,surface:j.snowlift,tiledSphericalConfig:this.$PhotoSnowliftViewableSphericalPhoto20,middlewares:c,useLargeVolumeIcon:!0,width:a.x}),this.$PhotoSnowliftViewableSphericalPhoto5);this.$PhotoSnowliftViewableSphericalPhoto10=!0;this.emit("ready")};a.prototype.$PhotoSnowliftViewableSphericalPhoto32=function(){this.$PhotoSnowliftViewableSphericalPhoto19.release(),this.$PhotoSnowliftViewableSphericalPhoto18.release(),b("ReactDOM").unmountComponentAtNode(this.$PhotoSnowliftViewableSphericalPhoto4),b("ReactDOM").unmountComponentAtNode(this.$PhotoSnowliftViewableSphericalPhoto5)};a.prototype.suspend=function(){this.$PhotoSnowliftViewableSphericalPhoto32()};a.prototype.resume=function(){this.$PhotoSnowliftViewableSphericalPhoto22()};a.prototype.reload=function(){this.$PhotoSnowliftViewableSphericalPhoto22()};a.prototype.hide=function(){b("CSS").shown(this.getElement())&&x(this.$PhotoSnowliftViewableSphericalPhoto23()),h.hide.call(this),this.$PhotoSnowliftViewableSphericalPhoto32()};a.prototype.getDimensions=function(){var a=b("getViewportDimensions")(),c=a.width;a=a.height;b("SphericalPhotoTypedConfig").should_snowlift_fit_to_screen?(this.$PhotoSnowliftViewableSphericalPhoto8||(c-=z),this.isRenderReady()||(c=a=Math.min(c,a))):c=a=Math.min(c,a);return b("Vector").from(c,a)};a.prototype.$PhotoSnowliftViewableSphericalPhoto26=function(){return b("Vector").getElementDimensions(this.getElement())};a.prototype.$PhotoSnowliftViewableSphericalPhoto33=function(a){var c=this.getElement().parentElement;a=new(b("Vector"))(a.x,a.y);if(c&&c instanceof HTMLElement){c=b("Vector").getElementDimensions(c);var d=b("Vector").getElementDimensions(this.getElement());(c.x!==d.x||a.x<c.x||a.y<c.y)&&(a.x=c.x,a.y=c.y)}return a};a.prototype.isReady=function(){return this.$PhotoSnowliftViewableSphericalPhoto10};a.prototype.isRenderReady=function(){return this.$PhotoSnowliftViewableSphericalPhoto11};a.prototype.setDimensions=function(a){h.setDimensions.call(this,this.$PhotoSnowliftViewableSphericalPhoto33(a));if(this.$PhotoSnowliftViewableSphericalPhoto20.useTiledRenderer&&b("SphericalPhotoTypedConfig").show_new_renderer){a=this.$PhotoSnowliftViewableSphericalPhoto26();!this.$PhotoSnowliftViewableSphericalPhoto11&&(!this.$PhotoSnowliftViewableSphericalPhoto3||this.$PhotoSnowliftViewableSphericalPhoto3.x!==a.x||this.$PhotoSnowliftViewableSphericalPhoto3.y!==a.y)&&this.$PhotoSnowliftViewableSphericalPhoto24(a);this.$PhotoSnowliftViewableSphericalPhoto3=a}this.emit("onSetDimensions")};a.prototype.onToggleIntoFullScreen=function(){};a.prototype.onEnterFullScreen=function(){if(this.$PhotoSnowliftViewableSphericalPhoto8)return;this.$PhotoSnowliftViewableSphericalPhoto8=!0;this.emit("onEnterFullScreen");u(this.$PhotoSnowliftViewableSphericalPhoto23());b("CSS").addClass(this.getElement(),"_tz-")};a.prototype.onExitFullScreen=function(){if(!this.$PhotoSnowliftViewableSphericalPhoto8)return;this.$PhotoSnowliftViewableSphericalPhoto8=!1;this.emit("onExitFullScreen");w(this.$PhotoSnowliftViewableSphericalPhoto23());b("CSS").removeClass(this.getElement(),"_tz-")};a.prototype.$PhotoSnowliftViewableSphericalPhoto25=function(){return this.$PhotoSnowliftViewableSphericalPhoto9?this.$PhotoSnowliftViewableSphericalPhoto21:this.$PhotoSnowliftViewableSphericalPhoto17||this.$PhotoSnowliftViewableSphericalPhoto21};var A=function(){__p&&__p();this.$PhotoSnowliftViewableSphericalPhoto30=function(a){var b=a.dispatch;a.getState;b(t(this.$PhotoSnowliftViewableSphericalPhoto5));return function(a){return function(b){return a(b)}}}.bind(this),this.$PhotoSnowliftViewableSphericalPhoto31=function(a){__p&&__p();var c=a.dispatch,d=a.getState;this.$PhotoSnowliftViewableSphericalPhoto15.getTagger()?c(r(this.$PhotoSnowliftViewableSphericalPhoto15.getTagger())):this.$PhotoSnowliftViewableSphericalPhoto19.addSubscriptions(b("Arbiter").subscribe(this.$PhotoSnowliftViewableSphericalPhoto15.getEventString("TAGGER_READY"),function(a,b){c(r(this.$PhotoSnowliftViewableSphericalPhoto15.getTagger()))}.bind(this)));this.$PhotoSnowliftViewableSphericalPhoto19.addSubscriptions(b("Arbiter").subscribe("PhotoTagger.START_TAGGING",function(a,b){c(m())}),b("Arbiter").subscribe("PhotoTagger.STOP_TAGGING",function(a,b){c(n())}),b("Arbiter").subscribe("PhotoTags.SHOWTAG",function(a,e){b("Bootloader").loadModules(["SphericalMediaTaggingUtils"],function(a){a=a.getSpatialTagFromFBID;a=a(e,d().base.tags);c(s(a))},"PhotoSnowliftViewableSphericalPhoto")}),b("Arbiter").subscribe("PhotoTags.HIDETAG",function(a,b){c(s(null))}),b("Arbiter").subscribe(this.$PhotoSnowliftViewableSphericalPhoto15.getEventString("EXTRA_DATA_CHANGE"),function(a,b){__p&&__p();var d=this,e=b?b.spatialTags:null;e&&Array.isArray(e)&&(function(){__p&&__p();c(q(e));c(o());var a=0;e.forEach(function(b){b.type!==k&&a++});if(d.$PhotoSnowliftViewableSphericalPhoto13&&d.$PhotoSnowliftViewableSphericalPhoto13>a){var b=d.$PhotoSnowliftViewableSphericalPhoto13-a;for(var f=0;f<b;f++)c(l())}d.$PhotoSnowliftViewableSphericalPhoto13=a})()}.bind(this)));return function(a){return function(b){return a(b)}}}.bind(this),this.$PhotoSnowliftViewableSphericalPhoto29=function(a){__p&&__p();a.getState;return function(a){return function(c){if(c.type===b("SphericalMediaActions").SHOW_FALLBACK){this.$PhotoSnowliftViewableSphericalPhoto11=!0;b("CSS").hide(this.$PhotoSnowliftViewableSphericalPhoto4);var d=b("DOMQuery").scry(this.$PhotoSnowliftViewableSphericalPhoto15.stageWrapper,".fbPhotosPhotoActionsTag.tagButton");d.length>0&&b("CSS").hide(d[0])}return a(c)}.bind(this)}.bind(this)}.bind(this),this.$PhotoSnowliftViewableSphericalPhoto27=function(){return function(a){return function(c){c.type===b("SphericalMediaActions").SETUP_RENDERER&&(this.$PhotoSnowliftViewableSphericalPhoto11=!0,b("CSS").hide(this.$PhotoSnowliftViewableSphericalPhoto4),this.$PhotoSnowliftViewableSphericalPhoto15.adjustStageSize());return a(c)}.bind(this)}.bind(this)}.bind(this),this.$PhotoSnowliftViewableSphericalPhoto28=function(a){__p&&__p();a.getState;var c=a.dispatch;return function(a){return function(d){if(d.type===b("SphericalMediaActions").TURN_ON||d.type===b("SphericalMediaActions").SHOW_FALLBACK){var e=function(){var a=this.$PhotoSnowliftViewableSphericalPhoto26();c(p(a.x,a.y))}.bind(this);this.$PhotoSnowliftViewableSphericalPhoto18.addSubscriptions(this.addListener("onEnterFullScreen",e),this.addListener("onExitFullScreen",e),this.addListener("onSetDimensions",e));e()}return a(d)}.bind(this)}.bind(this)}.bind(this)};e.exports=a}),null);
__d("PhotoSnowliftViewableUtils",["cx","DOM","EventProfiler","PhotoSnowliftViewableImageWrapper","PhotoSnowliftViewablePhoto","PhotoSnowliftViewableSphericalPhoto","React","ReactDOM","SphericalMediaGyroOverlay.react"],(function(a,b,c,d,e,f,g){__p&&__p();var h=65,i=0,j=0;function a(a,c){return new(b("PhotoSnowliftViewableSphericalPhoto"))(a.url,a.smallurl,a.cubeImageURI,a.tiledSphericalConfig,a.initialView.fov||h,a.initialView.pitch||i,a.initialView.yaw||j,c.shouldShowHiRes(a),a.dimensions,a.partialLimits,String(a.fbid),c,a.photoSphereMetadata,a.fallback,a.ambientAudio)}function c(a,c){if(a.spherical)return new(b("PhotoSnowliftViewableSphericalPhoto"))(a.url,a.smallurl,a.spherical.cubestripuri,a.spherical.tiledsphericalconfig,a.spherical.initialviewverticalfov||h,a.spherical.initialpitch||i,a.spherical.initialheading||j,c.shouldShowHiRes(a),a.dimensions,a.spherical.partialLimits,String(a.info.fbid),c,a.spherical.photosphereMetadata,a.spherical.fallback,a.spherical.ambientAudio);else return new(b("PhotoSnowliftViewablePhoto"))(a.url,a.smallurl,c.shouldShowHiRes(a),a.dimensions,String(a.info.fbid),!!a.info.disablecontextmenu,!!a.info.logcontextmenu,a.info.caption,a.info.shouldshowshield)}function k(){var a=b("DOM").create("div",{className:"_4yca _5nxw"});b("ReactDOM").render(b("React").createElement(b("SphericalMediaGyroOverlay.react"),{isActive:!0}),a);return a}function d(a,c){var d=a.parentElement;a=new(b("PhotoSnowliftViewableImageWrapper"))(a);d&&d.appendChild(a.getElement());c&&(b("EventProfiler").tagCurrentActiveInteractionsAs("PSVSphericalImage"),a.getElement().appendChild(k()));return a}e.exports={fromSphericalPhotoData:a,fromStreamData:c,fromImageElement:d}}),null);
__d("PhotoViewer",["Bootloader","CSS","DOM"],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.image=null,this.root=null,this.stream=null}a.prototype.getEventString=function(a){"use strict";var b=this.getEventPrefix();return b?b+"."+a:null};a.prototype.getImage=function(){"use strict";return this.image};a.prototype.getPosition=function(){"use strict";return this.stream?this.stream.getCursor():null};a.prototype.getRoot=function(){"use strict";return this.root};a.prototype.hiliteAllBoxes=function(){"use strict";b("DOM").scry(this.stageWrapper,"div.tagsWrapper div.faceBox").forEach(function(a){b("CSS").addClass(a,"otherActive")}),b("DOM").scry(this.stageWrapper,"div.tagsWrapper div.fbPhotosPhotoTagboxBaseComments").forEach(function(a){b("CSS").addClass(a,"otherActive")})};a.prototype.getEventPrefix=function(){"use strict";return null};a.prototype.getSourceString=function(){"use strict";return null};a.prototype.getVersionConst=function(){"use strict";return null};a.prototype.getViewerSource=function(){"use strict";return null};a.prototype.getViewerSet=function(){"use strict";return null};a.bootstrap=function(a,c){"use strict";b("Bootloader").loadModules(["PhotoSnowlift"],function(b){b.bootstrap(a,c)},"PhotoViewer")};e.exports=a}),null);
__d("ReactComponentRenderer",["React","ReactDOM","warning"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){this.klass=a,this.container=b,this.props={},this.component=null}a.prototype.replaceProps=function(a,b){this.props={},this.setProps(a,b)};a.prototype.setProps=function(a,c){if(this.klass==null)return;Object.assign(this.props,a);a=b("React").createElement(this.klass,this.props);var d=this;b("ReactDOM").render(a,this.container,function(){d.component=this,c&&c.call(this)})};a.prototype.unmount=function(){b("ReactDOM").unmountComponentAtNode(this.container),this.klass=null};e.exports=a}),null);
__d("SnowliftVideoPivotsCarouselController",[],(function(a,b,c,d,e,f){a={setPivotsCarousel:function(a,b){this._pivotsCarousel=a,this.adjustCarousel(b)},adjustCarousel:function(a){this._pivotsCarousel&&this._pivotsCarousel.pageTo(a)},adjustCarouselOnAutoPlay:function(){this._pivotsCarousel&&this._pivotsCarousel.page()}};e.exports=a}),null);
__d("PhotoSnowlift",["csx","cx","fbt","invariant","Arbiter","AsyncRequest","Bootloader","CSS","CurrentUser","DataAttributeUtils","DataStore","Dialog","DisableContextMenuMixin","DOM","DOMControl","DOMQuery","EncryptedImg","Event","FullScreen","FunnelLogger","ImageUtils","Input","JSReliabilityFixesGatingConfig","Keys","Layer","LikeConfirmer","LinkController","LitestandShareAttachment","LitestandStoryInsertionStatus","Locale","ObjectionableContentFilterMixin","PageTransitions","Parent","PhotoLogger","PhotoPermalinkURI","PhotosConst","PhotoSessionLog","PhotosetPivotSlide.react","PhotosetSearchPivot.react","PhotosetSearchPivotData","PhotoSnowliftActionsGating","PhotoSnowliftAds","PhotoSnowliftBackLink.react","PhotoSnowliftLoader","PhotoSnowliftLoggingConfig","PhotoSnowliftViewableUtils","PhotoStreamCache","PhotosUtils","PhotoTagSearchPivotLogger","PhotoViewer","React","ReactComponentRenderer","ReactDOM","Rect","ScriptPath","ScrollableArea","SnowliftDestroyVideoPlayerExperiment","SnowliftUFIContextualParentExperiment","SnowliftVideoPivotsCarouselController","Style","SubscriptionsHandler","TimeSlice","Toggler","Tooltip","TrackingNodes","TrackingNodeTypes","UFIFeedbackTargets","UFIRootRegistry","UFIUIEvents","UIPagelet","URI","UserAgent_DEPRECATED","Vector","VideoData","VideoPermalinkURI","VideoPlayerAbortLoadingExperiment","VideoPlayerReason","$","classWithMixins","computeRelativeURI","emptyFunction","ge","getActiveElement","goURI","isNode","mixin","setImmediate","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k,l=b("JSReliabilityFixesGatingConfig").should_get_fix,m="WWW_SNOWLIFT_ACTIONS_FUNNEL",n=74,o=75,p=70,q=76,r=315,s=200,t=2e3,u=new RegExp("\\/posts\\/(\\d+)\\/?$");a=babelHelpers.inherits(v,b("classWithMixins")(b("PhotoViewer"),b("mixin")(b("ObjectionableContentFilterMixin"),b("DisableContextMenuMixin"))));k=a&&a.prototype;function v(){k.constructor.call(this),this.switchTimer=null,this.imageRefreshTimer=null,this.imageLoadingTimer=null,this.lastPage=0,this.currentMinSize=null,this.currentImageSize=null,this.resetUriStack=!0,this.thumbSpherical=!1,this.thumbSrc=null,this.shouldStretch=!1,this.sphericalPhotoData=null,this.stageMax=v.STAGE_NORMAL_MAX,this.stageChrome=v.STAGE_CHROME,this.stagePagerPrev=null,this.ua=null,this.PhotoTagger=null,this._inputBarAdjusted=!1,this._seenTags={},this._navCount=0,this._navHistory=[],this._preloadTimeout=0,this.clearAlbumBoundaries()}v.prototype.preload=function(a,c){b("Bootloader").loadModules(["PhotoTagger","Live","PhotoTagApproval","PhotoTags","TagTokenizer","css:fb-photos-snowlift-fullscreen-css"],function(a){this.PhotoTagger=a}.bind(this),"PhotoSnowlift")};v.prototype.bootstrap=function(a,c){__p&&__p();this.preload(a,c);this._href=a;this._elem=c;if(this.closeDirty){setTimeout(this.bootstrap.bind(this,a,c),0);return}b("PhotoSnowliftAds").reset();this.resetUriStack=!0;if(this.isOpen)if(this.openExplicitly)this.closeCleanup(),this.resetUriStack=!1;else return;this._dataFt=null;var d=null;c&&(d=b("Parent").bySelector(c,"._4oep"));if(d===null){var e=b("Parent").byAttribute(c,"data-cursor");if(e)try{var f=JSON.parse(b("DataAttributeUtils").getDataFt(e));this._dataFt=f}catch(a){}else try{e=b("Parent").byAttribute(c,"data-ad");e=b("DataAttributeUtils").getParentByAttributeOrDataStoreKey(c,"data-ad","data-ad");f=JSON.parse(b("DataAttributeUtils").getDataAttribute(e,"data-ad"));this._dataFt={ad_id:f.adid}}catch(a){}}this.returningToStart=!1;this.loading&&b("CSS").removeClass(this.loading,"loading");if(c){b("CSS").addClass(this.loading=c,"loading");void 0;b("SnowliftUFIContextualParentExperiment").useUfiContextualParent?e=d||b("Parent").byClass(c,"uiStreamStory")||b("Parent").bySelector(c,"._5jmm"):e=b("Parent").byClass(c,"uiStreamStory")||d||b("Parent").bySelector(c,"._5jmm");if(e)this.storyID=e.id;else{f=b("Parent").bySelector(c,"._5b9c");f&&(this.storyID=f.getAttribute("data-ownerid"))}this._updateContainerOwnerID();this.getThumbAndSize(c)}else this.loading=null;b("Arbiter").inform("PhotoSnowlift.GO",a,b("Arbiter").BEHAVIOR_STATE);this.loadFrameIfUninitialized()};v.prototype._updateContainerOwnerID=function(){this.container&&(this.storyID?this.container.setAttribute("data-ownerid",this.storyID):this.container.removeAttribute("data-ownerid"))};v.prototype.getEventPrefix=function(){return"PhotoSnowlift"};v.prototype.getRoot=function(){return this.root};v.prototype.getSourceString=function(){return"snowlift"};v.prototype.getViewerSource=function(){return this.source};v.prototype.getViewerSet=function(){return this.stream.getPhotoSet()};v.prototype.getVersionConst=function(){return b("PhotosConst").VIEWER_SNOWLIFT};v.prototype.getImage=function(){return this._viewable.getElement()};v.prototype.getImageId=function(){return this.stream.getCursor()};v.prototype.getRHCHeader=function(){return this.rhcHeader};v.prototype.getRHCBody=function(){return this.ufiForm};v.prototype.getRHCFooter=function(){return this.rhcFooter};v.prototype.getLoadQuery=function(){return this.loadQuery};v.prototype.getCurrentPhotoInfo=function(){var a=this.stream.getCurrentImageData();return a?a.info:null};v.prototype.getOwnerId=function(){var a=this.stream.getCurrentImageData();return a?a.info.owner:null};v.prototype.getThumbAndSize=function(a){__p&&__p();this.currentImageSize=null;this.thumbSpherical=!1;this.thumbSrc=null;var c=new(b("URI"))(a.getAttribute("ajaxify")).getQueryData();if(!c.size)return;c=b("Vector").deserialize(c.size);if(!c.x||!c.y)return;this.currentImageSize=c;if(a.getAttribute("data-cropped"))return;c=b("DOM").scry(a,"img")[0];var d=b("DOM").scry(a,"i")[0];a=b("Parent").byAttribute(a,"data-size");this.shouldStretch=a&&this.currentImageSize&&c&&a.getAttribute("data-size")==="2"&&this.currentImageSize.x>this.currentImageSize.y&&this.currentImageSize.x<=v.TIMELINE_STRETCH_WIDTH&&c.offsetWidth===v.TIMELINE_STRETCH_WIDTH;if(c)a=c.src,this.thumbSpherical=Boolean(c.getAttribute("data-is-spherical-photo")),this.sphericalPhotoData=b("DataStore").get(c,"sphericalPhotoData");else if(d)a=b("Style").get(d,"backgroundImage").replace(/.*url\(\"?([^\"]*)\"?\).*/,"$1");else return;this.thumbSrc=a};v.prototype.loadFrameIfUninitialized=function(){if(this.root)return;var a=String(b("URI").getMostRecentURI().getQueryData().viewas);b("PhotoSnowliftLoader").loadFrame(a)};v.prototype.init=function(a,c){this.init=b("emptyFunction"),this._shouldLog=c.photos_client_loading,this._logger=null,this._shouldLog&&(this._logger=new(b("PhotoLogger"))(b("PhotosConst").VIEWER_SNOWLIFT_STRING)),this._showHover=c.pivot_hover,this._showMorePhotos=c.show_more_photos,this._extraSlidePivot=c.extra_slide_pivot,this._uiRefresh=c.snowlift_ui_refresh,b("PhotoSessionLog").setEndMetrics(c.pivot_end_metric),this.startingMousePos=null,this.haveLeftBufferRegion=!1,this.showingTypeaheadSuggestions=!1,this.fullscreen=b("FullScreen").isSupportedWithKeyboardInput(),this.showOGVideos=c.og_videos,this.resizeCommentsForAds=c.resize_comments_for_ads,this.spotlight=a,this.spotlight.subscribe("blur",function(){this.closingAction=b("PhotoSessionLog").OUTSIDE}.bind(this)),this.spotlight.subscribe("hide",this.closeHandler.bind(this)),this.spotlight.subscribe("key",this.keyHandler.bind(this)),this._actionMenuOpen=!1,this._mouseOnPhotoStage=!1,this.initializeNodes(this.spotlight.getRoot()),this.disableContextMenu(),b("PhotoSnowliftAds").init(this.sideAdUnit,this,c,this.adsDisplayedCallback.bind(this)),this.inAdsDisplayedCallback=!1,this.lastAdsHeight=0,this.subscription||(b("LinkController").registerHandler(this.handleNavigateAway.bind(this)),this.subscription=b("Arbiter").subscribe("PhotoSnowlift.GO",function(a,c){this.openExplicitly=!0,this.loading&&b("CSS").removeClass(this.loading,"loading"),this.open(c)}.bind(this))),this.transitionHandlerRegistered=!1,this.returningToStart=!1,b("PageTransitions").registerHandler(this.openHandler.bind(this)),this.openHandlerRegistered=!0,b("Arbiter").subscribe("PhotoTagApproval.HILITE_TAG",this.onHiliteTag.bind(this)),b("Arbiter").subscribe("PhotoTagApproval.UPDATE_TAG_BOX",this.onUpdateTagBox.bind(this)),this.fullscreen&&b("FullScreen").subscribe("changed",this.onFullScreenChange.bind(this)),this.buttonTruncateGk=c.snowlift_button_truncate,this.allowIrrelevantRequests=!!c.snowlift_allow_irrelevant_requests,this.snowflake&&(b("CSS").addClass(this.root,"snowflake"),this.extraClasses.forEach(function(a){b("CSS").addClass(this.root,a)},this))};v.prototype.onFullScreenChange=function(){if(!this.isOpen)return;var a=b("FullScreen").isFullScreen();b("CSS").conditionClass(document.body,"fbPhotoSnowliftFullScreenMode",a);a?(this.lastFullscreenEnter=Date.now(),b("CSS").hasClass(this.root,"fbPhotoSnowliftEditMode")||this.collapseRHC(),this._viewable.onEnterFullScreen(),this.adjustForResize()):(this.uncollapseRHC(),this._viewable.onExitFullScreen(),b("UserAgent_DEPRECATED").chrome()&&this.lastPage>this.lastFullscreenEnter&&!b("CSS").hasClass(this.root,"fbPhotoSnowliftEditMode")&&this.page(0,!1),b("Arbiter").inform("reflow"));b("Toggler").hide()};v.prototype.initializeNodes=function(a){this.root=a,this.container=b("DOM").find(a,"div.fbPhotoSnowliftContainer"),this._updateContainerOwnerID(),this.snowliftPopup=b("DOM").find(this.container,"div.fbPhotoSnowliftPopup"),this.rhc=b("DOM").find(this.snowliftPopup,"div.rhc"),this.rhcHeader=b("DOM").find(this.rhc,"div.rhcHeader"),this.rhcFooter=b("DOM").find(this.rhc,"div.rhcFooter"),this.taglist=b("DOM").find(this.rhc,"span.fbPhotoTagList"),this.ufiForm=b("DOM").find(this.rhc,"form.fbPhotosSnowliftFeedbackForm"),this.ufiInputContainer=b("DOM").find(this.rhc,"div.fbPhotosSnowboxFeedbackInput"),this.scroller=b("DOM").find(this.rhc,"div.rhcScroller"),this.scrollerBody=b("DOM").find(this.scroller,"div.uiScrollableAreaBody"),this.stageWrapper=b("DOM").find(this.snowliftPopup,"div.stageWrapper"),this.overlay=b("DOM").find(this.snowliftPopup,"div.snowliftOverlay"),this.errorBox=b("DOM").find(this.stageWrapper,"div.stageError"),this._viewable=b("PhotoSnowliftViewableUtils").fromImageElement(b("DOM").find(this.stageWrapper,"img.spotlight")),this.stage=b("DOM").find(this.stageWrapper,"div.stage"),this.videoStage=b("DOM").find(this.stageWrapper,"div.videoStage"),this.prevPager=b("DOM").find(this.snowliftPopup,"a.snowliftPager.prev"),this.nextPager=b("DOM").find(this.snowliftPopup,"a.snowliftPager.next"),this.stageActions=b("DOM").find(a,"div.stageActions"),this._uiRefresh||(this.buttonActions=b("DOM").find(this.stageActions,"div.fbPhotosPhotoButtons")),this.placeInfo=b("DOM").find(this.rhc,"div.fbPhotosSnowliftPlaceInfo"),this.seeMore=b("DOM").find(this.rhc,"._jke"),this.sideAdUnit=b("DOM").find(a,"._5ciw"),b("CSS").conditionClass(this.root,"fullScreenAvailable",this.fullscreen)};v.prototype.getContextMenuContainer=function(){return this.stageWrapper};v.prototype.getObjectionableWarningContainer=function(){return this.stageWrapper};v.prototype.getObjectionableWarningHiddenContent=function(){return this.isVideo()?this.videoStage:this.stage};v.prototype.isVideo=function(){var a=this.stream.getCurrentImageData();return a&&a.info.video?!0:!1};v.prototype.initializeScroller=function(){__p&&__p();this.initializeScroller=b("emptyFunction");b("CSS").addClass(this.scroller,"_467y");this.scrollableArea=b("ScrollableArea").fromNative(this.scroller,{fade:!0,persistent:!0});var a=function(event){__p&&__p();var a=b("Event").$E(event).getTarget();if(b("DOM").contains(this.ufiInputContainer,a)){var c=b("DOMControl").getInstance(a);if(c){this.scrollableArea.scrollToBottom();var d=c.subscribe("resize",function(){var a=this.scrollableArea.isScrolledToBottom();this.adjustScroller();a&&this.scrollableArea.scrollToBottom()}.bind(this)),e=b("Event").listen(a,"blur",function(){c.unsubscribe(d),e.remove()})}}(a.classList.contains("UFIPagerLink")||a.classList.contains("UFICommentLink"))&&(this.autoplayOptionScreenConfig&&this.autoplayOptionScreenConfig.enabled&&(this.haltAutoplay=!0))}.bind(this);b("Arbiter").subscribe(b("UFIUIEvents").InputHeightChanged,function(a,c){b("DOM").contains(this.ufiInputContainer,c.node)&&this.adjustScroller()}.bind(this));b("Arbiter").subscribe(b("UFIUIEvents").PhotoPreviewHeightChanged,function(a,c){(!c.node||b("DOM").contains(this.ufiInputContainer,c.node))&&this.adjustScroller()}.bind(this));b("Arbiter").subscribe(b("UFIUIEvents").Changed,function(a,b){this.ufiForm===b.form&&this.adjustScrollerIfNecessary()}.bind(this));b("Arbiter").subscribe(b("UFIUIEvents").Comment,function(a,b){this.ufiForm===b.form&&(this.adjustScrollerIfNecessary(),b.isinverted?this.scrollableArea.scrollToTop():this.scrollableArea.scrollToBottom())}.bind(this));b("Event").listen(this.rhc,"click",function(event){var a=event.getTarget();(b("Parent").byTag(a,"a")||b("Parent").byTag(a,"button")||b("DOM").isNodeOfType(a,"input"))&&this.adjustScrollerIfNecessary()}.bind(this));b("Arbiter").subscribe(["reflow",b("UFIUIEvents").CommentPager],function(){this.isOpen&&this.adjustScrollerIfNecessary()}.bind(this));b("Arbiter").subscribe(b("UFIUIEvents").TranslationRendered,function(){this.adjustScrollerIfNecessary()}.bind(this));b("Event").listen(this.ufiForm,"focusin",a)};v.prototype.openHandler=function(a){if(this.isOpen||!b("PhotoPermalinkURI").isValid(a)||this.returningToStart||a.getQueryData().closeTheater||a.getQueryData().permPage){this.openHandlerRegistered=!1;return!1}this.open(a);this._uriStack.push(new(b("URI"))(a).getQualifiedURI().toString());b("PageTransitions").transitionComplete(!0);return!0};v.prototype.addHaltAutoplaySubscription=function(){b("Arbiter").subscribe([b("UFIUIEvents").Focus],function(){this.haltAutoplay=!0}.bind(this)),b("Arbiter").subscribe([b("UFIUIEvents").Blur],function(a,b){this.haltAutoplay=b.hasEnteredText}.bind(this))};v.prototype.open=function(a){__p&&__p();var c=new(b("URI"))(a),d=c.getQueryData(),e=Object.create(null),f=b("PhotoPermalinkURI").parse(c);f!=null&&(d.fbid=f.photo_id,d.set=f.set_token,e.snowlift_content_id=f.photo_id);f=b("VideoPermalinkURI").parse(c);f!=null&&(d.v=f.video_id,d.set=f.set_token,e.snowlift_content_id=f.video_id);this._elem!=null&&(d.external_log_id=this._elem.getAttribute("data-external-log-id"),d.player_origin=this._elem.getAttribute("data-player-origin"));b("ScriptPath").openOverlayView("snowlift",e);if(!d.fbid&&!d.v&&!d.pid){f=u.exec(c.getPath());f&&(d.v=f[1])}this.resetUriStack&&(this._uriStack=[]);this.initialLoad||(d.firstLoad=!0,this.initialLoad=!0,b("LitestandStoryInsertionStatus").registerBlocker(function(){return this.isOpen}.bind(this)));this.sessionID=Date.now();this.loadQuery=Object.assign(d,{ssid:this.sessionID});this._dataFt&&(this.loadQuery.data_ft=this._dataFt);this.isOpen=!0;this.pagersShown=!1;this.refreshOnClose=!1;this.hilitedTag=null;this.loadingStates={image:!1,html:!1};this.replaceUrl=!1;this.movementDelta=0;this.pivotsCarouselElement=null;this.autoplayOptionScreenConfig=null;this.haltAutoplay=!1;this.shouldRenderVideoPivots=!1;b("CSS").show(this.nextPager);b("CSS").show(this.prevPager);this.source=null;this.saveTagSubscription=b("Arbiter").subscribe("PhotoTagger.SAVE_TAG",this.onTagSaved.bind(this));this.taggedPhotoIds=[];this.stream=new(b("PhotoStreamCache"))();this.stream.init(b("PhotosConst").VIEWER_SNOWLIFT,"PhotoViewerPagelet","pagelet_photo_viewer",this._shouldLog?this._logger:null,d.tagSuggestionMode||"everyone");b("URI").getMostRecentURI().getQueryData().viewas&&this.stream.setViewAs(b("URI").getMostRecentURI().getQueryData().viewas+"");b("URI").getMostRecentURI().getQueryData().ifg&&this.stream.setIsFromGroups(b("URI").getMostRecentURI().getQueryData().ifg);this.fetchInitialData();this.setLoadingState(v.STATE_HTML,!0);this.rhcCollapsed=!1;this._open(a);b("Bootloader").loadModules(["PhotosButtonTooltips"],function(a){a.init()},"PhotoSnowlift");this._navHistory.push(c.getQualifiedURI().toString())};v.prototype._open=function(a){__p&&__p();this.createLoader();this.spotlight.show();b("Arbiter").inform("layer_shown",{type:"PhotoSnowlift"});b("Arbiter").inform("PhotoSnowlift.OPEN");this.stageHandlers=[b("Event").listen(window,"resize",this.adjustForResize.bind(this)),b("Event").listen(this.stageWrapper,"click",function(event){__p&&__p();var a=b("DataAttributeUtils").getClickTrackingParent(event.getTarget());if(!a)return;try{a=JSON.parse(b("DataAttributeUtils").getDataFt(a));if(!a.tn)return;var c=b("TrackingNodes").parseTrackingNodeString(a.tn);a=Object.keys(b("TrackingNodeTypes")).filter(function(a){return b("TrackingNodeTypes")[a]===c});a.length&&b("FunnelLogger").appendAction(m,"click_"+a.join("_"))}catch(a){}}),b("Event").listen(this.stageWrapper,"click",this.buttonListener.bind(this)),b("Event").listen(this.stageWrapper,"mouseleave",function(event){var a=event.getTarget();if(b("Parent").bySelector(a,"._khz"))return;b("Parent").byClass(a,"snowliftOverlay")||b("Parent").byClass(a,"fbPhotoSnowliftTagApproval")||b("Parent").byClass(a,"tagPointer")||b("Parent").byClass(a,"arrow")||b("Parent").byClass(a,"faceboxSuggestion")||b("Parent").byClass(a,"typeaheadWrapper")||b("Parent").byClass(a,"photoTagTypeahead")||b("Parent").byClass(a,"fbPhotoTagger")||this.unhiliteAllTags();this._mouseOnPhotoStage=!1;this.hidePagers()}.bind(this)),b("Event").listen(this.stageWrapper,"mousemove",this.hilitePager.bind(this)),b("Event").listen(this.stageWrapper,"mousemove",this.hiliteTagsOnMouseMove.bind(this)),b("Event").listen(this.stageWrapper,"mouseenter",function(){return this._mouseOnPhotoStage=!0}.bind(this)),b("Event").listen(this.overlay,"mouseenter",this.unhiliteAllTags.bind(this)),b("Event").listen(this.container,"mousemove",this._enableMouseOver.bind(this)),b("Event").listen(this.container,"mouseover",this._interceptMouseOver.bind(this)),b("Event").listen(this.stageWrapper,"focusin",this.hilitePager.bind(this)),b("Event").listen(this.rhc,"focusin",this.hidePagers.bind(this))];this.stageHandlers.push(b("Event").listen(this.root,"click",function(event){__p&&__p();var a=event.getTarget();if(b("Parent").bySelector(a,"._418x")){if(b("FullScreen").isFullScreen()){b("FunnelLogger").appendActionWithTagIfNew(m,"fullscreen_exit","fbPhotoSnowlift/close");b("FullScreen").toggleFullScreen();return}this.closingAction=b("PhotoSessionLog").X;this.spotlight.hide()}else this._isLiveBroadcast&&b("Parent").bySelector(a,"._3ixn")&&this.spotlight.hide()}.bind(this)),b("Event").listen(this.container,"click",function(event){__p&&__p();var a=event.getTarget();if(b("Parent").byClass(a,"rotateRight"))b("FunnelLogger").appendActionWithTag(m,"rotate_image","right"),this.rotate("right");else if(b("Parent").byClass(a,"rotateLeft"))b("FunnelLogger").appendActionWithTag(m,"rotate_image","left"),this.rotate("left");else if(b("Parent").bySelector(a,"._32_l")){b("FunnelLogger").appendAction(m,"click-pivot-item");var c=b("Parent").bySelector(a,"._32_l");c=c.getAttribute("data-fbid");var d=this.stream.getCursor();d=this.stream.calculateDistance(d,c);c=this.stream.fbidList.indexOf(c);b("SnowliftVideoPivotsCarouselController").adjustCarousel(c);this.page(d,!1);this.haltAutoplay=!1;this.removeAutoplayOptionScreen()}else b("Parent").byClass(a,"fbPhotoSnowliftZoom")?this.openZoom(event):this.fullscreen&&(b("Parent").byClass(a,"fbPhotoSnowliftFullScreen")?(b("FunnelLogger").appendActionWithTagIfNew(m,b("FullScreen").isFullScreen()?"fullscreen_exit":"fullscreen_enter","fbPhotoSnowliftFullScreen"),this.toggleFullScreen()):b("Parent").byClass(a,"fbPhotoSnowliftCollapse")?(this.toggleCollapse(),b("FunnelLogger").appendAction(m,"toggle_collapse-rhc")):b("FullScreen").isFullScreen()&&b("Parent").bySelector(a,".overlayBarButtons .comment_link")&&(this.toggleCollapse(),b("FunnelLogger").appendAction(m,"toggle_collapse-rhc")));c=b("Parent").byAttribute(a,"data-action-type");if(c){d=c.getAttribute("data-action-type");c=c.getAttribute("data-action-tag");b("FunnelLogger").appendActionWithTag(m,d,c)}else if(b("Parent").byClass(a,"addLocation")){d=b("Parent").byClass(a,"addLocation");b("FunnelLogger").appendActionWithTag(m,"add_location",b("CSS").hasClass(d,"photosTruncatingUIButton")?null:"from-action-bar")}else if(b("Parent").byClass(a,"fbPhotosPhotoActionsTag")){c=b("Parent").byClass(a,"fbPhotosPhotoActionsTag");b("CSS").hasClass(c,"tagButton")?b("FunnelLogger").appendActionWithTag(m,"tag_photo","start-tagging"):b("CSS").hasClass(c,"doneTaggingLink")?b("FunnelLogger").appendActionWithTag(m,"tag_photo","end-tagging"):b("CSS").hasClass(c,"taggingOff")?b("FunnelLogger").appendActionWithTag(m,"tag_photo","tagging-off"):b("CSS").hasClass(c,"taggingOn")&&b("FunnelLogger").appendActionWithTag(m,"tag_photo","tagging-on")}else b("Parent").byClass(a,"UFILikeLink")&&b("FunnelLogger").appendAction(m,"like-photo")}.bind(this)));a=b("ge")("fbPhotoSnowliftFeedback");a&&this.stageHandlers.push(b("Event").listen(a,"click",function(event){var a=event.getTarget();(b("Parent").byClass(a,"like_link")||b("Parent").byClass(a,"UFILikeLink")&&b("Parent").byClass(a,"UIActionLinks"))&&this.toggleLikeButton();a=b("Parent").byClass(event.getTarget(),"uiUfiCollapsedComment");a&&(b("FunnelLogger").appendActionWithTag(m,"like-photo","snowlift-feedback"),b("CSS").addClass(a,"uiUfiCollapsedCommentToggle"))}.bind(this)));a=b("ge")("fbPhotoSnowliftOnProfile");a&&this.stageHandlers.push(b("Event").listen(a,"click",function(event){b("Parent").byClass(event.getTarget(),"fbPhotoRemoveFromProfileLink")&&(this.refreshOnClose=!0)}.bind(this)));this.resetUriStack&&(this.startingURI=b("URI").getMostRecentURI().addQueryData({closeTheater:1}).getUnqualifiedURI());this.setLoadingState(v.STATE_IMAGE_DATA,!0);this.transitionHandlerRegistered||(b("PageTransitions").registerHandler(this.transitionHandler.bind(this)),this.transitionHandlerRegistered=!0);b("PhotoSessionLog").initLogging(b("PhotoSessionLog").SNOWLIFT);this._dataFt&&b("PhotoSessionLog").setTopLevelPostId(this._dataFt.top_level_post_id);this.pivots&&b("PhotoSessionLog").setRelevantCount(this.pivots.relevantCount)};v.prototype.toggleFullScreen=function(){var a=b("FullScreen").toggleFullScreen(document.documentElement);a?(this._viewable.onToggleIntoFullScreen(),b("PhotoSessionLog").logEnterFullScreen(this.stream.getCursor())):this._viewable.onToggleOutOfFullScreen()};v.prototype._getIsZoomAllowed=function(a){return!!(a&&!a.video&&!a.spherical&&a.dimensions&&(a.dimensions.x>window.innerWidth||a.dimensions.y>window.innerHeight))};v.prototype.showZoom=function(a){b("CSS").conditionClass(this.root,"zoomAvailable",this._getIsZoomAllowed(a))};v.prototype.openZoom=function(event){__p&&__p();var a=this.stream.getCurrentImageData();this._viewable.onToggleIntoFullScreen();var c=b("DOM").find(this.stageWrapper,"._2-sx"),d=c.getBoundingClientRect();c.style.width="auto";c.style.height="auto";c.classList.add("zoom");var e=void 0,f=void 0;if(a){a=a.dimensions;e=Math.max(0,a.x-window.innerWidth);f=Math.max(0,a.y-window.innerHeight)}else{a=c.getBoundingClientRect();e=Math.max(0,a.width-window.innerWidth);f=Math.max(0,a.height-window.innerHeight)}a=!1;e&&(a=!0,e+=s*2,c.classList.add("overflowX"));f&&(a=!0,f+=s*2,c.classList.add("overflowY"));var g=void 0;if(a){a=-event.clientX/window.innerWidth*e+"px";var h=-event.clientY/window.innerHeight*f+"px";c.style.transform="translate3d("+a+","+h+",0)";g=b("Event").listen(c,"mousemove",function(event){var b=-event.clientX/window.innerWidth*e+"px",a=-event.clientY/window.innerHeight*f+"px";c.style.transform="translate3d("+b+","+a+",0)"})}var i=null,j=null;a=function(){c.style.width=d.width+"px";c.style.height=d.height+"px";c.style.transform="";c.classList.remove("zoom","overflowX","overflowY");g&&g.remove();i.remove();k.unsubscribe(j);k.destroy();return!1};var k=new(b("Layer"))({},document.createElement("div"));j=k.subscribe("key",a);k.show();i=b("Event").listen(c,"click",a);this._viewable.onEnterFullScreen()};v.prototype.getStream=function(){return this.stream};v.prototype.fetchInitialData=function(){this.stream.waitForInitData();var a=this.loadQuery.within_business?this.loadQuery.business_thread_id:this.loadQuery.fbid;a=b("UFIFeedbackTargets").getFeedbackTargetIfExists(a)||{};b("UIPagelet").loadFromEndpoint("PhotoViewerInitPagelet",b("ge")("pagelet_photo_viewer_init",this.root),this.loadQuery,{actorID:a.actorforpost||null,usePipe:!0,jsNonblock:!0,crossPage:!0,allowIrrelevantRequests:this.allowIrrelevantRequests});this.adjustScroller();this.disableAds=!b("CurrentUser").isLoggedIn()||this.loadQuery.eid||this.loadQuery.within_business||this.loadQuery.viewas;this.loadAds()};v.prototype.toggleCollapse=function(){this.rhcCollapsed?this.uncollapseRHC():this.collapseRHC()};v.prototype.collapseRHC=function(){this.rhcCollapsed=!0,b("CSS").addClass(this.root,"collapseRHC"),this.adjustForResize()};v.prototype.uncollapseRHC=function(){this.rhcCollapsed=!1,b("CSS").removeClass(this.root,"collapseRHC"),this.adjustForResize()};v.prototype.closeHandler=function(){if(!this.isOpen)return;this.closingAction=this.closingAction||b("PhotoSessionLog").ESC;if(b("URI").getMostRecentURI().addQueryData({closeTheater:1}).getUnqualifiedURI().toString()==this.startingURI.toString()){this.close();return}this.returnToStartingURI(this.refreshOnClose);this.close()};v.prototype.returnToStartingURI=function(a,c){__p&&__p();a||(c?this.squashNextTransition(b("goURI").bind(null,c)):this.squashNextTransition());this.returningToStart=!0;var d=b("Arbiter").subscribe("page_transition",function(){this.returningToStart=!1,d.unsubscribe()}.bind(this));c=a||isNaN(b("UserAgent_DEPRECATED").opera());a=this._uriStack.length;if(c&&a<window.history.length)window.history.go(-a);else{c=this.startingURI;a=new(b("URI"))(c).removeQueryData("closeTheater");c.getQueryData().sk=="approve"&&c.getPath()=="/profile.php"&&(a.removeQueryData("highlight"),a.removeQueryData("notif_t"));b("goURI")(a)}};v.prototype.squashNextTransition=function(a){this.squashNext=!0,b("PageTransitions").registerHandler(function(){if(this.squashNext){this.squashNext=!1;a&&setTimeout(a,0);b("PageTransitions").transitionComplete(!0);return!0}return!1}.bind(this),7)};v.prototype.handleNavigateAway=function(a){__p&&__p();var c=b("computeRelativeURI")(b("PageTransitions").getMostRecentURI().getQualifiedURI(),a.getAttribute("href"));if(this.backButton&&b("ReactDOM").findDOMNode(this.backButton)===a){this._navHistory.pop();this.resetUriStack=!1;this.open(c.toString());this._navHistory.pop();this.currentAuthorName=null;return!1}if(b("Parent").bySelector(a,"._56lp a")){this.resetUriStack=!1;this.open(c.toString());return!1}if(this.isOpen&&c instanceof b("URI")&&c.getUnqualifiedURI().toString()!=this.startingURI.toString()&&c.getPath()!="/photo.php"){this.closingAction||(this.closingAction=b("PhotoSessionLog").NAVIGATE);this.returnToStartingURI(!1,c);this.close();return!1}(c instanceof b("URI")||!l)&&c.getPath()=="/photo.php"&&b("URI").getMostRecentURI().getPath()!=="/photo.php"&&this.close();return!0};v.prototype.postProcessTaggedPhotos=function(){if(this.taggedPhotoIds&&this.taggedPhotoIds.length>0){var a=null;this.source===v.COLLECTIONS_UNTAGGED_PHOTOS?a="/ajax/photos/photo/edit/skiptag/":(this.source===v.PHOTOS_OF_YOU_SUGGESTIONS||this.source===v.FRIENDS_IN_PHOTOS_SUGGESTIONS)&&(a="/ajax/photos/photo/add_to_star_grid/");a&&new(b("AsyncRequest"))().setURI(a).setAllowCrossPageTransition(!0).setData({media_id:this.taggedPhotoIds,source:this.source}).send()}};v.prototype.onTagSaved=function(a,b){if(this.taggedPhotoIds){if(this.source===v.PHOTOS_OF_YOU_SUGGESTIONS&&!b.self_tag)return;this.taggedPhotoIds.push(b.photo_fbid)}};v.prototype.clearAlbumBoundaries=function(){this._albumBoundaries={start:0,end:0,dir:0}};v.prototype.close=function(){__p&&__p();if(!this.isOpen)return;b("FunnelLogger").appendActionWithTag(m,"close_snowlift",b("PhotoSessionLog").closingTypeToString(this.closingAction));b("FunnelLogger").endFunnel(m);this._albumFBID=null;this.hideMorePhotos();this.hidePivotSlide();this._pauseVideoIfNeeded();this._destroyVideoIfNeeded();this.isOpen=!1;this._navCount=0;this.clearAlbumBoundaries();this.fullscreen&&b("FullScreen").disableFullScreen();b("CSS").removeClass(document.body,"fbPhotoSnowliftFullScreenMode");this.spotlight.hide();this.openExplicitly=!1;this.postProcessTaggedPhotos();b("Arbiter").unsubscribe(this.saveTagSubscription);this.taggedPhotoIds=[];this.closeDirty=!0;b("setTimeoutAcrossTransitions")(this.closeCleanup.bind(this),0);this.snowflake&&(b("CSS").removeClass(this.root,"snowflake"),this.extraClasses.forEach(function(a){b("CSS").removeClass(this.root,a)},this));b("UFIRootRegistry").cleanupSnowliftNodes();this.extraClasses=[];this.snowflake=!1;this.firstInSet=null;this.movementDelta=0};v.prototype.closeCleanup=function(){__p&&__p();b("ScriptPath").closeOverlayView("snowlift");this.closeDirty=!1;b("CSS").removeClass(this.root,"dataLoading");b("PhotoSessionLog").logPhotoViews(this.closingAction);this.destroy();b("CSS").hide(this.errorBox);this._viewable.hide();this.thumbSpherical=!1;this.thumbSrc=null;this.shouldStretch=!1;this.resetUriStack=!0;var a=this.stream.getCursor();if(b("VideoPlayerAbortLoadingExperiment").canAbort){var c;for(c=0;c<this.stream.getLength();c++){var d=this.stream.getImageData(this.stream.getCursorAt(c));d&&d.video&&d.controller&&d.controller.abortLoading()}}b("CSS").removeClass(this.stageWrapper,"showVideo");this._emptyVideoStage();this.PhotoSnowliftVideoNode&&this.PhotoSnowliftVideoNode.destroyVideoNode();this.uncollapseRHC();this.currentImageSize=null;this.currentMinSize=null;this.setStagePagersState("reset");this.recacheData();b("DOM").empty(this.sideAdUnit);this.stream.destroy();this.root.setAttribute("aria-busy","true");this._navHistory=[];d=this.closingAction===b("PhotoSessionLog").NAVIGATE;this.closingAction=null;this.openHandlerRegistered||(b("PageTransitions").registerHandler(this.openHandler.bind(this)),this.openHandlerRegistered=!0);b("Arbiter").inform("layer_hidden",{type:"PhotoSnowlift"});b("Arbiter").inform("PhotoSnowlift.CLOSE",{is_navigating:d,fbid:a})};v.prototype.createLoader=function(a){__p&&__p();if(this.currentImageSize===null)this.adjustStageSize(v.STAGE_MIN);else{var c=this.getStageSize(this.currentImageSize);c=new(b("Vector"))(Math.max(c.x,this.getMinimumStageWidth()),Math.max(c.y,v.STAGE_MIN.y));c=this.getImageSizeInStage(this.currentImageSize,c);this._elem&&this._elem.getAttribute("data-ploi")&&(this.thumbSrc=b("PhotoSnowliftLoader").getImageURL(this._elem));if(this.thumbSrc===null)this.adjustStageSize(c);else{var d=b("TimeSlice").getGuardedContinuation("Snowlift thumb image load");d=b("DOM").create("img",{className:"spotlight",alt:"",src:this.thumbSrc,style:{width:c.x+"px",height:c.y+"px"},onload:d.bind(undefined,b("emptyFunction"))});var e;void 0;this.thumbSpherical&&this.sphericalPhotoData?e=b("PhotoSnowliftViewableUtils").fromSphericalPhotoData(this.sphericalPhotoData,this):e=b("PhotoSnowliftViewableUtils").fromImageElement(d,this.thumbSpherical);this._useViewable(e,c,!1)}}this.setLoadingState(this.STATE_IMAGE_PIXELS,!0);a&&setTimeout(function(){__p&&__p();var c=function(){var b=arguments.length<=0||arguments[0]===undefined?null:arguments[0];if(!this.isOpen)return;(!this.stream||!this.stream.errorInCurrent())&&(this._switchViewable(b?b:a,this.currentImageSize),this.setLoadingState(v.STATE_IMAGE_DATA,!1))}.bind(this),d=b("TimeSlice").getGuardedContinuation("PhotoSnowlift image load");c=d.bind(null,c);if(b("EncryptedImg").isEncrypted(a))b("EncryptedImg").load(a,c);else{var e=new Image(),f=b("Event").listen(e,"load",c);c=function(){f&&(b("TimeSlice").cancel(d),f.remove(),f=null)};b("Arbiter").subscribeOnce("PhotoSnowlift.SWITCH_IMAGE",c);b("Arbiter").subscribeOnce("PhotoSnowlift.CLOSE",c);e.src=a}this._log(a)}.bind(this),0);b("CSS").hide(this.stageActions);this.setStagePagersState("disabled")};v.prototype.initialDataFetched=function(a){__p&&__p();b("PhotoSessionLog").setPhotoSet(this.stream.getPhotoSet());b("PhotoSessionLog").setLogFbids(a.logids);a.eid&&b("PhotoSessionLog").setEid(a.eid);this._albumBoundaries.start=this.stream.getCursor();a=this.stream.getCurrentImageData();if(a){var c=this.getImageURL(a);c=!b("PhotoSnowliftLoggingConfig").checkForImage||c;c&&(b("PhotoSessionLog").addPhotoView(a.info,this.shouldShowHiRes(a),this.fullscreen&&b("FullScreen").isFullScreen()),b("PhotoSnowliftLoggingConfig").logOnlyOnInit&&b("PhotoSessionLog").logInitialLoad())}c=this.stream.getCurrentExtraData();this._showHover&&c&&b("PhotoTagSearchPivotLogger").logImageImpression("snowlift",String(this.stream.getCursor()),Object.keys(c.tagRects));c&&c.source!==undefined&&(this.source=parseInt(c.source,10),b("PhotoSessionLog").setSource(this.source));this.pageHandlers||(this.pageHandlers=[b("Event").listen(this.root,"click",this.pageListener.bind(this)),b("Event").listen(this.root,"mouseleave",this.mouseLeaveListener.bind(this))]);this.showZoom(a);b("CSS").show(this.stageActions);this.root.setAttribute("aria-busy","false");a.info.ocmarkup?this.showObjectionableWarning(a.info.ocmarkup):this.hideObjectionableWarning();a.info.disablecontextmenu?this.disableContextMenu():this.enableContextMenu()};v.prototype.adjustScrollerIfNecessary=function(){clearTimeout(this.scrollerTimeout),this.scrollerTimeout=setTimeout(this.adjustScroller.bind(this),0)};v.prototype.adjustScroller=function(a){__p&&__p();clearTimeout(this.scrollerTimeout);this.initializeScroller();this.scrollableArea.resize();var c=b("Vector").getElementDimensions(this.rhc),d=c.y;d-=b("Vector").getElementDimensions(this.rhcHeader).y;d-=b("Vector").getElementDimensions(this.ufiInputContainer).y;this.seeMore&&(d-=b("Vector").getElementDimensions(this.seeMore).y);if(this.placeInfo){var e=b("Vector").getElementDimensions(this.placeInfo);d-=e.y;b("Style").set(this.sideAdUnit,"bottom",e.y+"px")}a==null&&(a=this.resizeCommentsForAds?this.lastAdsHeight:0);this.lastAdsHeight=a;d=Math.max(0,d);e=b("Vector").getElementDimensions(this.scrollerBody).y;a=Math.max(v.MIN_UFI_HEIGHT,d-a);e>=a?(d>a?(b("CSS").removeClass(this.rhc,"pinnedUfi"),d-=a):(b("CSS").addClass(this.rhc,"pinnedUfi"),d=0),b("Style").set(this.scroller,"height",a+"px")):(b("Style").set(this.scroller,"height","auto"),b("CSS").removeClass(this.rhc,"pinnedUfi"),d-=e);b("PhotoSnowliftAds").resize(new(b("Vector"))(c.x,d));this.scrollableArea.adjustGripper()};v.prototype.adjustForResize=function(){this.currentMinSize=null,this.adjustStageSize(),this.adjustForNewData()};v.prototype.shouldShowHiRes=function(a){if(!a||!a.smallurl)return!1;var b=this.getStageSize(a.dimensions);b=this._adjustStageSizeForPixelRatio(b);a=this.getImageSizeInStage(a.dimensions,b);return a.x>v.STAGE_NORMAL_MAX.x||a.y>v.STAGE_NORMAL_MAX.y};v.prototype._adjustStageSizeForPixelRatio=function(a){window.devicePixelRatio&&window.devicePixelRatio>1&&(a=new(b("Vector"))(a.x*window.devicePixelRatio,a.y*window.devicePixelRatio));return a};v.prototype.getImageURL=function(a){if(a.video)return null;else if(a.smallurl&&!this.shouldShowHiRes(a))return a.smallurl;return a.url};v.prototype.getImageOrVideoDimensions=function(a){if(a.video){a=this.getVideoElement(a.video);if(a)return this.getVideoSize(a)}return this._viewable.getNaturalDimensions()};v.prototype.getStageSize=function(a,c){__p&&__p();var d=b("Vector").getViewportDimensions();this._isLiveBroadcast&&(d.y-=200);var e=new(b("Vector"))(a.x,a.y);c&&(e=new(b("Vector"))(Math.max(a.x,c.x),Math.max(a.y,c.y)));if(this.fullscreen&&b("FullScreen").isFullScreen()){a=screen.height-v.FULL_SCREEN_PADDING*2;return new(b("Vector"))(this.rhcCollapsed?screen.width:screen.width-v.SIDEBAR_SIZE_MAX,a)}else{c=Math.min(e.x,d.x-v.SIDEBAR_SIZE_MAX-v.STAGE_CHROME.x);d=d.y-v.STAGE_CHROME.y;a=Math.min(e.y,d)}if(c===0&&a===0)return new(b("Vector"))(0,0);d=c/a;e=e.x/e.y;return d<e?new(b("Vector"))(c,Math.round(c/e)):new(b("Vector"))(Math.round(a*e),a)};v.prototype.getExtraVerticalSpace=function(){return this.getVideoOnStage()?v.VIDEO_BOTTOM_BAR_SPACE*2:0};v.prototype.getComponentsHeight=function(){var a=this.getVideoOnStage();if(a){a=b("ge")(a);if(a)return this.getVideoComponentsHeight(a)}return 0};v.prototype.getMinimumStageWidth=function(){var a=v.STAGE_MIN.x;if(this.getVideoOnStage())return a;b("PhotoSnowliftActionsGating").ALLOW_MAKE_PROFILE_PICTURE_BUTTON&&(a+=v.PROFILE_PICTURE_BUTTON_WIDTH);return a};v.prototype.getImageSizeInStage=function(a,c){__p&&__p();var d=a.x;a=a.y;var e=this.getComponentsHeight(),f=this.getExtraVerticalSpace();a-=e;c=new(b("Vector"))(c.x,c.y-e-f);if(d>=c.x||a>=c.y){f=c.x/c.y;var g=d/a;f<g?(d=c.x,a=Math.round(d/g)):f>g?(a=c.y,d=Math.round(a*g)):(d=c.x,a=c.y)}return new(b("Vector"))(d,a+e)};v.prototype.adjustStageSize=function(a){__p&&__p();var c=this.currentImageSize;if(a)c=a;else{a=this.stream&&this.stream.getCurrentImageData();a&&(c=this.getImageOrVideoDimensions(a))}if(!c)return;this.currentImageSize=c;a=this.getExtraVerticalSpace();this.shouldStretch&&!this.getVideoOnStage()&&c.x>c.y&&c.x<=v.TIMELINE_STRETCH_WIDTH&&c.x>=v.TIMELINE_STRETCH_MIN&&(c.y=Math.round(c.y*v.TIMELINE_STRETCH_WIDTH/c.x),c.x=v.TIMELINE_STRETCH_WIDTH);var d=this.getStageSize(c,this.currentMinSize);this.currentMinSize||(this.currentMinSize=new(b("Vector"))(0,0));this.currentMinSize=new(b("Vector"))(Math.max(d.x,this.getMinimumStageWidth(),this.currentMinSize.x),Math.max(d.y,v.STAGE_MIN.y,this.currentMinSize.y));d=this.getImageSizeInStage(c,this.currentMinSize);c=this.currentMinSize.x-d.x;var e=this.currentMinSize.y-d.y;c>0&&c<v.PADDING_MIN?this.currentMinSize.x-=c:e>0&&e<v.PADDING_MIN&&(this.currentMinSize.y-=e);e=this.currentMinSize.x+v.SIDEBAR_SIZE_MAX;this.rhcCollapsed&&(e=this.currentMinSize.x);var f=this.getVideoOnStage()&&this.pivotsCarouselElement,g=0,h=this.currentMinSize.y;if(f){var i=this.pivotsCarouselElement.clientHeight;g=Math.ceil(i/100)*100;h+=g}this.snowliftPopup.style.cssText="width:"+e+"px;height:"+h+"px;";i=this.currentMinSize.y-a;e=i+g;if(b("UserAgent_DEPRECATED").firefox()){var j=b("Style").get(this.stageWrapper,"font-size");i=i/parseFloat(j)+"em";e=e/parseFloat(j)+"em"}else i+="px",e+="px";this.stageWrapper.style.cssText="width:"+this.currentMinSize.x+"px;line-height:"+i+";";if(this.getVideoOnStage()){this.videoStage.style.cssText="width:"+this.currentMinSize.x+"px;height:"+e+";";if(!this._inputBarAdjusted&&this._isLiveBroadcast){h=parseInt(b("Style").get(this._liveInputBar,"right"),10);b("Style").set(this._liveInputBar,"right",h+c/2+"px");this._inputBarAdjusted=!0}}d.y-=this.getComponentsHeight();this.setMediaElementSize(d);f&&this.setPivotCarouselElementWidth(j);a=this.getTagger();a&&a.repositionTagger();this.adjustScrollerIfNecessary()};v.prototype.setMediaElementSize=function(a){__p&&__p();var c=this.image;if(this.getVideoOnStage())if(this._videoPlayerStateManager&&this._videoPlayerStateManager.setDimensions){this._videoPlayerStateManager.setDimensions(a.x,a.y);return}else c=b("DOM").scry(this.videoStage,"._53j5")[0]||c;else{this._viewable.setDimensions(a);return}if(!c)return;c.style.cssText="width:"+a.x+"px;height:"+a.y+"px;"};v.prototype.setPivotCarouselElementWidth=function(a){var c=this.videoStage.clientWidth;b("UserAgent_DEPRECATED").firefox()?c=c/parseFloat(a)+"em":c+="px";this.pivotsCarouselElement.style.width=c};v.prototype.adjustForNewData=function(){var a=this._viewable.getDimensions(),c=b("DOM").scry(this.stage,"div.tagsWrapper")[0];c&&(b("Style").set(c,"width",a.x+"px"),b("Style").set(c,"height",a.y+"px"))};v.prototype.adsDisplayedCallback=function(a,b){a=this.resizeCommentsForAds&&!this.inAdsDisplayedCallback&&!this.disableAds&&a<v.MIN_ADS_VISIBLE&&b.length>=v.MIN_ADS_VISIBLE;if(a){this.inAdsDisplayedCallback=!0;a=b[v.MIN_ADS_VISIBLE-1];this.adjustScroller(a);this.inAdsDisplayedCallback=!1}};v.prototype.setLoadingState=function(a,c){__p&&__p();switch(a){case v.STATE_IMAGE_PIXELS:b("CSS").conditionClass(this.root,"imagePixelsLoading",c);break;case v.STATE_IMAGE_DATA:this.loadingStates[a]=c;b("CSS").conditionClass(this.root,"imageLoading",c);break;case v.STATE_HTML:this.loadingStates[a]=c;b("CSS").conditionClass(this.root,"dataLoading",c);this.rhc.setAttribute("aria-busy",c?"true":"false");break}};v.prototype.destroy=function(){this.stageHandlers.forEach(function(a){a.remove()}),this.pageHandlers&&(this.pageHandlers.forEach(function(a){a.remove()}),this.pageHandlers=null),this._actionsMenuSubscriptionsHandler&&(this._actionsMenuSubscriptionsHandler.release(),this._actionsMenuSubscriptionsHandler=null),this._videoPlayerStateManager=null};v.prototype.checkState=function(a){__p&&__p();var c=arguments.length<=1||arguments[1]===undefined?!1:arguments[1];if(a!=v.STATE_ERROR&&!this.loadingStates[a])return;switch(a){case v.STATE_IMAGE_DATA:var d=this.stream.getCurrentImageData();if(d){var e=this.getImageURL(d);e?this._switchViewable(e,null,!0,c):d.video&&(d.shouldDelayStartupVideo?b("setImmediate")(function(){return this.switchVideo(d.video,!0)}.bind(this)):this.switchVideo(d.video,!0));this.setLoadingState(a,!1)}break;case v.STATE_HTML:this.stream.getCurrentHtml()&&(this.swapData(),this.setLoadingState(a,!1));break;default:this.stream.errorInCurrent()&&(this._viewable.hide(),b("CSS").show(this.errorBox));break}};v.prototype.buttonListener=function(event){__p&&__p();var a=event.getTarget(),c=Date.now();if(b("Parent").byClass(a,"fbPhotoTagApprovalBox")){b("FunnelLogger").appendAction(m,"approve_photo_tag");return}if(c-this.lastPage<350)return;if(b("Parent").byClass(a,"fbPhotosPhotoLike"))this.likePhoto();else if(b("Parent").byClass(a,"tagApproveIgnore"))this.updateTagBox(event,a),b("FunnelLogger").appendAction(m,"ignore_photo_tag");else if(b("Parent").bySelector(a,"._5ymu")){if(!this._showingMorePhotos){b("PhotoTagSearchPivotLogger").logShowMorePhotos();c=this.stream.getCursor();c&&this.showMorePhotos(String(c))}else b("PhotoTagSearchPivotLogger").logHideMorePhotos(),this.hideMorePhotos();return}this.hideMorePhotos()};v.prototype.likePhoto=function(){b("FunnelLogger").appendActionWithTag(m,"like_photo","snowlift-feedback");b("PhotoSessionLog").addButtonLike();var a=b("$")("fbPhotoSnowliftFeedback"),c=b("DOM").scry(a,"button.like_link")[0];c||(c=b("DOM").scry(a,"a.UFILikeLink")[0]);a=c.getAttribute("href");b("FullScreen").isFullScreen()&&(b("UserAgent_DEPRECATED").chrome()&&c.setAttribute("href","javascript:;"));c.click();c.setAttribute("href",a)};v.prototype.toggleLikeButton=function(){var a=b("DOM").scry(this.buttonActions,"a.fbPhotosPhotoLike")[0];if(a){var c=b("DOM").find(this.root,".likeCount"),d=b("DOM").find(c,".likeCountNum"),e=b("CSS").hasClass(a,"viewerLikesThis");b("FunnelLogger").appendActionWithTag(m,e?"unlike_photo":"like_photo","snowlift-feedback");c&&(e?b("DOM").setContent(d,parseInt(d.textContent,10)-1):b("DOM").setContent(d,parseInt(d.textContent,10)+1));b("CSS").toggleClass(a,"viewerLikesThis");b("CSS").removeClass(a,"viewerAlreadyLikedThis")}};v.prototype.likePhotoWithKey=function(){return b("LikeConfirmer").like(this.likePhoto.bind(this),b("getActiveElement")())};v.prototype.updateTagBox=function(a,c){this.unhiliteAllTags();a=b("ge")(a);if(!a)return;b("CSS").addClass(a,"tagBox");b("CSS").addClass(a,"tagBoxPendingResponse");b("CSS").removeClass(a,"tagBoxPending");b("CSS").hide(b("DOM").find(a,"span.tagForm"));c?b("CSS").show(b("DOM").find(a,"span.tagApproved")):b("CSS").show(b("DOM").find(a,"span.tagIgnored"))};v.prototype.rotate=function(a){__p&&__p();var c=this.stream.getCursor();if(this.getVideoOnStage()){var d=a=="left"?270:90;!this.videoRotateURI&&j(0);b("Bootloader").loadModules(["VideoRotate"],function(a){new a(c,this.videoRotateURI).motionRotate(d)}.bind(this),"PhotoSnowlift");return}var e=babelHelpers["extends"]({fbid:c,opaquecursor:this.stream.getOpaqueCursor(c),cs_ver:b("PhotosConst").VIEWER_SNOWLIFT},this.stream.getPhotoSetQuery());e[a]=1;this.setLoadingState(v.STATE_IMAGE_DATA,!0);this.setLoadingState(this.STATE_IMAGE_PIXELS,!0);this._viewable.hide();new(b("AsyncRequest"))("/ajax/photos/photo/rotate/").setAllowCrossPageTransition(!0).setData(e).setErrorHandler(this.rotationError.bind(this,c)).setFinallyHandler(this.rotationComplete.bind(this,c)).setMethod("POST").setReadOnly(!1).send()};v.prototype.rotationComplete=function(a,b){a==this.stream.getCursor()&&(this.setLoadingState(v.STATE_IMAGE_DATA,!1),this._switchViewable(this.getImageURL(this.stream.getCurrentImageData())),this.swapData())};v.prototype.rotationError=function(a,c){a==this.stream.getCursor()&&(this.setLoadingState(v.STATE_IMAGE_DATA,!1),this._switchViewable(this.getImageURL(this.stream.getCurrentImageData())),b("Bootloader").loadModules(["AsyncResponse"],function(a){a.defaultErrorHandler(c)},"PhotoSnowlift"))};v.prototype.saveTagsFromPayload=function(a){this.storeFromData(a),"data"in a&&this.stream.getCursor()in a.data&&this.swapData()};v.prototype.saveEdit=function(){if(!b("CSS").hasClass(this.root,"fbPhotoSnowliftEditMode"))return;b("Bootloader").loadModules(["PhotoInlineEditor","FormSubmit"],function(a,b){a=a.getInstance(this.getViewerConst());a&&b.send(a.getForm().controller)}.bind(this),"PhotoSnowlift")};v.prototype.mouseLeaveListener=function(event){this.unhiliteAllTags(),this.reHilitePendingTag()};v.prototype.hilitePager=function(event){var a=b("Vector").getEventPosition(event),c=b("Vector").getElementPosition(this.stage),d=b("Vector").getElementDimensions(this.stage);b("Locale").isRTL()?this.stagePagerPrev=d.x-(a.x-c.x)<v.GOPREV_AREA:this.stagePagerPrev=a.x-c.x<v.GOPREV_AREA;b("CSS").hasClass(this.prevPager,"hilightPager")!==this.stagePagerPrev&&b("CSS").conditionClass(this.prevPager,"hilightPager",this.stagePagerPrev);b("CSS").hasClass(this.nextPager,"hilightPager")===this.stagePagerPrev&&b("CSS").conditionClass(this.nextPager,"hilightPager",!this.stagePagerPrev);var e;d=event.getTarget();!b("Parent").byClass(d,"snowliftOverlay")&&!b("Parent").byClass(d,"bottomBarActions")&&!b("Parent").byClass(d,"snowliftPager")&&(e=v.PAGER_FADE);this.showPagers(e)};v.prototype.showPagers=function(a){clearTimeout(this.fadePagerTimer),this.setStagePagersActivated(!0),a!==undefined&&(this.fadePagerTimer=setTimeout(this.hidePagers.bind(this),a))};v.prototype.hidePagers=function(){if(this._mouseOnPhotoStage||this._actionMenuOpen)return;clearTimeout(this.fadePagerTimer);this.setStagePagersActivated(!1)};v.prototype.getTagger=function(){return this.PhotoTagger&&this.PhotoTagger.getInstance(b("PhotosConst").VIEWER_SNOWLIFT)};v.prototype.unhiliteAllTags=function(){__p&&__p();clearTimeout(this.unhiliteTimer);b("DOM").scry(this.stage,"div.tagsWrapper div.hover").forEach(function(a){b("CSS").removeClass(a,"hover")});b("DOM").scry(this.stage,"div.tagsWrapper div.otherActive").forEach(function(a){b("CSS").removeClass(a,"otherActive")});this.hilitedTag=null;this.showingTypeaheadSuggestions=!1;if(!b("CSS").hasClass(this.root,"taggingMode")){var a=this.getTagger();a&&!a.isSpherical&&(a.hideTagger(),a.setCurrentFacebox(null))}};v.prototype.switchHilitedTags=function(a,c){__p&&__p();this.switchTimer!==null&&(clearTimeout(this.switchTimer),this.switchTimer=null);this.unhiliteAllTags();this.hiliteAllBoxes();var d=b("ge")(a);if(d){this.hilitedTag=a;if(!b("CSS").hasClass(this.root,"taggingMode")&&b("PhotosUtils").isFacebox(this.hilitedTag)){var e=this.getTagger();if(e){b("CSS").addClass(d,"hover");a=e.getFacebox(a);e.setCurrentFacebox(a);a&&e.addTagFromFacebox(a)}}else b("CSS").addClass(d,"hover");b("CSS").hasClass(d,"tagBoxPending")&&!b("CSS").hasClass(d,"showPendingTagName")&&c===!0&&(b("DOM").scry(this.stage,"div.tagsWrapper div.showPendingTagName").forEach(function(a){b("CSS").removeClass(a,"showPendingTagName")}),b("CSS").addClass(d,"showPendingTagName"))}};v.prototype.reHilitePendingTag=function(){var a=b("ge")(this.hilitedTag);if(a&&b("CSS").hasClass(a,"showPendingTagName"))return;a=b("DOM").scry(this.stage,"div.tagsWrapper div.showPendingTagName")[0];a&&this.switchHilitedTags(a.id)};v.prototype.hiliteTagsOnMouseMove=function(event){__p&&__p();if(!this.stream.getCurrentExtraData()||this.getVideoOnStage())return;if(this.switchTimer!==null)return;var a=event.getTarget();if(b("Parent").byClass(a,"snowliftOverlay")||b("Parent").byClass(a,"fbPhotoSnowliftTagApproval")||b("Parent").byClass(a,"tagPointer")||b("Parent").byClass(a,"arrow")||b("Parent").byClass(a,"faceboxSuggestion")||b("Parent").byClass(a,"typeaheadWrapper")||b("Parent").byClass(a,"photoTagTypeahead")||b("Parent").byClass(a,"ufiContainer"))return;a=b("Parent").byClass(a,"tagBoxPending");var c=!1;if(this.hilitedTag){var d=b("ge")(this.hilitedTag);c=d&&b("CSS").hasClass(d,"tagBoxPending")}d=!this.hilitedTag&&a||!c&&a;if(d){this.switchHilitedTags(a.id);return}if(a&&a.id==this.hilitedTag)return;d=250;a=15;var e=b("Vector").getEventPosition(event);this.startingMousePos||(this.startingMousePos=e);var f=b("PhotosUtils").absoluteToNormalizedPosition(this._viewable.getElement(),e);if(!this.haveLeftBufferRegion&&this.startingMousePos.distanceTo(e)<a)return;else this.haveLeftBufferRegion=!0;if(this.currentTagHasPrecedence(f))return;e=b("PhotosUtils").getNearestBox(this.stream.getCurrentExtraData().tagRects,f);if(!e){c||(this.unhiliteAllTags(),this.reHilitePendingTag());return}a=null;if(c){var g={};g[this.hilitedTag]=this.stream.getCurrentExtraData().tagRects[this.hilitedTag];a=b("PhotosUtils").getNearestBox(g,f)}if(a!==null&&c)return;this.hilitedTag!=e&&(c?this.switchTimer=setTimeout(this.switchHilitedTags.bind(this,e),d):(this._showHover&&!this._seenTags[e]&&(this._seenTags[e]=!0,b("PhotoTagSearchPivotLogger").logPivotImpression("snowlift",e)),this.switchHilitedTags(e)))};v.prototype.currentTagHasPrecedence=function(a){if(!this.hilitedTag)return!1;if(this.stream.getCurrentExtraData().tagRects[this.hilitedTag]===undefined){this.hilitedTag=null;return!1}var c=this.stream.getCurrentExtraData().tagRects[this.hilitedTag];c=new(b("Rect"))(c.t+c.h()/2,c.r,c.b+(b("PhotosUtils").isFacebox(this.hilitedTag)?10:0),c.l,c.domain);return c.contains(a)};v.prototype.getVideoOnStage=function(){var a=this.stream&&this.stream.getCurrentImageData();return a&&a.video};v.prototype.shouldPageOnAction=function(a,c){__p&&__p();if(!this.isOpen||b("LikeConfirmer").isShowingConfirmation())return!1;var d=b("isNode")(c)&&(b("Parent").byClass(c,"snowliftPager")||b("Parent").byClass(c,"stagePagers")||b("Parent").byClass(c,"pivotPageColumn")),e=b("isNode")(c)&&b("Parent").byClass(c,"stage"),f=b("CSS").hasClass(c,"faceBox");f=!b("CSS").hasClass(this.root,"taggingMode")&&f&&!d;if(f){this.showingTypeaheadSuggestions||(this.getTagger().updateWithSuggestions(),setTimeout(function(){b("DOM").find(this.getTagger().tagger,"input.textInput").focus()}.bind(this),0));this.showingTypeaheadSuggestions=!this.showingTypeaheadSuggestions;return!1}c=e&&b("CSS").hasClass(this.root,"taggingMode")||b("Parent").byClass(c,"tagBoxPending")||b("Parent").byClass(c,"tagBoxPendingResponse")||b("Parent").byClass(c,"fbPhotoTagApprovalBox")||b("Parent").byClass(c,"tag")||b("Parent").byClass(c,"sphericalHeadingIndicator")||b("Parent").byClass(c,"sphericalVolumeControl")||b("Parent").byClass(c,"sphericalPhotoWrapper");return c?!1:a==b("Keys").LEFT||a==b("Keys").RIGHT||a==n||a==o||d||f||e};v.prototype.keyHandler=function(a,event){__p&&__p();if(event.getModifiers().any||b("Layer").getTopmostLayer()!==this.spotlight)return!0;switch(b("Event").getKeyCode(event)){case b("Keys").LEFT:case b("Keys").RIGHT:case n:case o:this.pageListener(event);return!1;case p:b("FunnelLogger").appendActionWithTagIfNew(m,b("FullScreen").isFullScreen()?"fullscreen_exit":"fullscreen_enter","key-f");return this.toggleFullScreen();case q:return this.likePhotoWithKey();case b("Keys").SPACE:this.showPagers(v.PAGER_FADE);return!1}return null};v.prototype.shouldHandlePendingTag=function(event){var a=this.getTagger();if(!a||!a.tags.length)return!1;var c=b("PhotosUtils").absoluteToNormalizedPosition(this.getImage(),b("Vector").getEventPosition(event));a=a.findNearestTag(c);if(!a||!b("CSS").hasClass(a.node,"tagBoxPending"))return!1;b("Arbiter").inform("PhotoTagApproval.PENDING_TAG_PHOTO_CLICK",{id:a.id,version:this.getVersionConst()});return!0};v.prototype.pageListener=function(event){__p&&__p();var a=b("Event").getKeyCode(event),c=event.getTarget();if(!this.shouldPageOnAction(a,c))return;if(this.shouldHandlePendingTag(event))return;var d=0,e=null;if(a==b("Keys").RIGHT||a==o)d=1,b("FunnelLogger").appendActionWithTag(m,"image_prev","key-right"),b("PhotoSessionLog").setPagingAction("key_right"),this._disableMouseOver=!0;else if(a==b("Keys").LEFT||a==n)d=-1,b("FunnelLogger").appendActionWithTag(m,"image_next","key-left"),b("PhotoSessionLog").setPagingAction("key_left"),this._disableMouseOver=!0;else if(b("Parent").byClass(c,"next"))d=1,b("FunnelLogger").appendActionWithTag(m,"image_next","button-next"),b("PhotoSessionLog").setPagingAction("click_next");else if(b("Parent").byClass(c,"prev"))d=-1,b("FunnelLogger").appendActionWithTag(m,"image_prev","button-prev"),b("PhotoSessionLog").setPagingAction("click_prev");else if(e=b("Parent").byClass(c,"seek")){a=b("DataStore").get(e,"seek-fbid");d=this.stream.getRelativeMovement(a);b("PhotoSessionLog").setPagingAction("seek")}else!this.stagePagerPrev?(d=1,b("FunnelLogger").appendAction(m,"image_next","click-stage"),b("PhotoSessionLog").setPagingAction("click_stage")):(d=-1,b("FunnelLogger").appendAction(m,"image_prev","click-stage"),b("PhotoSessionLog").setPagingAction("click_stage_back"));c=b("DOM").scry(this.ufiForm,"input.mentionsHidden");e=!1;for(var a=0;a<c.length;a++)if(!b("Input").isEmpty(c[a])){e=!0;break}e||b("CSS").hasClass(this.root,"fbPhotoSnowliftEditMode")?this.warnLeavePage(this.page.bind(this,d)):this.page(d,b("UserAgent_DEPRECATED").chrome()&&b("FullScreen").isFullScreen())};v.prototype.warnLeavePage=function(a){new(b("Dialog"))().setTitle(i._("B\u1ea1n c\u00f3 ch\u1eafc ch\u1eafn mu\u1ed1n r\u1eddi trang n\u00e0y kh\u00f4ng?")).setBody(i._("B\u1ea1n c\u00f3 nh\u1eefng thay \u0111\u1ed5i ch\u01b0a \u0111\u01b0\u1ee3c l\u01b0u s\u1ebd b\u1ecb m\u1ea5t n\u1ebfu b\u1ea1n r\u1eddi kh\u1ecfi trang n\u00e0y.")).setButtons([{name:"leave_page",label:i._("R\u1eddi kh\u1ecfi trang n\u00e0y"),handler:a},{name:"continue_editing",label:i._("\u1ede l\u1ea1i trang n\u00e0y"),className:"inputaux"}]).setModal(!0).show()};v.prototype.getUsesOpaqueCursor=function(){return this.stream.getUsesOpaqueCursor()};v.prototype.getOpaqueCursor=function(a){return this.stream.getOpaqueCursor(a)};v.prototype.setReachedLeftEnd=function(){this.stream.setReachedLeftEnd()};v.prototype.setReachedRightEnd=function(){this.stream.setReachedRightEnd()};v.prototype._initLitestandShareAttachments=function(){var a=b("DOMQuery").scry(this.root,"."+b("LitestandShareAttachment").getSimpleCropClass());a.forEach(function(a){return b("LitestandShareAttachment").init(a)})};v.prototype.page=function(a,c,d){__p&&__p();if(!this.stream.isValidMovement(a)||!this.stream.nonCircularPhotoSetCanPage(a)){this.showPagers(v.PAGER_FADE);return}var e=this.stream.getCursorAt(this.stream.calculatePositionForMovement(a));if(this.snowflake&&(this.stream.getCursor()==this.firstInSet&&a<0||this.firstInSet==e&&a>0)){this.showPagers(v.PAGER_FADE);return}this.lastPage=Date.now();this.unhiliteAllTags();this.startingMousePos=null;this.haveLeftBufferRegion=!1;this._seenTags={};this._navCount+=a;var f=this.stream.allLoaded?Math.abs(this._navCount)-this.stream.getLength():null;if(this._extraSlidePivot&&this._albumFBID){!this._albumBoundaries.end&&f===0?(this._albumBoundaries.end=this.stream.getCursor(),this._albumBoundaries.dir=a):f===-1&&b("PhotosetSearchPivotData").fetch(this._albumFBID,this.stream);if(!this.onExtraSlide)if(this.stream.getCursor()===this._albumBoundaries.end&&e===this._albumBoundaries.start&&a===this._albumBoundaries.dir){this.showPivotSlide(this._albumFBID,c);return}else this.stream.getCursor()===this._albumBoundaries.start&&e===this._albumBoundaries.end&&a===-this._albumBoundaries.dir&&this.showPivotSlide(this._albumFBID,c);else{this.hidePivotSlide();if(a===-this._albumBoundaries.dir)return}}e=this.getVideoOnStage();e&&this.switchVideo(e,!1);if(this.pivots&&this.pivots.page(a))return;b("Arbiter").inform("PhotoSnowlift.PAGE");b("Toggler").hide();this.recacheData();this.stream.moveCursor(a);this._viewable.hide();a!==0&&(this.storyID=null,this._updateContainerOwnerID());if(this.stream.errorInCurrent()){this.setLoadingState(v.STATE_HTML,!0);b("CSS").show(this.errorBox);return}this.movementDelta+=a;e=this.stream.getCurrentImageData();if(e){a=this.getImageURL(e);a?this._switchViewable(a,null,!0):e.video&&this.switchVideo(e.video,!0,d);e.info.ocmarkup?this.showObjectionableWarning(e.info.ocmarkup):this.hideObjectionableWarning();e.info.disablecontextmenu?this.disableContextMenu():this.enableContextMenu();c||(this.replaceUrl=!0,b("goURI")(e.info.permalink));this.setLoadingState(v.STATE_IMAGE_DATA,!1)}else this.setLoadingState(v.STATE_IMAGE_PIXELS,!0),this.setLoadingState(v.STATE_IMAGE_DATA,!0);this.stream.getCurrentHtml()?this.swapData():this.setLoadingState(v.STATE_HTML,!0);this.disableAds=!this.isLoggedInViewer||this.stream.isInViewAsMode();this.loadAds();this.setLeftAndRightPagersState();!this._extraSlidePivot&&this._showMorePhotos&&this._albumFBID&&(f===-1?b("PhotosetSearchPivotData").fetch(this._albumFBID,this.stream):f===0?(b("PhotoTagSearchPivotLogger").logSuggestMorePhotos(),this.showMorePhotos(this._albumFBID,!0),this.showPagers(),this._navCount=0):(this.hideMorePhotos(),this.hidePagers()));this._initLitestandShareAttachments()};v.prototype.showMorePhotos=function(a,c){if(this._showingMorePhotos)return;this._showingMorePhotos=!0;this.searchPivot||(this.searchPivot=this.overlay.appendChild(document.createElement("div")));b("CSS").addClass(this.stageWrapper,"_5ymv");this.searchPivotComponent=new(b("ReactComponentRenderer"))(b("PhotosetSearchPivot.react"),this.searchPivot);this.searchPivotComponent.setProps({className:"_27g",fbid:a,onclose:this.hideMorePhotos.bind(this),endofalbum:c||!1,withBackground:!0})};v.prototype.hideMorePhotos=function(){this.searchPivotComponent&&this._showingMorePhotos&&(this._showingMorePhotos=!1,b("CSS").removeClass(this.stageWrapper,"_5ymv"),this.searchPivotComponent.setProps({fbid:null}))};v.prototype.showPivotSlide=function(a,c){if(this.onExtraSlide)return;this.onExtraSlide=!0;b("CSS").addClass(this.stageWrapper,"_3tvf");this.pivotSlide||(this.pivotSlide=b("DOM").create("div"),b("DOM").insertBefore(this.stageActions,this.pivotSlide));this.pivotSlideComponent=new(b("ReactComponentRenderer"))(b("PhotosetPivotSlide.react"),this.pivotSlide);this.pivotSlideComponent.setProps({fbid:a,isAlbum:this._isAlbum,albumOwnerName:this._albumOwnerName,visible:!0,onReturn:this.page.bind(this,this._albumBoundaries.dir,c)})};v.prototype.hidePivotSlide=function(){this.pivotSlideComponent&&this.onExtraSlide&&(this.pivotSlideComponent.setProps({visible:!1}),b("CSS").removeClass(this.stageWrapper,"_3tvf")),this.onExtraSlide=!1};v.prototype.logImpressionDetailsForPhoto=function(){__p&&__p();var a=[].concat(b("DOM").scry(b("$")("fbPhotoSnowliftTagList"),"input.photoImpressionDetails"),b("DOM").scry(b("$")("fbPhotoSnowliftFeedback"),"input.photoImpressionDetails"));if(a.length===0)return;var c={};for(var d=0;d<a.length;d++)c[a[d].name]=a[d].value;if(this.getVideoOnStage())c.width=0,c.height=0;else{a=this._viewable.getNaturalDimensions();c.width=a.x;c.height=a.y}b("PhotoSessionLog").addDetailData(this.stream.getCursor(),c);b("PhotoSnowliftAds").setIsLogAdData(!0)};v.prototype.loadAds=function(){if(this.disableAds)return;b("PhotoSnowliftAds").loadAdsFromUserActivity()};v.prototype.transitionHandler=function(a){__p&&__p();if(a.getQueryData().closeTheater||a.getQueryData().permPage||this.returningToStart){this.isOpen&&this.close();this.transitionHandlerRegistered=!1;return!1}if(this.replaceUrl){this.replaceUrl=!1;this._uriStack.push(a.getQualifiedURI().toString());b("PageTransitions").transitionComplete(!0);return!0}var c=this._uriStack.length;c>=2&&this._uriStack[c-2]==a.getQualifiedURI().toString()&&this._uriStack.pop();c=this.stream.getCursorForURI(a.getUnqualifiedURI().toString());if(c){a=this.stream.getRelativeMovement(c);this.page(a,!0);b("PageTransitions").transitionComplete(!1);return!0}if(this.isOpen){b("PageTransitions").transitionComplete(!0);this.close();return!0}this.transitionHandlerRegistered=!1;return!1};v.prototype.recacheData=function(){if(!this.loadingStates.html){var a=this.stream.getCurrentHtml();for(var c in a){var d=b("$")(c);a[c]=Array.from(d.childNodes);b("DOM").empty(d)}}};v.prototype.reloadIfTimeout=function(){if(!b("ImageUtils").hasLoaded(this.image)){var a=this.makeNewImage(this.image.src,!0);b("Event").listen(a,"load",this.useImage.bind(this,a,null,!0));this._log(a.src)}};v.prototype._useViewable=function(a,c,d){__p&&__p();arguments.length<=3||arguments[3]===undefined?!1:arguments[3];if(d&&this._viewable.isReady())return;var e=function(){var d=this._viewable;this._viewable=a;b("DOM").replace(d.getElement(),a.getElement());this.setLoadingState(this.STATE_IMAGE_PIXELS,!1);this.adjustStageSize(c);setTimeout(function(){this.isOpen&&(this.adjustStageSize(),this.adjustForNewData())}.bind(this),0);d.suspend()}.bind(this);a.whenReady(e)};v.prototype.useImage=function(a,c,d){var e=arguments.length<=3||arguments[3]===undefined?!1:arguments[3];if(d&&b("ImageUtils").hasLoaded(this.image))return;var f=function(){b("DOM").replace(this.image,a),this.image=a,this.adjustStageSize(c)}.bind(this);!e||b("ImageUtils").hasLoaded(a)?f():b("Event").listen(a,"load",f)};v.prototype.makeNewImage=function(a,c){__p&&__p();this.imageLoadingTimer?(clearTimeout(this.imageLoadingTimer),this.imageLoadingTimer=null):c||(this.imageRefreshTimer=setTimeout(this.reloadIfTimeout.bind(this),v.LOADING_TIMEOUT));c=b("DOM").create("img",{className:"spotlight",alt:""});c.setAttribute("aria-describedby","fbPhotosSnowliftCaption");c.setAttribute("aria-busy","true");var d=function(){clearTimeout(this.imageRefreshTimer),this.image.setAttribute("aria-busy","false"),this.setLoadingState(this.STATE_IMAGE_PIXELS,!1),setTimeout(function(){this.isOpen&&(this.adjustStageSize(),this.adjustForNewData())}.bind(this),0)}.bind(this);b("Event").listen(c,"load",d);this._log(a);b("EncryptedImg").isEncrypted(a)?b("EncryptedImg").insertIntoDOM(a,c):c.src=a;return c};v.prototype._switchViewable=function(a,c,d){__p&&__p();var e=arguments.length<=3||arguments[3]===undefined?!1:arguments[3];b("CSS").hide(this.errorBox);e||this._viewable.hide();this.setLoadingState(this.STATE_IMAGE_PIXELS,!0);var f=this.stream&&this.stream.getCurrentImageData();if(f){b("PhotoSessionLog").addPhotoView(f.info,this.shouldShowHiRes(f),this.fullscreen&&b("FullScreen").isFullScreen());if(this._showHover){var g=this.stream.getCurrentExtraData();g&&b("PhotoTagSearchPivotLogger").logImageImpression("snowlift",String(this.stream.getCursor()),Object.keys(g.tagRects))}}var h=this._viewable.getElement().children[0],i;!1;this.isSpherical()&&this.sphericalPhotoData?i=f.info.fbid.toString()===this.sphericalPhotoData.fbid:i=h.src===a;if(!i){var j=b("PhotoSnowliftViewableUtils").fromStreamData(f,this);this.sphericalPhotoData=null;this.fullscreen&&b("FullScreen").isFullScreen()&&(j.onToggleIntoFullScreen(),j.onEnterFullScreen());this._log(a);this._useViewable(j,c,!1,e)}else h.setAttribute("alt",f.info.caption),h.setAttribute("aria-busy","true"),this.adjustStageSize(c),this._viewable.show(),this._log(a);d&&this.stream.preloadImages(this.shouldShowHiRes.bind(this));b("Arbiter").inform("PhotoSnowlift.SWITCH_IMAGE")};v.prototype._preloadNextVideo=function(){var a=this.stream.calculatePositionForMovement(1);a=this.stream.getCursorAt(a);a=this.stream.getImageData(a);a&&a.video&&a.controller&&a.controller.preload()};v.prototype._emptyVideoStage=function(){b("DOM").empty(this.videoStage)};v.prototype.switchVideo=function(a,c,d){__p&&__p();var e=this;this._pauseVideoIfNeeded();var f="swf_"+a;window.videoStage=this.videoStage;this._emptyVideoStage();if(c){var g,h,i,j;(function(){__p&&__p();e._preloadNextVideo();b("CSS").addClass(e.stageWrapper,"showVideo");g=e.stream.getCurrentImageData();e.shouldRenderVideoPivots&&(b("CSS").hide(e.nextPager),b("CSS").hide(e.prevPager));var k=void 0,l=void 0;e._abortVideoWhenSwitch=!0;if(g.useReactPlayer){k=b("DOM").create("div");var m=new(b("VideoData"))(g.videoData),n=g;n=n.PhotoSnowliftVideoNode;n&&!e.PhotoSnowliftVideoNode&&(e.PhotoSnowliftVideoNode=n);var o=n.getVideoNode(m.getVideoID());if(o)k=o.getVideoContainer(),e._videoPlayerStateManager=o.getVideoPlayerController(),o.updateDimension(g.width,g.height),g.keepReactVideoNodeLoaded&&(e._abortVideoWhenSwitch=!1);else{o=g.PhotoSnowliftVideo;b("ReactDOM").render(b("React").createElement(o,{width:g.width,height:g.height,videoData:m,ref:function(a){return l=a}}),k);e._videoPlayerStateManager=l.getVpc();n.destroyVideoNode()}}else k=g.video_element,b("DOM").scry(k,"._ox1")[0].style.cssText="",e._videoPlayerStateManager=g.controller;c=null;e.pivotsCarouselElement&&(c=b("DOMQuery").scry(e.pivotsCarouselElement,"._32_l"));c&&c.forEach(function(a){var c=a.getAttribute("data-fbid"),d=this.stream.getCursor();a=b("DOM").find(a,"._1pqn");c===d?b("CSS").show(a):b("CSS").hide(a)}.bind(e));b("CSS").addClass(k,"videoStageContainer");b("DOM").appendContent(e.videoStage,k);b("DOM").appendContent(e.videoStage,e.pivotsCarouselElement);e.videoContainer=k;window[f]&&!b("ge")(f)&&window[f].write(a);h="video_warning_"+a;i=b("ge")(a);e.videoWarnings||(e.videoWarnings=[]);i&&e.videoWarnings[h]&&b("DOM").setContent(i,e.videoWarnings[h]);g.abortedLoadingOtherVideos&&(e._preloadTimeout&&clearTimeout(e._preloadTimeout),e._preloadTimeout=setTimeout(function(){var a=this.stream.getPreviousImageData(),b=this.stream.getNextImageData();b&&b.controller&&b.controller.preload();a&&a.controller&&a.controller.preload()}.bind(e),t));g.useReactPlayer||e._videoPlayerStateManager.reset();e._videoPlayerStateManager.collectFeedTrackingData();e._videoPlayerStateManager.hasOption("PhotoSnowlift","isInSnowlift")||e._videoPlayerStateManager.registerOption("PhotoSnowlift","isInSnowlift",function(){return!0});e._videoPlayerStateManager.emit("PhotoSnowlift/enterSnowlift");e._autoplayVideos&&(j=d||b("VideoPlayerReason").USER,e._videoPlayerStateManager.play(j));e._autoplayNextVideo&&e._videoPlayerStateManager.addListener("finishPlayback",function(){var a=g.info.fbid.toString();if(this.haltAutoplay&&a!==this.stream.fbidList[this.stream.fbidList.length-1]){if(this.autoplayOptionScreenConfig){a=this.autoplayOptionScreenConfig.controller;a.registerCallbacks(k,this.chooseToReplayVideo.bind(this,this._videoPlayerStateManager),this.handleAutoplay.bind(this,g))}}else this.handleAutoplay(g)}.bind(e));setTimeout(e.adjustStageSizeForVideo.bind(e,a),0)})()}else window[f]&&window[f].addVariable("video_autoplay",0),this.videoLoadTimer&&clearTimeout(this.videoLoadTimer),b("CSS").removeClass(this.stageWrapper,"showVideo")};v.prototype.removeAutoplayOptionScreen=function(){this.autoplayOptionScreenConfig&&this.autoplayOptionScreenConfig.controller.removeSelf()};v.prototype.chooseToReplayVideo=function(a){a.play(b("VideoPlayerReason").USER),this.removeAutoplayOptionScreen(),this.haltAutoplay=!1};v.prototype.handleAutoplay=function(a){a=a.info.fbid.toString();a===this.stream.getCursor()&&a!==this.stream.fbidList[this.stream.fbidList.length-1]&&(b("SnowliftVideoPivotsCarouselController").adjustCarouselOnAutoPlay(),this.page(1,!1,b("VideoPlayerReason").AUTOPLAY));this.removeAutoplayOptionScreen();this.haltAutoplay=!1};v.prototype.checkVideoStatus=function(a){this.videoLoadTimer&&clearTimeout(this.videoLoadTimer);var b=this.getVideoOnStage();if(!b)return;else{if(b!==a)return;this.adjustStageSizeForVideo(a)}};v.prototype.getVideoSize=function(a){a=new(b("Vector"))(a.getAttribute("data-video-width"),+a.getAttribute("data-video-height")+this.getVideoComponentsHeight(a));if(this._videoPlayerStateManager&&this._videoPlayerStateManager.isSpherical&&this._videoPlayerStateManager.isSpherical()){var c=b("Vector").getViewportDimensions(),d=c.x;c=c.x/2;return new(b("Vector"))(d,c)}else return a};v.prototype.getVideoElement=function(a){return b("DOM").scry(this.videoStage,"._ox1")[0]};v.prototype.getVideoComponentsHeight=function(a){__p&&__p();var c=0;a=b("Parent").bySelector(a,"._1c_u");if(!a)return 0;a=b("DOM").scry(a,"._2i84");if(a.length){a=a[0].getBoundingClientRect();c=a.bottom-a.top}return c};v.prototype.adjustStageSizeForVideo=function(a){var b=this.getVideoElement(a);!b?this.videoLoadTimer=setTimeout(this.checkVideoStatus.bind(this,a),200):this.adjustStageSize(this.getVideoSize(b))};v.prototype.handleServerError=function(a,c){b("DOM").setContent(this.errorBox,a),this.storeFromData(c)};v.prototype.fixButtonText=function(a){__p&&__p();if(!this.buttonTruncateGk)return;var c=b("DOM").scry(a,".photosTruncatingUIButton");a=parseInt(b("Style").get(a,"width"),10);if(a>r){a={tagPhoto:i._("G\u1eafn th\u1ebb \u1ea3nh"),doneTagPhoto:i._("G\u1eafn th\u1ebb xong"),productTagPhoto:i._("G\u1eafn th\u1ebb s\u1ea3n ph\u1ea9m"),doneProductTagPhoto:i._("G\u1eafn th\u1ebb xong"),addLocation:i._("Th\u00eam v\u1ecb tr\u00ed"),editPhoto:i._("Ch\u1ec9nh s\u1eeda")};for(var d=0;d<c.length;d++){var e=c[d];b("CSS").addClass(e,"_2n0k");b("Tooltip").set(e,a[e.getAttribute("data-buttonname")],"below","center")}}};v.prototype.swapData=function(){__p&&__p();var a=this.stream.getCurrentHtml();if(a){this.setLoadingState(v.STATE_HTML,!1);for(var c in a){var d=b("ge")(c);d&&b("DOM").setContent(d,a[c])}d=b("ge")("photosTruncatingUIButtonGroup");d&&this.fixButtonText(d);b("Arbiter").inform("PhotoSnowlift.DATA_CHANGE",Object.assign(this.stream.getCurrentImageData().info,{movement:this.movementDelta,isSpherical:this.isSpherical()}),b("Arbiter").BEHAVIOR_STATE);this.movementDelta=0;this.stream.getCurrentExtraData()&&b("Arbiter").inform("PhotoSnowlift.EXTRA_DATA_CHANGE",this.stream.getCurrentExtraData(),b("Arbiter").BEHAVIOR_STATE)}this.adjustScroller();this.scrollableArea.showScrollbar({hideAfterDelay:!0});this.adjustForNewData();this.logImpressionDetailsForPhoto()};v.prototype.updateTotalCount=function(a,c,d){__p&&__p();var e=this.stream.getCurrentHtml();if(e){var f=b("$")("fbPhotoSnowliftPositionAndCount");b("DOM").replace(f,d);f=d;b("CSS").show(f);d="fbPhotoSnowliftPositionAndCount";e[d]=Array.from(f.childNodes)}this.stream.setTotalCount(a);this.stream.setFirstCursorIndex(c)};v.prototype.addPhotoFbids=function(a,b,c,d){__p&&__p();if(d&&this.sessionID&&d!=this.sessionID)return;d=this.stream.getCursor()===null;this.shouldRenderVideoPivots&&!this._videoSameAsSource&&(this.stream.fbidList=[]);this.stream.attachToFbidsList(a,b,c);c&&d&&this.page(0,!0);this.pivots&&c&&this.pivots.setCycleCount(this.stream.calculateDistance(this.stream.getCursor(),this.stream.firstCursor));!this.pagersShown&&this.stream.canPage()&&this.setStagePagersState("ready");this.setLeftAndRightPagersState();if(this.shouldRenderVideoPivots&&!this._videoSameAsSource){a=this.stream.getCursor();b=this.stream.calculateDistance(a,this._mediaFBID);this.stream.moveCursor(b)}};v.prototype.attachTagger=function(a,c,d){b("DOM").appendContent(this.stageActions,a),c&&c.setTokenarea(this.taglist),d&&b("DOM").appendContent(b("DOM").find(a,"div.faceBox"),d)};v.prototype.setAuthorName=function(a,c){__p&&__p();var d=b("Parent").bySelector(c,".rhc");if(d){this.previousAuthorName=this.currentAuthorName;this.currentAuthorName=a;if(this._navHistory.length>1&&this.previousAuthorName){d=this._navHistory[this._navHistory.length-2];this.backButton=b("ReactDOM").render(b("React").createElement(b("PhotoSnowliftBackLink.react"),{href:d,name:this.previousAuthorName,visible:!0}),c)}else this.backButton=b("ReactDOM").render(b("React").createElement(b("PhotoSnowliftBackLink.react"),{visible:!1}),c)}};v.prototype.storeFromData=function(a){__p&&__p();if(!this.isOpen)return;a.pivots&&(this.pivotsCarouselElement=a.pivots);a.autoplay_option_screen_config&&(this.autoplayOptionScreenConfig=a.autoplay_option_screen_config,this.autoplayOptionScreenConfig&&this.autoplayOptionScreenConfig.enabled&&this.addHaltAutoplaySubscription());this.shouldRenderVideoPivots=a.should_render_pivots;if(a.ssid&&this.sessionID&&this.sessionID!=a.ssid)return;var c=this.stream.storeToCache(a);if("error"in c){this.checkState(v.STATE_ERROR);return}"init"in a?(this.shouldRenderVideoPivots&&(this._videoSameAsSource=a.init.videoSameAsSource),this._mediaFBID=a.init.fbid,this._albumFBID=a.init.album_fbid,this._isAlbum=a.init.is_album,this._albumOwnerName=a.init.album_owner_name,this._autoplayVideos=a.init.autoplay_videos,this._autoplayNextVideo=a.init.autoplay_next_video,this._referrerProfileID=a.init.referrer_profile_id):this._preloadNextVideo();a="init"in c;a&&(this.initialDataFetched(c.init),this.openExplicitly&&(this.replaceUrl=!0,b("goURI")(this.stream.getCurrentImageData().info.permalink)),this.stream.canPage()&&this.setStagePagersState("ready"),this.setLeftAndRightPagersState());"image"in c&&this.checkState(v.STATE_IMAGE_DATA,a);"data"in c&&this.checkState(v.STATE_HTML)};v.prototype.setLeftAndRightPagersState=function(){this.stream.isNonCircularPhotoSet()&&(b("CSS").conditionClass(this.root,"disableLeft",!this.stream.nonCircularPhotoSetCanPage(-1)),b("CSS").conditionClass(this.root,"disableRight",!this.stream.nonCircularPhotoSetCanPage(1)));if(this.snowflake){b("CSS").conditionClass(this.root,"disableLeft",this.stream.getCursor()==this.firstInSet);var a=this.stream.getCursorAt(this.stream.calculatePositionForMovement(1));b("CSS").conditionClass(this.root,"disableRight",a==this.firstInSet)}};v.prototype.setStagePagersActivated=function(a){b("CSS").hasClass(this.root,"pagingActivated")!==a&&b("CSS").conditionClass(this.root,"pagingActivated",a)};v.prototype.setStagePagersState=function(a){switch(a){case"ready":b("CSS").addClass(this.root,"pagingReady");this.pagersShown=!0;return;case"disabled":case"reset":b("CSS").removeClass(this.root,"pagingReady");return}};v.prototype.deletePhoto=function(a){this.closeRefresh()};v.prototype.closeRefresh=function(){this.refreshOnClose=!0,this.spotlight.hide()};v.prototype.onHiliteTag=function(a,c){if(c.version!=b("PhotosConst").VIEWER_SNOWLIFT)return;a=c.tag;a&&this.switchHilitedTags(a,!0)};v.prototype.onUpdateTagBox=function(a,c){c.version==b("PhotosConst").VIEWER_SNOWLIFT&&this.updateTagBox(c.id,c.approve)};v.prototype.isSpherical=function(){var a=this.stream.getCurrentImageData();return Boolean(a&&a.spherical)||this.thumbSpherical};v.prototype._log=function(a){if(this._shouldLog){this._logger&&this._logger.log(a.startsWith("data:")?b("EncryptedImg").dataUrlPrefix(a):a,String(this.stream.getCursor()),this.getViewerSource(),this._referrerProfileID);return!0}return!1};v.prototype._enableMouseOver=function(){this._disableMouseOver=!1};v.prototype._interceptMouseOver=function(event){this._disableMouseOver&&event.kill()};v.prototype.isReturningToStart=function(){return!!this.returningToStart};v.prototype._pauseVideoIfNeeded=function(){this._videoPlayerStateManager&&(this._videoPlayerStateManager.pause("unloaded"),b("VideoPlayerAbortLoadingExperiment").canAbort&&this._abortVideoWhenSwitch&&this._videoPlayerStateManager.abortLoading(),this._videoPlayerStateManager.hasOption("PhotoSnowlift","isInSnowlift")&&this._videoPlayerStateManager.unregisterOption("PhotoSnowlift","isInSnowlift"),this._videoPlayerStateManager.emit("PhotoSnowlift/exitSnowlift"))};v.prototype._destroyVideoIfNeeded=function(){this._videoPlayerStateManager&&b("SnowliftDestroyVideoPlayerExperiment").destroyVideoOnExit&&this._videoPlayerStateManager.destroy()};v.prototype.setIsLiveBroadcast=function(){this._isLiveBroadcast=!0};v.prototype.registerLiveInputBar=function(a){this._liveInputBar=a};v.prototype.setActionsMenuState=function(a){this._actionMenuOpen=a,a||this.hidePagers()};v.prototype.registerActionsMenu=function(a){this._actionsMenuSubscriptionsHandler=new(b("SubscriptionsHandler"))(),this._actionsMenuSubscriptionsHandler.addSubscriptions(a.getPopover().subscribe("show",function(){return this.setActionsMenuState(!0)}.bind(this)),a.getPopover().subscribe("hide",function(){return this.setActionsMenuState(!1)}.bind(this)))};v.getInstance=function(){v._instance||(v._instance=new v());return v._instance};v.initWithSpotlight=function(a,b){v.getInstance().init(a,b)};v.addPhotoFbids=function(a,b,c,d){v.getInstance().addPhotoFbids(a,b,c,d)};v.registerActionsMenu=function(a){var b=v.getInstance();b||j(0);b.registerActionsMenu(a)};v.registerLiveInputBar=function(a){v.getInstance().registerLiveInputBar(a)};v.setIsLiveBroadcast=function(){v.getInstance().setIsLiveBroadcast()};v.setReachedLeftEnd=function(){v.getInstance().setReachedLeftEnd()};v.setReachedRightEnd=function(){v.getInstance().setReachedRightEnd()};v.attachFollowFlyout=function(a){b("DOM").insertAfter(b("$")("fbPhotoSnowliftSubscribe"),a)};v.attachSubscribeFlyout=function(a){b("DOM").insertAfter(b("$")("fbPhotoSnowliftSubscribe"),a)};v.attachTagger=function(a,b,c){v.getInstance().attachTagger(a,b,c)};v.bootstrap=function(a,c){var d=String(b("URI").getMostRecentURI().getQueryData().viewas),e=new(b("URI"))(a).getQueryData();if(!b("PhotoSnowliftLoader").shouldUseSnowlift(e,a,c,d))return;b("FunnelLogger").startFunnel(m);c!=null&&b("Parent").bySelector(c,"._18ia")!=null&&b("FunnelLogger").addFunnelTag(m,"via_search_media_module");v.getInstance().bootstrap(a,c)};v.closeRefresh=function(){v.getInstance().closeRefresh()};v.deletePhoto=function(a){v.getInstance().deletePhoto(a)};v.getImage=function(){return v.getInstance().getImage()};v.getImageId=function(){return v.getInstance().getImageId()};v.getLoadQuery=function(){return v.getInstance().getLoadQuery()};v.getRHCBody=function(){return v.getInstance().getRHCBody()};v.getRHCFooter=function(){return v.getInstance().getRHCFooter()};v.getRHCHeader=function(){return v.getInstance().getRHCHeader()};v.getRoot=function(){return v.getInstance().getRoot()};v.saveTagsFromPayload=function(a){v.getInstance().saveTagsFromPayload(a)};v.saveTagsFromPayloadDelayed=function(a){setTimeout(v.saveTagsFromPayload.bind(null,a),2e3)};v.handleServerError=function(a,b){v.getInstance().handleServerError(a,b)};v.setAuthorName=function(a,b){v.getInstance().setAuthorName(a,b)};v.storeFromData=function(a){v.getInstance().storeFromData(a)};v.swapData=function(){v.getInstance().swapData()};v.updateTotalCount=function(a,b,c){v.getInstance().updateTotalCount(a,b,c)};v.setVideoRotateURI=function(a){v.getInstance().videoRotateURI=a};Object.assign(v,{STATE_ERROR:"error",STATE_HTML:"html",STATE_IMAGE_PIXELS:"image_pixels",STATE_IMAGE_DATA:"image",LOADING_TIMEOUT:2e3,PAGER_FADE:3e3,FULL_SCREEN_PADDING:10,STAGE_NORMAL_MAX:b("PhotoSnowliftLoader").STAGE_NORMAL_MAX,STAGE_MIN:{x:520,y:520},PROFILE_PICTURE_BUTTON_WIDTH:140,SIDEBAR_SIZE_MAX:b("PhotoSnowliftLoader").SIDEBAR_SIZE_MAX,STAGE_CHROME:b("PhotoSnowliftLoader").STAGE_CHROME,VIDEO_BOTTOM_BAR_SPACE:50,GOPREV_AREA:120,TIMELINE_STRETCH_WIDTH:843,TIMELINE_STRETCH_MIN:480,MIN_TAG_DISTANCE:83,PADDING_MIN:40,MIN_UFI_HEIGHT:250,COLLECTIONS_UNTAGGED_PHOTOS:3,PHOTOS_OF_YOU_SUGGESTIONS:28,FRIENDS_IN_PHOTOS_SUGGESTIONS:31,MIN_ADS_VISIBLE:1,PINNED_UFI_ADJUSTMENT:11,ADD_COMMENT_HEIGHT:54,_instance:null,touch:b("emptyFunction"),touchMarkup:b("emptyFunction")});e.exports=v}),null);
__d("PlacesSearchClickTypeEnums.react",[],(function(a,b,c,d,e,f){e.exports={SAVED:"place_saved",SAVE:"place_save",FILTERS:"place_filters",FRIEND_CONTEXT:"place_friend_context",LIKE:"like",MESSAGE:"message",CATEGORY:"place_category",NAME:"place_name",RATING_COUNT:"place_rating_count",MORE_PHOTOS:"place_more_photos",PHOTOS:"place_photos",MAP_SEARCH_BUTTON:"place_map_search_button",MAP:"place_map",ORDER:"place_order",SPOTLIGHT_SNIPPET:"spotlight_snippet",PAGE_CTA:"page_cta"}}),null);
__d("BrowseAsyncPagingType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SCROLL:"scroll",PAGINATE:"paginate"})}),null);
__d("XBrowseQueryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/search/{*bqf}/",{q:{type:"String"},bqf:{type:"String"},searchtype:{type:"Enum",enumType:1},page:{type:"Int"},ref:{type:"String"},topicID:{type:"Int"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"},source:{type:"String"}})}),null);
__d("PlacesSearchNoResultsEntityCard.react",["cx","fbt","Base64","Image.react","ImageBlock.react","InlineBlock.react","React","XBrowseQueryController","XUIButton.react","XUICard.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j="empty_result_suggestion_link";i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){var a=null;if(this.props.enableTopTabLink){var c=this.props.typeaheadSid!==null?b("Base64").encodeObject({sid:this.props.typeaheadSid,ref:j}):j;c=b("XBrowseQueryController").getURIBuilder().setString("bqf","top").setString("ref",c).setString("q",this.props.searchText).getURI();a=b("React").createElement(b("XUICard.react"),{className:"_66-7"},b("React").createElement(b("XUIText.react"),{size:"header4",className:"_1muu"},h._("T\u00ecm ki\u1ebfm {query_text} tr\u00ean Facebook",[h._param("query_text",b("React").createElement("strong",null,this.props.searchText))])),b("React").createElement(b("XUIButton.react"),{label:"Search",href:c,size:"large"}))}return b("React").createElement("div",null,b("React").createElement(b("XUICard.react"),{className:"_52ju _2pia _2pi3 _3-95"},b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},b("React").createElement(b("Image.react"),{width:100,height:100,className:"_43zr",src:"/images/browse/no-results-general.png"}),b("React").createElement(b("InlineBlock.react"),{alignv:"middle",height:100,className:"_52ju _58lj _2pi8"},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"normal",display:"block"},h._("Ch\u00fang t\u00f4i kh\u00f4ng th\u1ec3 t\u00ecm th\u1ea5y b\u1ea5t c\u1ee9 k\u1ebft qu\u1ea3 n\u00e0o cho {query_text}",[h._param("query_text",b("React").createElement(b("XUIText.react"),{size:"header4",weight:"bold"},this.props.searchText))])),b("React").createElement(b("XUIText.react"),{size:"meta1",weight:"normal",display:"block",className:"_43zq"},h._("B\u1ea1n \u0111ang t\u00ecm ki\u1ebfm ng\u01b0\u1eddi ho\u1eb7c b\u00e0i vi\u1ebft? H\u00e3y th\u1eed nh\u1eadp t\u00ean, v\u1ecb tr\u00ed ho\u1eb7c c\u00e1c t\u1eeb kh\u00e1c nhau."))))),a)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PlacesSearchResultDispatcher",["ExplicitRegistrationReactDispatcher"],(function(a,b,c,d,e,f){"use strict";var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a)}e.exports=new a({strict:!0})}),null);
__d("PlacesSearchResultActionTypes",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=b("keyMirror")({UPDATE_FILTERS:null,UPDATE_MAP:null,UPDATE_MAP_PIN:null,RESET_MAP_PIN:null});e.exports=a}),null);
__d("PlacesSearchResultMapStore",["FluxReduceStore","immutable","PlacesSearchResultActionTypes","PlacesSearchResultDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;c={places_result:null,pin_number:-1};g=babelHelpers.inherits(i,b("immutable").Record(c));g&&g.prototype;function i(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new i()};a.prototype.reduce=function(a,c){switch(c.type){case b("PlacesSearchResultActionTypes").UPDATE_MAP:return a.set("places_result",c.payload);case b("PlacesSearchResultActionTypes").UPDATE_MAP_PIN:return a.set("pin_number",c.payload);case b("PlacesSearchResultActionTypes").RESET_MAP_PIN:return a.set("pin_number",-1);default:return a}};a.prototype.getPlacesResult=function(){return this.getState().get("places_result")};a.prototype.getPinNumber=function(){return Number(this.getState().get("pin_number"))};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PlacesSearchResultDispatcher"))}),null);
__d("PlacesSearchResultUpdateMapAction",["PlacesSearchResultActionTypes","PlacesSearchResultDispatcher"],(function(a,b,c,d,e,f){"use strict";a={updateMap:function(a){b("PlacesSearchResultDispatcher").dispatch({type:b("PlacesSearchResultActionTypes").UPDATE_MAP,payload:a})},updatePinNumber:function(a){b("PlacesSearchResultDispatcher").dispatch({type:b("PlacesSearchResultActionTypes").UPDATE_MAP_PIN,payload:a})},resetPinNumber:function(){b("PlacesSearchResultDispatcher").dispatch({type:b("PlacesSearchResultActionTypes").RESET_MAP_PIN,payload:null})}};e.exports=a}),null);
__d("PlacesSearchSessionLogger",["BanzaiLogger","collectDataAttributes","pageID"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="PlacesSearchSessionLoggerConfig";function h(a){a=b("collectDataAttributes")(a,["et"]);return!a.et||!a.et.click_point?!1:a.et}var i={logTarget:function(a,c){a={event:"click",session_id:b("pageID"),target:a,target_data:c};b("BanzaiLogger").log(g,a)},logEvent:function(a,c){a={event:a,session_id:b("pageID"),target_data:c};b("BanzaiLogger").log(g,a)},handleEvent:function(event){var a=event.target||event.srcElement;a=h(a);a!==!1&&i.logTarget(a.click_point,a.data)}};e.exports=i}),null);
__d("XAsyncPlacesSearchResultsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/browse/async/places/",{query:{type:"String"},original_query:{type:"String"},cursor:{type:"String"},strip_filters:{type:"Bool",defaultValue:!0},filters:{type:"StringVector"},page:{type:"Int"},bounds:{type:"String"},applied_rp_filters:{type:"String"},applied_instant_filters:{type:"String"}})}),null);
__d("XTopChartsRootPageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/places/",{city_query:{type:"String"}})}),null);
__d("PlacesSearchResultList.react",["cx","fbt","AsyncRequest","BrowseAsyncPagingType","BrowsePlacesPerfTypedLogger","DOMContainer.react","FBMorePager.react","Link.react","List.react","PageTransitions","PlacesSearchEntityCard.react","PlacesSearchNoResultsEntityCard.react","PlacesSearchResultDispatcher","PlacesSearchResultMapStore","PlacesSearchResultUpdateMapAction","PlacesSearchSessionLogger","React","URI","XAsyncPlacesSearchResultsController","XTopChartsRootPageController","XUICard.react","XUISpinner.react","XUIText.react","getViewportDimensions"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=Math.ceil(b("getViewportDimensions")().height/2);c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.state={pagingOptions:a.pagingOptions,isLoading:!1,contextLoadingStatusMap:this.$5(a.results),hasNextPage:!0,results:a.results},this.$2=0,this.$3=Date.now()/1e3,this.$4=this.$5(a.results)}a.prototype.UNSAFE_componentWillMount=function(){b("PlacesSearchResultDispatcher").explicitlyRegisterStores([b("PlacesSearchResultMapStore")])};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.$1&&this.$1.abandon(),this.setState({pagingOptions:a.pagingOptions,isLoading:!1,hasNextPage:a.hasNextPage,results:a.results})};a.prototype.render=function(){__p&&__p();if(this.props.overrideResultsWithLoader){this.$2=0;return b("React").createElement("div",{className:"_2to_"},b("React").createElement(b("XUISpinner.react"),{size:"large"}))}else if(Object.keys(this.state.results).length===0){var a=null;this.props.dymLink!=null&&(a=b("React").createElement(b("DOMContainer.react"),null,this.props.dymLink));return b("React").createElement("div",null,a,b("React").createElement(b("PlacesSearchNoResultsEntityCard.react"),{typeaheadSid:this.props.extra.typeaheadSid,searchText:this.props.extra.queryTitle,enableTopTabLink:this.props.extra.enableTopTabLink}))}a=null;this.state.hasNextPage?!this.state.isLoading?a=b("React").createElement("li",null,this.$6()):this.state.isLoading&&(a=b("React").createElement("div",{className:"_33_n"},b("React").createElement(b("XUISpinner.react"),{size:"large"}))):a=b("React").createElement("div",{className:"_4s4i"},b("React").createElement("hr",{className:"_kt"}),b("React").createElement("div",{className:"_24j"},b("React").createElement("div",{className:"_64f _1zun"},h._("Cu\u1ed1i k\u1ebft qu\u1ea3 t\u00ecm ki\u1ebfm"))));var c=JSON.stringify({section:"main_column"}),d=null;this.props.extra.queryTitle&&(!this.props.useNewDesign||!this.props.loggedIn)&&(d=this.getHeader());var e=null;this.props.dymLink!=null&&(e=b("React").createElement(b("DOMContainer.react"),null,this.props.dymLink));return b("React").createElement("div",null,e,this.$7(),d,b("React").createElement(b("List.react"),{border:"none","data-bt":c},this.$8(),a))};a.prototype.getHeader=function(){var a=b("XTopChartsRootPageController").getURIBuilder().getURI(),c=null,d=[];this.props.cityInfo&&(d=[b("React").createElement(b("Link.react"),{key:"placesLink",href:a,rel:"noopener noreferrer",target:"_blank"},h._("\u0110\u1ecba \u0111i\u1ec3m")),b("React").createElement("span",{key:"separator1"},"\xa0\u203a\xa0"),b("React").createElement(b("Link.react"),{key:"cityLink",href:this.props.cityInfo.basicInfo.url,rel:"noopener noreferrer",target:"_blank"},h._("{cityName}",[h._param("cityName",this.props.cityInfo.basicInfo.name)]))]);a=this.props.extra.parentCategoryInfo;a&&(d.push(b("React").createElement("span",{key:"separator2"},"\xa0\u203a\xa0")),d.push(b("React").createElement(b("Link.react"),{key:"parentCategoryLink",href:a.url,rel:"noopener noreferrer",target:"_blank"},h._("{categoryName}",[h._param("categoryName",a.name)]))));a=this.props.extra.categoryInfo;a&&(d.push(b("React").createElement("span",{key:"separator3"},"\xa0\u203a\xa0")),this.props.extra.backUrl?d.push(b("React").createElement(b("Link.react"),{key:"categoryLink",href:this.props.extra.backUrl,rel:"noopener noreferrer",target:"_blank"},a.name)):d.push(b("React").createElement("span",{key:"categoryName"},a.name)));this.props.extra.demographicBreadcrumb&&(d.push(b("React").createElement("span",{key:"separator4"},"\xa0\u203a\xa0")),d.push(b("React").createElement("span",{key:"demographicName"},this.props.extra.demographicBreadcrumb)));d&&(c=b("React").createElement("div",{className:"_51w8"},d));return b("React").createElement(b("XUICard.react"),{className:"_3qmp"},b("React").createElement("div",{className:"_51w9"},b("React").createElement("h1",null,b("React").createElement(b("XUIText.react"),{size:"xlarge_DEPRECATED",weight:"bold"},this.props.extra.queryTitle)),c))};a.prototype.$9=function(){var a=this.state.pagingOptions.page||1,c=Math.max(1,a-1),d=new(b("URI"))(this.props.uriPath).setQueryData({page:c}),e=h._("Tr\u01b0\u1edbc");e=b("React").createElement("span",null,"< ",e);c=c===a;c||(e=b("React").createElement(b("Link.react"),{key:"prevpagebutton",className:"_32-o",href:d,onClick:function(a){return this.$10(a,d)}.bind(this)},e));a="_32-p _32-q"+(c?" _32-r":"");return b("React").createElement("div",{className:a},e)};a.prototype.$11=function(){var a=this.state.pagingOptions.page||1,c=this.state.pagingOptions.maxpage,d=Math.min(a+1,c),e=new(b("URI"))(this.props.uriPath).setQueryData({page:d});d=h._("Ti\u1ebfp");d=b("React").createElement("span",null,d," >");c=c===a;c||(d=b("React").createElement(b("Link.react"),{key:"nextpagebutton",className:"_32-o",href:e,onClick:function(a){return this.$10(a,e)}.bind(this)},d));a="_32-s _32-q"+(c?" _32-r":"");return b("React").createElement("div",{className:a},d)};a.prototype.$6=function(){__p&&__p();var a=this;if(this.state.pagingOptions.page&&this.state.pagingOptions.type===b("BrowseAsyncPagingType").PAGINATE){var c=this.state.pagingOptions.page,d=this.state.pagingOptions.maxpage;if(c===1&&d===1)return b("React").createElement("div",null);var e=[],f=function(d){d=d;var f=new(b("URI"))(a.props.uriPath).setQueryData({page:d}),g=b("React").createElement("span",null,d),h=d===c;h||(g=b("React").createElement(b("Link.react"),{key:"pagebuttonlink"+d,className:"_32-o",href:f,onClick:function(a){return this.$10(a,f)}.bind(a)},g));h="_32-q"+(h?" _32-y":"");e.push(b("React").createElement("div",{key:"pagebutton"+d,className:h},g))};for(var g=1;g<=d;g++)f(g);return b("React").createElement("div",{className:"_32-z"},b("React").createElement(b("XUICard.react"),{className:"_32--"},this.$9(),e,this.$11()))}else if(this.state.hasNextPage)return b("React").createElement(b("FBMorePager.react"),{buffer:j,onMore:function(){return this.$12()}.bind(this)},b("React").createElement("div",null));else return b("React").createElement("div",null)};a.prototype.$10=function(a,c){a.preventDefault(),b("PageTransitions").go(c)};a.prototype.$12=function(){__p&&__p();!this.state.isLoading&&this.state.hasNextPage&&this.setState({isLoading:!0},function(){__p&&__p();var a=b("XAsyncPlacesSearchResultsController").getURIBuilder().getURI();this.$1=new(b("AsyncRequest"))(a).setData({query:this.props.query,original_query:this.props.originalQuery,applied_rp_filters:this.props.extra.appliedRPFilters,applied_instant_filters:this.props.extra.appliedInstantFilters,cursor:this.state.pagingOptions.cursor}).setAbortHandler(function(){this.setState({isLoading:!1})}.bind(this)).setHandler(function(a){a=a.getPayload();this.$1=null;var c=a.hasNextPage;a.results&&a.results.length===0?(this.$2++,this.$2>2&&(c=!1),a.results={}):this.$2=0;this.setState({pagingOptions:a.pagingOptions,isLoading:!1,contextLoadingStatusMap:Object.assign(this.state.contextLoadingStatusMap,this.$5(a.results)),results:Object.assign(this.state.results,a.results),hasNextPage:c});this.props.useNewDesign&&b("PlacesSearchResultUpdateMapAction").updateMap(this.state.results)}.bind(this));b("PlacesSearchSessionLogger").logEvent("loadmore_request",JSON.stringify({city_id:this.props.cityID,query:this.props.query}));this.$1.send()}.bind(this))};a.prototype.$7=function(){return!this.props.isConvertedSetSearch||!this.props.useNewDesign?null:b("React").createElement(b("XUICard.react"),{className:"_2ys6"},h._("Hi\u1ec3n th\u1ecb k\u1ebft qu\u1ea3 cho")," ","\xa0",b("React").createElement("span",{className:"_2ys7"},this.props.extra.queryTitle))};a.prototype.$13=function(a){this.props.useNewDesign&&b("PlacesSearchResultUpdateMapAction").updatePinNumber(a)};a.prototype.$8=function(){return Object.keys(this.state.results).map(function(a,c){var d=this.$14(a,c);return b("React").createElement("li",{id:a+"anchor"+c,"data-bt":d,key:c,onMouseOver:function(){return this.$13(c)}.bind(this)},b("React").createElement(b("PlacesSearchEntityCard.react"),{placeInfo:this.state.results[a],placeID:a,isLoggedIn:this.props.loggedIn,isContextLoading:this.state.contextLoadingStatusMap[a],loadedCallback:function(a,b){return this.$15(a,b)}.bind(this),pinIndex:c,useNewDesign:this.props.useNewDesign,savedListsGk:this.props.savedListsGk,query:this.props.query}))}.bind(this))};a.prototype.$14=function(a,b){return JSON.stringify({id:Number(a),rank:b})};a.prototype.$5=function(a){var b={};a=Object.keys(a);for(var c=0;c<a.length;c++){var d=a[c];b[d]=!0}return b};a.prototype.$15=function(a,c){this.$4[a]=!1;for(var d in this.$4)if(this.$4[d])return;a=Date.now()/1e3;new(b("BrowsePlacesPerfTypedLogger"))().setMethodName(c).setExecutionTimeSecs(a-this.$3).log()};a.defaultProps={overrideResultsWithLoader:!1,page:1};e.exports=a}),null);
__d("PlacesSearchNetworkErrorEntityCard.react",["cx","fbt","Image.react","ImageBlock.react","InlineBlock.react","React","XUICard.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement("div",null,b("React").createElement(b("XUICard.react"),{className:"_52ju _2pia _2pi3 _3-95"},b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},b("React").createElement(b("Image.react"),{width:100,height:100,className:"_43zr",src:"/images/browse/no-results-general.png"}),b("React").createElement(b("InlineBlock.react"),{alignv:"middle",height:100,className:"_52ju _58lj _2pi8"},b("React").createElement(b("XUIText.react"),{size:"header4",weight:"normal",display:"block"},h._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i v\u00e0 ch\u00fang t\u00f4i kh\u00f4ng th\u1ec3 t\u00ecm \u0111\u01b0\u1ee3c k\u1ebft qu\u1ea3 n\u00e0o")),b("React").createElement(b("XUIText.react"),{size:"meta1",weight:"normal",display:"block",className:"_43zq"},h._("Kh\u00e1m ph\u00e1 c\u00e1c \u0111\u1ecba \u0111i\u1ec3m kh\u00e1c b\u1eb1ng b\u1ed9 l\u1ecdc"))))))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PlacesSearchResultFiltersAction",["PlacesSearchResultActionTypes","PlacesSearchResultDispatcher"],(function(a,b,c,d,e,f){"use strict";a={updateFilters:function(a,c){b("PlacesSearchResultDispatcher").dispatch({type:b("PlacesSearchResultActionTypes").UPDATE_FILTERS,payload:{filters:a,appliedFilterValues:c}})}};e.exports=a}),null);
__d("PlacesSearchResultFiltersStore",["FluxReduceStore","immutable","PlacesSearchResultActionTypes","PlacesSearchResultDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;c={filters:{},appliedFilterValues:[]};g=babelHelpers.inherits(i,b("immutable").Record(c));g&&g.prototype;function i(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new i()};a.prototype.reduce=function(a,c){switch(c.type){case b("PlacesSearchResultActionTypes").UPDATE_FILTERS:return a.set("filters",c.payload.filters).set("appliedFilterValues",c.payload.appliedFilterValues);default:return a}};a.prototype.getFilters=function(){return this.getState().get("filters")};a.prototype.getAppliedFilterValues=function(){return this.getState().get("appliedFilterValues")};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PlacesSearchResultDispatcher"))}),null);
__d("XAsyncSearchResultsRegisterUserToTessaController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/browse/async/register_user_to_tessa/",{})}),null);
__d("PlacesSearchResults.react",["Arbiter","AsyncRequest","BrowseAsyncPagingType","BrowseClientEventLogger","BrowsePlacesPerfTypedLogger","BrowseWebSLRPELoggerClickType","ClickableArea.react","FacebarKeywordSearchUtils","immutable","PageTransitions","PlacesSearchNetworkErrorEntityCard.react","PlacesSearchResultDispatcher","PlacesSearchResultFiltersAction","PlacesSearchResultFiltersStore","PlacesSearchResultList.react","PlacesSearchResultMapStore","PlacesSearchResultUpdateMapAction","PlacesSearchSessionLogger","React","SearchEntityModuleServerConstants","SubscriptionsHandler","URI","ViewableImpressionTracking","XAsyncPlacesSearchResultsController","XAsyncSearchResultsRegisterUserToTessaController","XBrowseQueryController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=1e4,i=1,j=1e3,k=3e4,l="/search/",m=b("immutable").Map({PLACES_IN_SEARCH_KEYWORD:"/places-in",PLACES_VISITED_KEYWORD:"/places-visited",PLACES_SEARCH_KEYWORD:"/keywords_places",PLACES_CATEGORY_SEARCH:"/places"});a=babelHelpers.inherits(n,b("React").Component);g=a&&a.prototype;function n(a,c){__p&&__p();g.constructor.call(this,a,c);this.state={resultData:this.props.data,overrideResultsWithLoader:!1,showError:!1,dymLink:this.props.dymLink,cityInfo:this.props.cityInfo};window.history.replaceState(window.history.state,null,a.data.uriPath);c=Date.now()/1e3;new(b("BrowsePlacesPerfTypedLogger"))().setMethodName("placessearchresultlist.clientReceivedResponse").setExecutionTimeSecs(c-this.props.data.serverResponseReturnTime).log();this.$1=null;this.$4=0;this.$5=0;this.$6=!1;this.$2=function(a){if(this.$8(a)){b("PageTransitions").transitionComplete();return!0}return!1}.bind(this);this.$3=this.state.cityInfo?this.state.cityInfo.basicInfo.id:"";window.onpopstate=function(event){var a=new(b("URI"))(event.state);this.$8(a)}.bind(this)}n.prototype.$8=function(a){__p&&__p();if(this.$9(a))return!1;var c=null;this.state.resultData.pagingOptions.type===b("BrowseAsyncPagingType").PAGINATE&&(c=1);isNaN(a.getQueryData().page)||(c=Number(a.getQueryData().page));var d=a.getPath(),e=m.count(function(a,b){return d.indexOf(a)===-1});if(m.count()===e)return!1;else if(d.indexOf(l)===-1)return!1;e=function(a){return a.slice(-1)==="/"?a.slice(0,-1):a};var f=e(d);e=e(this.state.resultData.uriPath);var g=this.state.resultData.pagingOptions.page;if(f!==e||c!==g){e=a.getQueryData();e.q&&(f+="?q="+e.q);this.$10(f.replace(l,""),f.replace(l,""),null,!1,!1,c,null)}return!0};n.prototype.$9=function(a){a=b("FacebarKeywordSearchUtils").decodeFacebarURIParams(a);return a!=null&&a.sid!=null?!0:!1};n.prototype.componentDidMount=function(){__p&&__p();b("ViewableImpressionTracking").init();var a=Object.keys(this.props.data.results).length,c=a===0?"empty_load":"load";this.props.data.useNewDesign&&(b("PlacesSearchResultUpdateMapAction").resetPinNumber(),b("PlacesSearchResultUpdateMapAction").updateMap(a!==0?this.props.data.results:null));n.clientViewConfig=this.props.data.clientViewConfig;n.sessionID=this.props.data.sessionID;n.query=this.props.data.query;n.resultUnitIDs=this.props.data.resultUnitIDs!=null?this.props.data.resultUnitIDs:{};this.logImpression();a!==0&&this.props.data.loggedIn&&this.$11();b("PlacesSearchSessionLogger").logEvent(c,this.$12(this.props.data));b("PageTransitions").registerHandler(this.$2)};n.prototype.UNSAFE_componentWillMount=function(){b("PlacesSearchResultDispatcher").explicitlyRegisterStores([b("PlacesSearchResultFiltersStore"),b("PlacesSearchResultMapStore")]),this.$7=new(b("SubscriptionsHandler"))(),this.$7.addSubscriptions(b("Arbiter").subscribe("PlacesSearchResultMapCard/SearchThisArea",function(a,b){return this.$13(b)}.bind(this)),b("Arbiter").subscribe("PlacesSearchFilters/SelectedFilters",function(a,b){return this.$14(b)}.bind(this)))};n.prototype.componentWillUnmount=function(){b("PageTransitions").removeHandler(this.$2),this.$2=null,this.$7.release()};n.prototype.render=function(){var a=b("React").createElement(b("ClickableArea.react"),{onClick:this.$15},b("React").createElement("div",null,b("React").createElement(b("PlacesSearchResultList.react"),babelHelpers["extends"]({cityInfo:this.state.cityInfo,overrideResultsWithLoader:this.state.overrideResultsWithLoader,useNewDesign:this.props.data.useNewDesign,cityID:this.$3,dymLink:this.state.dymLink,isConvertedSetSearch:this.props.data.isConvertedSetSearch,clientViewConfig:this.props.data.clientViewConfig,loggedIn:this.props.data.loggedIn},this.state.resultData))));this.state.showError&&(a=b("React").createElement(b("PlacesSearchNetworkErrorEntityCard.react"),null));return a};n.prototype.$11=function(){var a=b("XAsyncSearchResultsRegisterUserToTessaController").getURIBuilder().getURI(),c=JSON.stringify({city_id:this.$3,query:this.props.data.query});this.$1=new(b("AsyncRequest"))(a).setTimeoutHandler(h+this.$5*j,function(){this.$5===i?(b("PlacesSearchSessionLogger").logEvent("fail_to_register",c),this.$5=0):(this.$5++,b("PlacesSearchSessionLogger").logEvent("retry_to_register",c),this.$11())}.bind(this)).setErrorHandler(function(a){b("PlacesSearchSessionLogger").logEvent("fail_to_register",c)}).setHandler(function(a){this.$4=0;a=a.getPayload();b("PlacesSearchSessionLogger").logEvent(a.outcome,c);this.$1=null}.bind(this));this.$1.send()};n.prototype.$14=function(a){this.$10(this.state.resultData.query,this.state.resultData.originalQuery,a,!0,!1,null,null)};n.prototype.$13=function(a){this.$10(this.state.resultData.query,this.state.resultData.originalQuery,null,!1,!0,null,b("immutable").Map({w:a.getWest(),s:a.getSouth(),e:a.getEast(),n:a.getNorth()}))};n.prototype.$10=function(a,c,d,e,f,g,l){__p&&__p();l!==null&&(this.$6=!0);(d!==null||this.$16)&&this.setState({dymLink:null});var m={overrideResultsWithLoader:!0,showError:!1},o={overrideResultsWithLoader:!1,showError:!0};this.setState(m,function(){__p&&__p();var m=JSON.stringify({city_id:this.$3,query:a}),p=b("XAsyncPlacesSearchResultsController").getURIBuilder().getURI(),q=d?d.map(function(a){return JSON.stringify(a)}):[];this.$1&&(b("PlacesSearchSessionLogger").logEvent("abandon",JSON.stringify({city_id:this.$3,query:this.$1.getData().query})),this.$1.abandon(),f||(this.$4=0));this.state.resultData.pagingOptions.type===b("BrowseAsyncPagingType").PAGINATE&&g===null&&(g=1);this.$1=new(b("AsyncRequest"))(p).setData({filters:q,query:a,original_query:c,strip_filters:e,page:g,bounds:JSON.stringify(l)}).setTimeoutHandler(this.props.isSandbox?k:h+this.$4*j,function(){this.$4===i?(b("PlacesSearchSessionLogger").logEvent("fail",m),this.$4=0,this.setState(o)):(this.$4++,b("PlacesSearchSessionLogger").logEvent("request",m),this.$10(a,c,d,e,!0,g,null))}.bind(this)).setErrorHandler(function(a){b("PlacesSearchResultUpdateMapAction").updateMap(null),b("PlacesSearchSessionLogger").logEvent("fail",m),this.setState(o)}.bind(this)).setHandler(function(a){__p&&__p();var c=Date.now()/1e3;new(b("BrowsePlacesPerfTypedLogger"))().setMethodName("placessearchresultlist.clientReceivedResponse").setExecutionTimeSecs(c-this.props.data.serverResponseReturnTime).log();this.$4=0;c=a.getPayload();this.$1=null;a={query:c.query,originalQuery:c.originalQuery,pagingOptions:c.pagingOptions,hasNextPage:c.hasNextPage,results:c.results,extra:c.extra,uriPath:c.uriPath,useNewDesign:this.props.data.useNewDesign,sessionID:c.sessionID,loggedIn:c.loggedIn,isConvertedSetSearch:c.isConvertedSetSearch,serverResponseReturnTime:c.serverResponseReturnTime,isNearbySearch:c.isNearbySearch,isCategorySearch:c.isCategorySearch,savedListsGk:c.savedListsGk,clientViewConfig:c.clientViewConfig};this.setState({resultData:a,overrideResultsWithLoader:!1,cityInfo:c.cityInfo});n.clientViewConfig=c.clientViewConfig;n.sessionID=c.sessionID;n.resultUnitIDs=babelHelpers["extends"]({},n.resultUnitIDs,c.resultUnitIDs);d===null&&this.setState({dymLink:null});var f=Object.keys(a.results).length,g=f===0?"empty_reload":"reload";this.props.data.useNewDesign&&(b("PlacesSearchResultUpdateMapAction").resetPinNumber(),b("PlacesSearchResultUpdateMapAction").updateMap(f!==0?a.results:null));b("PlacesSearchResultFiltersAction").updateFilters(c.extra.filters,c.extra.appliedFilters);b("PlacesSearchSessionLogger").logEvent(g,this.$12(a));f=b("XBrowseQueryController").getURIBuilder().setString("bqf",c.query).getURI();(e||l)&&b("PageTransitions").go(f)}.bind(this));b("PlacesSearchSessionLogger").logEvent("request",m);this.$1.send()}.bind(this))};n.prototype.$12=function(a){var b=a.extra.appliedFilters,c=b.indexOf(this.$3);c>-1&&b.splice(c,1);return JSON.stringify({city_id:this.$3,filters:JSON.stringify(b),query:a.query,results:JSON.stringify(Object.keys(a.results))})};n.prototype.$15=function(event){event.stopPropagation(),b("PlacesSearchSessionLogger").handleEvent(event)};n.getLoggingData=function(a){if(!n.clientViewConfig||!n.sessionID)return null;var c=b("SearchEntityModuleServerConstants").WWW_GRAPH_SEARCH_RESULTS_TRACKABLE_CODE;c=c+JSON.stringify({id:a.resultID,item_type:"result",module_result_type:b("SearchEntityModuleServerConstants").TYPE_TO_BROWSE_TYPE.place,raw_id:parseInt(a.resultID,10),session_id:n.sessionID,vertical:"content",subrequests:JSON.stringify([n.query]),unit_id:n.resultUnitIDs[a.resultID],unit_id_click_type:b("BrowseWebSLRPELoggerClickType").ITEM_IN_MODULE_TAPPED,unit_id_result_id:a.resultID});return{"data-xt":c,"data-gt":JSON.stringify({type:"xtracking",xt:c}),"data-xt-vimp":JSON.stringify(n.clientViewConfig),"data-vistracking":"1","data-insertion-position":0,"data-bt":JSON.stringify({ct:a.clickType})}};n.prototype.logImpression=function(){var a=n.getLoggingData({resultID:"",clickType:""});a&&b("BrowseClientEventLogger").logImpression({xt:a["data-xt"]})};e.exports=n}),null);
__d("PlacesSearchOptionalFriendContextRowOrDescription.react",["cx","fbt","AsyncDialog","AsyncRequest","HovercardLink","Link.react","PlacesSearchClickTypeEnums.react","PlacesSearchResults.react","ProfileBrowserLink","ProfileBrowserTypes","React","SeeMore.react","TextWithEntities.react","TooltipLink.react","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){__p&&__p();var a=null;if(this.props.contextInfo){var c=this.props.contextInfo;a=b("React").createElement(b("TextWithEntities.react"),{highlightEntities:!0,aggregatedRanges:c.aggregatedranges,text:c.text+".",ranges:c.ranges,interpolator:function(a,b){return this.$1(a,b)}.bind(this)})}c=this.$2();if(this.props.showContextAndDescription===!0)return b("React").createElement("div",{className:"_17mw"},a," ",a!==null?" ":null,c);else if(a)return b("React").createElement("div",{className:"_17mx"},a);else if(c)return b("React").createElement("div",{className:"_17my"},c);else return b("React").createElement("div",null)};a.prototype.$1=function(a,c){if(c.count){var d=this.$3(c.entities,c.count,10);return b("React").createElement(b("TooltipLink.react"),{className:"_17mz",tooltip:d,onClick:function(){return this.$4()}.bind(this)},a)}d=c.entity;return b("React").createElement(b("Link.react"),babelHelpers["extends"]({className:"_17mz",href:d.url,target:"_blank","data-hovercard":b("HovercardLink").constructEndpoint({id:d.id,uri:d.url}),"data-et":JSON.stringify({click_point:"friend_context",data:JSON.stringify({entity_id:this.props.placeID})})},b("PlacesSearchResults.react").getLoggingData({resultID:this.props.placeID,clickType:b("PlacesSearchClickTypeEnums.react").FRIEND_CONTEXT})),a)};a.prototype.$3=function(a,b,c){var d=c;b>c&&d--;a=a.slice(0,Math.min(a.length,d)).map(function(a){return a.name}).join("\n");b>c&&(a=h._("{newLinedFriendNames}v\u00e0 {totalFriends} ng\u01b0\u1eddi kh\u00e1c",[h._param("newLinedFriendNames",a+"\n"),h._param("totalFriends",b-d)]));return a};a.prototype.$4=function(){var a=b("ProfileBrowserLink").constructDialogURI(this.props.contextInfo.type==="like"?b("ProfileBrowserTypes").FRIENDED_FANS_OF:b("ProfileBrowserTypes").FRIEND_CHECKINS,{page_id:this.props.placeID,order_by:"coefficient"}).toString();b("AsyncDialog").send(new(b("AsyncRequest"))(a))};a.prototype.$2=function(){__p&&__p();if(!this.props.descriptionInfo)return null;if(this.props.descriptionInfo.wikiDescription){var a=this.props.descriptionInfo.wikiDescription.text;return a.length>=150?b("React").createElement(b("SeeMore.react"),null,a.substring(0,150),a.substring(150)):b("React").createElement(b("XUIText.react"),null,a)}else if(this.props.descriptionInfo.snippetDescription){a=null;var c=this.props.descriptionInfo.snippetDescription.snippets;c.length===1?a=h._("Nh\u1eefng ng\u01b0\u1eddi n\u00f3i v\u1ec1 {snippet1}.",[h._param("snippet1",c[0])]):c.length===2?a=h._("Nh\u1eefng ng\u01b0\u1eddi n\u00f3i v\u1ec1 {snippet1} v\u00e0 {snippet2}",[h._param("snippet1",c[0]),h._param("snippet2",c[1])]):c.length>2&&(a=h._("Nh\u1eefng ng\u01b0\u1eddi n\u00f3i v\u1ec1 {snippet1}, {snippet2} v\u00e0 {snippet3}.",[h._param("snippet1",c[0]),h._param("snippet2",c[1]),h._param("snippet3",c[2])]));return a}return null};a.prototype.$5=function(a,c){return!this.props.enableSetSearchLogging?null:b("PlacesSearchResults.react").getLoggingData({resultID:a,clickType:c})};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("PlacesSearchEntityCard.react",["cx","FBTilesMap.react","GeoCoordinates","LeafletMarker.react","LeafletView","PlacesSearchEntityCardDetails.react","PlacesSearchEntityCardPhotos.react","React","XUICard.react","XUIDialog.react","XUIDialogBody.react","XUIDialogTitle.react","leaflet"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=14,j={dragging:!0,zoomControl:!0,touchZoom:!1,doubleClickZoom:!0,scrollWheelZoom:!0,boxZoom:!1,keyboard:!1,tab:!1},k=b("leaflet").icon({iconUrl:"/images/maps/pins/pin-default.png",iconSize:[24,32],iconAnchor:[12,32],popupAnchor:[0,-32]});c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a,b){h.constructor.call(this,a,b),this.state={mapView:null}}a.prototype.render=function(){return b("React").createElement(b("XUICard.react"),{className:"_580c"},this.$1(),b("React").createElement(b("PlacesSearchEntityCardPhotos.react"),{entityID:this.props.placeID,photoInfo:this.props.placeInfo.photoInfo,mapInfo:this.props.placeInfo.entityInfo.mapInfo,onMapClick:function(){return this.$2()}.bind(this),isLoggedIn:this.props.isLoggedIn,loadedCallback:function(a,b){return this.props.loadedCallback(a,b)}.bind(this),useNewDesign:this.props.useNewDesign,query:this.props.query}),b("React").createElement(b("PlacesSearchEntityCardDetails.react"),{entityID:this.props.placeID,entityInfo:this.props.placeInfo.entityInfo,isLoading:this.props.isContextLoading,loadedCallback:function(a,b){return this.props.loadedCallback(a,b)}.bind(this),pinIndex:this.props.pinIndex,useNewDesign:this.props.useNewDesign,savedListsGk:this.props.savedListsGk,query:this.props.query}))};a.prototype.$3=function(a,b){};a.prototype.$4=function(){return!!this.props.placeInfo.entityInfo.mapInfo&&this.props.placeInfo.entityInfo.mapInfo.lat!==0&&this.props.placeInfo.entityInfo.mapInfo["long"]!==0};a.prototype.$1=function(){var a=this.props.placeInfo.entityInfo.mapInfo;if(!a||!this.state.mapView)return null;var c=this.state.mapView;return b("React").createElement(b("XUIDialog.react"),{causalElementRef:function(){return this.refs.button}.bind(this),shown:!!this.state.mapView,onToggle:function(a){a||this.setState({mapView:null})}.bind(this),hideOnEscape:!0,width:700},b("React").createElement(b("XUIDialogTitle.react"),null,b("React").createElement("span",null,this.props.placeInfo.entityInfo.aboutInfo.name)),b("React").createElement(b("XUIDialogBody.react"),{className:"_2-rk"},b("React").createElement(b("FBTilesMap.react"),{className:"_2-rl",defaultOptions:j,onViewChange:function(a){return this.$5(a)}.bind(this),view:c,showZoomControls:!0},b("React").createElement(b("LeafletMarker.react"),{coordinates:new(b("GeoCoordinates"))(a.lat,a["long"]),options:{icon:k}}))))};a.prototype.$5=function(a){this.setState({mapView:a})};a.prototype.$2=function(){var a=this.props.placeInfo.entityInfo.mapInfo;if(!a)return;this.setState({mapView:new(b("LeafletView"))({center:new(b("GeoCoordinates"))(a.lat,a["long"]),zoom:i})})};a.defaultProps={loadedCallback:function(a,b){}};e.exports=a}),null);
__d("LocalContentConsumptionElement",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({REVIEW_LIST:"review_list",REVIEW_STORY:"review_story",REVIEW_HISTOGRAM:"review_histogram",SPOTLIGHT_SNIPPET:"spotlight_snippet",TIP:"tip",TOTAL_RATING:"total_rating",TOTAL_RATING_AND_VOLUME:"total_rating_and_volume",TOTAL_RATING_WITH_STARS:"total_rating_with_stars",TOTAL_RATING_WITH_STARS_AND_VOLUME:"total_rating_with_stars_and_volume"})}),null);
__d("LocalContentConsumptionEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CONTEXT_ROW_CLICK:"context_row_click",NONE:"none",ADD_COMMENT:"add_comment",FILTER_BUTTON_CLICK:"filter_button_click",INLINE_UNIT_HEADER_CLICK:"inline_unit_header_click",PERMALINK_IMPRESSION:"permalink_impression",RATING_HISTOGRAM_CLICK:"rating_histogram_click",RATING_IMPRESSION:"rating_impression",RATING_REVIEW_VPVD:"rating_review_vpvd",REACTION_SEE_ALL_CLICK:"reaction_see_all_click",REACTION_WRITE_REVIEW_CLICK:"reaction_write_review_click",REPORT_REVIEW_CHEVRON_CLICK:"report_review_chevron_click",REVIEW_ATTACHMENT_CLICK:"review_attachment_click",REVIEW_ATTACHMENT_SAVE_CLICK:"review_attachment_save_click",REVIEW_CHEVRON_CLICK:"review_chevron_click",REVIEW_CLICK:"review_click",REVIEW_COLLAPSE_CLICK:"review_collapse_click",REVIEW_COMMENT_BUTTON_CLICK:"review_comment_button_click",REVIEW_CREATOR_NAME_CLICK:"review_creator_name_click",REVIEW_CREATOR_PROFILE_PIC_CLICK:"review_creator_profile_pic_click",REVIEW_EXPAND_CLICK:"review_expand_click",REVIEW_IMPRESSION:"review_impression",REVIEW_LIKE:"review_like",REVIEW_LIKE_CLICK:"review_like_click",REVIEW_MARK_HELPFUL:"review_mark_helpful",REVIEW_MARK_HELPFUL_CLICK:"review_mark_helpful_click",REVIEW_SUBTITLE_CLICK:"review_subtitle_click",REVIEW_SUGGESTION_UPSELL_IMPRESSION:"review_suggestion_upsell_impression",REVIEW_TEXT_CLICK:"review_text_click",REVIEW_TIMESTAMP_CLICK:"review_timestamp_click",REVIEW_UFI_ICON_CLICK:"reviews_ufi_icon_click",REVIEW_UNLIKE:"review_unlike",REVIEW_UNLIKE_CLICK:"review_unlike_click",REVIEW_UNMARK_HELPFUL:"review_unmark_helpful",REVIEW_UNMARK_HELPFUL_CLICK:"review_unmark_helpful_click",REVIEW_UPSELL_CLICK:"review_upsell_click",REVIEWS_LIST_IMPRESSION:"reviews_list_impression",REVIEWS_LIST_SCROLL:"reviews_list_scroll",REVIEWS_LIST_SEE_MORE_CLICK:"reviews_list_see_more_click",SPOTLIGHT_SNIPPET_TAP:"spotlight_snippet_tap",SPOTLIGHT_SNIPPET_XOUT_CLICK:"spotlight_snippet_xout_click",SWITCHED_REVIEW_FILTER:"switched_review_filter",USER_REVIEWS_LIST_IMPRESSION:"user_reviews_list_impression",FOOD_PHOTO_CLICK:"food_photo_click",FOOD_PHOTOS_SEE_MORE_CLICK:"food_photos_see_more_click",MENU_PHOTO_CLICK:"menu_photo_click",MENU_SWITCH_CLICK:"menu_switch_click",PAGE_MENUS_IMPRESSION:"page_menus_impression",PRODUCT_LIKE:"product_like",PRODUCT_UNLIKE:"product_unlike",UNOWNED_PAGE_FLYOUT:"unowned_page_flyout"})}),null);
__d("LocalContentConsumptionSurface",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NONE:"none",MEDIA:"media_page",CONTEXTUAL_RECOMMANDATION_CARD:"contextual_recommandation_card",DR_CARD:"dr_card",LOCAL_SERP:"local_serp",NETEGO:"netego",NETEGO_ECOM:"netego_ecom",NEWS_FEED:"news_feed",PAGE:"page",PAGE_HOVERCARD:"page_hovercard",PERMALINK:"permalink",REACTION:"reaction",REVIEW_COLLECTION:"review_collection",REVIEW_SUGGESTION_UPSELL_REVIEW_TAB:"review_suggestion_upsell_review_tab",REVIEWS_TAB:"reviews_tab",SET_SEARCH_PLACES:"set_search_places",TIMELINE:"timeline",UNOWNED_PAGE:"unowned_page",USER_REVIEWS_LIST:"user_reviews_list",PAGE_MENU:"page_menu",PAGE_MENU_PLACE_FEED:"page_menu_place_feed",PAGE_MENU_TAB:"page_menu_tab",PAGE_ADMIN_OBJECT:"page_admin_object",ENT_PAGE:"ent_page",CHECKIN_ATTACHMENT:"checkin_attachment",CHECKIN_SUGGESTION_NOTIF:"checkin_suggestion_notif",FLW:"flw",CITY_SERP:"city_serp",PAGES_SEARCH_TAB:"pages_search_tab",NEARBY_PLACES:"nearby_places",SET_SEARCH_PAGES:"set_search_pages",SET_SEARCH_TOP:"set_search_top",SOCIAL_REX:"social_rex"})}),null);
__d("PlacesSearchEntityCardAbout.react",["cx","Grid.react","Image.react","LeftRight.react","Link.react","LocalContentConsumptionElement","LocalContentConsumptionEvent","LocalContentConsumptionSurface","Number.react","PageCallToActionRef","PageCTAViewerUnitContainer.react","PagesHeaderLikeButtonContainer.react","PlacesSearchClickTypeEnums.react","PlacesSearchResults.react","React","ReviewConsumptionTypedLogger","StarRating.react","XUIGrayText.react","XUIText.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("Grid.react").GridItem,j="42B72A",k="4b4f56";h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.componentDidMount=function(){this.props.aboutInfo.rating&&this.$1()};a.prototype.render=function(){var a="_1vx5";this.props.useNewDesign&&(a="_2oqp");return b("React").createElement("div",{className:a},this.$2())};a.prototype.$1=function(){new(b("ReviewConsumptionTypedLogger"))().setPageID(this.props.entityID).setEvent(b("LocalContentConsumptionEvent").RATING_IMPRESSION).setSurface(b("LocalContentConsumptionSurface").SET_SEARCH_PLACES).setElement(b("LocalContentConsumptionElement").TOTAL_RATING_WITH_STARS_AND_VOLUME).log()};a.prototype.$3=function(){__p&&__p();if(this.props.aboutInfo.primaryButtons){var a=this.props.aboutInfo.primaryButtons[0];if(a&&a.__typename==="PageCTAAction"){var c=a.call_to_action,d=a.cta_config;return b("React").createElement("span",babelHelpers["extends"]({className:"_322r","data-et":JSON.stringify({click_point:"start_order",data:JSON.stringify({entity_id:this.props.entityID})})},b("PlacesSearchResults.react").getLoggingData({resultID:this.props.entityID,clickType:b("PlacesSearchClickTypeEnums.react").ORDER})),b("React").createElement(b("PageCTAViewerUnitContainer.react"),babelHelpers["extends"]({},a,{cta:{id:c?c.id:null,label:d&&d.label||c&&c.label||null,type:d&&d.cta_type||c&&c.cta_type||null},page:{id:this.props.entityID},surface:b("PageCallToActionRef").SEARCH_ENTITY_CARD})))}}a=null;this.props.aboutInfo.pageCTA!==null&&(a=b("React").createElement("span",babelHelpers["extends"]({className:"_322r","data-et":JSON.stringify({click_point:"page_cta",data:JSON.stringify({entity_id:this.props.entityID})})},b("PlacesSearchResults.react").getLoggingData({resultID:this.props.entityID,clickType:b("PlacesSearchClickTypeEnums.react").PAGE_CTA})),b("React").createElement(b("PageCTAViewerUnitContainer.react"),this.props.aboutInfo.pageCTA)));d=b("React").createElement("span",babelHelpers["extends"]({className:"_322r","data-et":JSON.stringify({click_point:"like",data:JSON.stringify({entity_id:this.props.entityID})})},b("PlacesSearchResults.react").getLoggingData({resultID:this.props.entityID,clickType:b("PlacesSearchClickTypeEnums.react").LIKE})),b("React").createElement(b("PagesHeaderLikeButtonContainer.react"),this.props.aboutInfo.likeData));return a===null?b("React").createElement("div",null,d):b("React").createElement(b("LeftRight.react"),null,a,d)};a.prototype.$2=function(){__p&&__p();var a=this,c=this.props.aboutInfo;if(!this.props.useNewDesign){var d=[c.category,this.$4(),this.$5()].filter(function(a){return a!==null&&a!==""}),e=[c.address,c.neighborhood,c.phone,c.status].filter(function(a){return a!==null&&a!==""});d=d.map(function(a,d){a=a;d!==0?a=b("React").createElement("span",null,"\xa0\xa0\xb7\xa0\xa0",a):c.categoryLink&&(a=b("React").createElement(b("Link.react"),babelHelpers["extends"]({className:"_1akz","data-et":JSON.stringify({click_point:"category",data:JSON.stringify({entity_id:this.props.entityID})})},b("PlacesSearchResults.react").getLoggingData({resultID:this.props.entityID,clickType:b("PlacesSearchClickTypeEnums.react").CATEGORY}),{href:c.categoryLink}),a));return b("React").createElement("span",{key:d},a)}.bind(this));e=e.map(function(a,c){a=a;c!==0&&(a=b("React").createElement("span",null,"\xa0\xa0\xb7\xa0\xa0",a));return b("React").createElement("span",{key:c},a)});var f=c.url?b("React").createElement(b("Link.react"),{href:c.url,target:"_blank"},c.name):b("React").createElement(b("XUIText.react"),null,c.name);return b("React").createElement(b("Grid.react"),{className:"_1uhv",cols:1},b("React").createElement(i,null,b("React").createElement(b("LeftRight.react"),{direction:"right",className:"_2oqr"},b("React").createElement("span",babelHelpers["extends"]({className:"_1uhw","data-et":JSON.stringify({click_point:"name",data:JSON.stringify({entity_id:this.props.entityID})})},b("PlacesSearchResults.react").getLoggingData({resultID:this.props.entityID,clickType:b("PlacesSearchClickTypeEnums.react").NAME})),f),this.$3())),b("React").createElement(i,null,d),b("React").createElement(i,null,e))}else{f=function(){__p&&__p();var e=[[a.$6(),a.$7(),a.$5()].filter(function(a){return a!==null&&a!==""}),[a.$8(),a.$9(),a.$10()].filter(function(a){return a!==null&&a!==""})],f=0;e=e.map(function(a,c){a=a.map(function(a,c){a=a;c!==0&&(a=b("React").createElement("span",{className:"_1n0"},"\xa0\xb7\xa0",a));return b("React").createElement("span",{key:f++},a)});return b("React").createElement("div",{key:c,className:"_1o90"},a)});var d=c.url?b("React").createElement(b("Link.react"),{href:c.url},c.name):b("React").createElement(b("XUIText.react"),null,c.name);return{v:b("React").createElement(b("Grid.react"),{className:"_1wu-",cols:1},b("React").createElement(i,null,b("React").createElement(b("LeftRight.react"),{direction:"right",className:"_2oqs"},b("React").createElement("span",babelHelpers["extends"]({className:"_1wu_","data-et":JSON.stringify({click_point:"name",data:JSON.stringify({entity_id:a.props.entityID})})},b("PlacesSearchResults.react").getLoggingData({resultID:a.props.entityID,clickType:b("PlacesSearchClickTypeEnums.react").NAME})),d),a.$3())),b("React").createElement(i,null,e),b("React").createElement(i,null,a.$11()))}}();if(typeof f==="object")return f.v}};a.prototype.$8=function(){var a=this.props.aboutInfo;return b("React").createElement("span",{className:"_1n0"},a.address)};a.prototype.$7=function(){var a=this.props.aboutInfo;return!a.categoryLink?b("React").createElement(b("XUIGrayText.react"),{shade:"medium"},a.category):b("React").createElement(b("Link.react"),babelHelpers["extends"]({shade:"light",className:"_1wuz","data-et":JSON.stringify({click_point:"category",data:JSON.stringify({entity_id:this.props.entityID})})},b("PlacesSearchResults.react").getLoggingData({resultID:this.props.entityID,clickType:b("PlacesSearchClickTypeEnums.react").CATEGORY}),{href:a.categoryLink}),b("React").createElement(b("XUIGrayText.react"),{shade:"medium"},a.category))};a.prototype.$11=function(){var a=this.props.aboutInfo.eta;if(a==null)return null;return a.length===2?b("React").createElement(b("XUIGrayText.react"),{shade:"light"},a[0],"\xa0\xa0\xb7\xa0\xa0",a[1]):b("React").createElement(b("XUIGrayText.react"),{shade:"light"},a)};a.prototype.$4=function(){return!this.props.aboutInfo.rating?null:b("React").createElement(b("XUIText.react"),null,b("React").createElement(b("Number.react"),{value:Number(this.props.aboutInfo.rating),decimals:1}),"\xa0",b("React").createElement(b("Image.react"),{src:"/images/search/places/darkStar.png",height:9,width:9}))};a.prototype.$6=function(){if(!this.props.aboutInfo.rating)return null;var a=b("React").createElement("span",{className:"_1n1"},b("React").createElement(b("StarRating.react"),{rating:this.props.aboutInfo.rating,size:"12",fillColor:"fig-blue"}));return!this.props.aboutInfo.rating_count?a:b("React").createElement(b("Link.react"),babelHelpers["extends"]({"data-et":JSON.stringify({click_point:"rating_count",data:JSON.stringify({entity_id:this.props.entityID})})},b("PlacesSearchResults.react").getLoggingData({resultID:this.props.entityID,clickType:b("PlacesSearchClickTypeEnums.react").RATING_COUNT}),{href:this.props.aboutInfo.rating_url}),b("React").createElement("span",null,a,b("React").createElement("span",{className:"_1n3"},"(",this.props.aboutInfo.rating_count,")")))};a.prototype.$9=function(){return!this.props.aboutInfo.phone?null:b("React").createElement(b("XUIGrayText.react"),{shade:"medium"},this.props.aboutInfo.phone)};a.prototype.$10=function(){if(!this.props.aboutInfo.status)return null;var a=this.props.aboutInfo,c=a.statusColor;a=a.status;return b("React").createElement(b("XUIText.react"),{className:(c===j?"_1wv4":"")+(c===k?" _1wva":"")},a)};a.prototype.$5=function(){var a=this.props.aboutInfo.price;if(!a)return null;var c=a[0],d="";for(var e=0;e<4-a.length;++e)d+=c;return b("React").createElement("span",null,b("React").createElement(b("XUIText.react"),null,a),b("React").createElement(b("XUIGrayText.react"),{shade:"light"},d))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("PlacesSearchEntityCardReview.react",["cx","HovercardLink","Image.react","ImageBlock.react","Link.react","LtgSeeTranslationLink.react","Number.react","React","SeeMore.react","XUIGrayText.react","timeString"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=24;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){if(!this.props.useNewDesign)return b("React").createElement("div",{className:"_2tjf"},this.$1(),this.$2(),this.$3());else return b("React").createElement(b("ImageBlock.react"),{spacing:"medium",className:"_35n5"},this.$4(),b("React").createElement("div",{className:"_d6-"},this.$1(),this.$2(),this.$3()))};a.prototype.$4=function(){var a=this.props.reviewInfo.author.profilePicURI;return!a?null:b("React").createElement(b("Image.react"),{className:"_3-8w",src:a,width:i,height:i})};a.prototype.$1=function(){var a=this.props.reviewInfo.text;return b("React").createElement("div",{className:"_x92"},b("React").createElement("span",{className:"_44pl",style:{position:"absolute",left:"-6px"}},"\u201c"),a.length>=150?b("React").createElement(b("SeeMore.react"),{exposeTextInHtml:!0,clickCallback:function(a){a.preventDefault()}},a.substring(0,150),a.substring(150)):a,"\xa0",b("React").createElement("span",{className:"_44pl"},"\u201d"))};a.prototype.$2=function(){return this.props.reviewInfo.is_translatable&&this.props.reviewInfo.contentid?b("React").createElement(b("LtgSeeTranslationLink.react"),{size:"small",contentid:this.props.reviewInfo.contentid}):null};a.prototype.$3=function(){var a=this.props.reviewInfo;a=[this.$5(),this.$6(),b("timeString")(Number(a.creationTime)*1e3)];a=a.filter(function(a){return a});a=a.map(function(a,c){a=a;c!==0&&(a=b("React").createElement("span",null,"\xa0\xa0\xb7\xa0\xa0",a));return b("React").createElement("span",{key:c},b("React").createElement(b("XUIGrayText.react"),{shade:"light"},a))});return b("React").createElement("div",{className:"_x93"},a)};a.prototype.$5=function(){var a=this.props.reviewInfo.author;return b("React").createElement("span",null,a.name)};a.prototype.$6=function(){return!this.props.reviewInfo.rating?null:b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"inherit"},b("React").createElement(b("Number.react"),{decimals:1,value:Number(this.props.reviewInfo.rating)}),"\xa0",b("React").createElement(b("Image.react"),{src:"/images/search/places/lightStar.png",height:8,width:8}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("XSavedForLaterPlaceListController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/saved_place_list/",{list_id:{type:"FBID",required:!0}})}),null);
__d("PlacesSearchEntityFriendSavedList.react",["ix","cx","fbt","Image.react","ImageBlock.react","Link.react","React","XSavedForLaterPlaceListController","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.render=function(){var a=b("XSavedForLaterPlaceListController").getURIBuilder().setFBID("list_id",String(this.props.friendSavedListInfo.savedListID)).getURI();return b("React").createElement(b("ImageBlock.react"),{spacing:"medium",className:"_37fm"},b("React").createElement(b("Image.react"),{className:"_3-9a",src:g("116046")}),b("React").createElement("div",{className:"_d6-"},i._("Xem th\u00eam \u0111\u1ecba \u0111i\u1ec3m tr\u00ean danh s\u00e1ch c\u1ee7a {friend_name}:",[i._param("friend_name",this.props.friendSavedListInfo.friendName)]),"\xa0",b("React").createElement(b("Link.react"),{href:a},i._("{saved_list_name}",[i._param("saved_list_name",this.props.friendSavedListInfo.savedListName)]))))};function a(){j.apply(this,arguments)}e.exports=a}),null);
__d("XPlacesSearchContextAndReviewInfoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/places_search/context_review/",{place_ids:{type:"IntVector"},query:{type:"String"}})}),null);
__d("XPlacesSearchFriendsSavedListsInfoController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/places_search/friends_saved_list/",{place_id:{type:"Int"}})}),null);
__d("PlacesSearchEntityCardDetails.react",["cx","AsyncRequest","Image.react","ImageBlock.react","LeftRight.react","List.react","PlacesSearchEntityCardAbout.react","PlacesSearchEntityCardReview.react","PlacesSearchEntityCardSpotlightReview.react","PlacesSearchEntityFriendSavedList.react","PlacesSearchOptionalFriendContextRowOrDescription.react","React","XPlacesSearchContextAndReviewInfoController","XPlacesSearchFriendsSavedListsInfoController","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=24;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(a,b){h.constructor.call(this,a,b);this.$1=null;b=this.props.entityInfo;var c=!b.contextInfo&&!b.reviewInfo&&!b.descriptionInfo;this.state={contextInfo:b.contextInfo,descriptionInfo:b.descriptionInfo,reviewInfo:b.reviewInfo,searchSpotlightSnippetInfo:null,friendSavedListInfo:null,isFriendSavesListLoading:a.savedListsGk,isLoading:c}}a.prototype.componentDidMount=function(){this.props.loadedCallback(this.props.entityID,"placessearchresultlist.entityInfoLoaded"),this.state.isLoading&&this.$2()};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.abandon()};a.prototype.UNSAFE_componentWillReceiveProps=function(a){this.state.isLoading&&!a.isLoading&&this.setState({contextInfo:a.entityInfo.contextInfo,descriptionInfo:a.entityInfo.descriptionInfo,reviewInfo:a.entityInfo.reviewInfo,searchSpotlightSnippetInfo:a.entityInfo.searchSpotlightSnippetInfo,isLoading:!1})};a.prototype.render=function(){if(!this.props.useNewDesign)return b("React").createElement("div",{className:"_4a3q"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement(b("PlacesSearchEntityCardAbout.react"),{aboutInfo:this.props.entityInfo.aboutInfo,actionInfo:this.props.entityInfo.actionInfo,entityID:this.props.entityID,useNewDesign:this.props.useNewDesign,savedListsGk:this.props.savedListsGk})),this.$3());else{var a="/images/pages/city_pages/blank_pin.png",c=i,d=this.props.pinIndex+1<1e3?"_o20":"_a0p";return b("React").createElement("div",{className:"_o1z"},b("React").createElement(b("ImageBlock.react"),{spacing:"medium"},b("React").createElement("div",null,b("React").createElement(b("Image.react"),{className:"_o1-",src:a,width:c}),b("React").createElement("div",{className:d},this.props.pinIndex+1)),b("React").createElement(b("PlacesSearchEntityCardAbout.react"),{aboutInfo:this.props.entityInfo.aboutInfo,actionInfo:this.props.entityInfo.actionInfo,entityID:this.props.entityID,useNewDesign:this.props.useNewDesign,savedListsGk:this.props.savedListsGk})),this.$4(),this.$5(),this.$6(),this.$7())}};a.prototype.$3=function(){__p&&__p();var a=[];if(this.state.isLoading)a.push(b("React").createElement("div",{className:"_30m1"},b("React").createElement(b("XUISpinner.react"),{size:"small"})));else{this.state.contextInfo&&a.push(b("React").createElement(b("PlacesSearchOptionalFriendContextRowOrDescription.react"),{contextInfo:this.state.contextInfo,placeID:this.props.entityID,descriptionInfo:null,showContextAndDescription:null,enableSetSearchLogging:!0}));this.state.descriptionInfo&&a.push(b("React").createElement(b("PlacesSearchOptionalFriendContextRowOrDescription.react"),{contextInfo:null,placeID:"",descriptionInfo:this.state.descriptionInfo,showContextAndDescription:null,sessionID:"",enableSetSearchLogging:!0}));if(this.state.reviewInfo){var c=this.state.reviewInfo.map(function(a){return b("React").createElement(b("PlacesSearchEntityCardReview.react"),{reviewInfo:a,useNewDesign:!1})});a=a.concat(c)}}a=a.map(function(a,c){return b("React").createElement("li",{key:c},a)});return b("React").createElement(b("List.react"),{spacing:"none",border:"none",className:"_2js"},a)};a.prototype.$6=function(){var a=[];this.state.searchSpotlightSnippetInfo&&a.push(b("React").createElement(b("PlacesSearchEntityCardSpotlightReview.react"),{placeID:this.props.entityID,spotlightReviewInfo:this.state.searchSpotlightSnippetInfo}));a=a.map(function(a,c){return b("React").createElement("li",{key:c},a)});return b("React").createElement(b("List.react"),{spacing:"none",border:"none"},a)};a.prototype.$4=function(){var a=[];this.state.isLoading?a.push(b("React").createElement("div",{className:"_30m1"},b("React").createElement(b("XUISpinner.react"),{size:"small"}))):a.push(b("React").createElement(b("PlacesSearchOptionalFriendContextRowOrDescription.react"),{contextInfo:this.state.contextInfo,placeID:this.props.entityID,descriptionInfo:this.state.descriptionInfo,showContextAndDescription:!0,enableSetSearchLogging:!0}));a=a.map(function(a,c){return b("React").createElement("li",{key:c},a)});return b("React").createElement(b("List.react"),{spacing:"none",border:"none",className:"_o27"},a)};a.prototype.$5=function(){__p&&__p();if(this.state.searchSpotlightSnippetInfo)return b("React").createElement("div",null);var a=[];if(this.state.isLoading)a.push(b("React").createElement("div",{className:"_35mb"},b("React").createElement(b("XUISpinner.react"),{size:"small"})));else if(this.state.reviewInfo){var c=this.state.reviewInfo.map(function(a){return b("React").createElement(b("PlacesSearchEntityCardReview.react"),{reviewInfo:a,useNewDesign:this.props.useNewDesign})}.bind(this));a=a.concat(c)}a=a.map(function(a,c){return b("React").createElement("li",{key:c},a)});return b("React").createElement(b("List.react"),{spacing:"none",border:"none"},a)};a.prototype.$7=function(){var a=[];this.state.isFriendSavesListLoading?a.push(b("React").createElement("div",{className:"_35mb"},b("React").createElement(b("XUISpinner.react"),{size:"small"}))):this.state.friendSavedListInfo&&a.push(b("React").createElement(b("PlacesSearchEntityFriendSavedList.react"),{friendSavedListInfo:this.state.friendSavedListInfo}));a=a.map(function(a,c){return b("React").createElement("li",{key:c},a)});return b("React").createElement(b("List.react"),{spacing:"none",border:"none"},a)};a.prototype.$8=function(){this.$1&&this.$1.abandon();var a=b("XPlacesSearchFriendsSavedListsInfoController").getURIBuilder().getURI();this.$1=new(b("AsyncRequest"))(a).setAllowCrossPageTransition(!0).setData({place_id:this.props.entityID}).setErrorHandler(function(a){this.setState({isFriendSavesListLoading:!1})}.bind(this)).setHandler(function(a){var b=this.props.entityID;a=a.payload;this.props.loadedCallback(b,"placessearchresultlist.detailsLoaded");this.setState({friendSavedListInfo:this.state.friendSavedListInfo||a[b],isFriendSavesListLoading:!1})}.bind(this));this.$1.send()};a.prototype.$2=function(){__p&&__p();this.$1&&this.$1.abandon();var a=b("XPlacesSearchContextAndReviewInfoController").getURIBuilder().getURI();this.$1=new(b("AsyncRequest"))(a).setAllowCrossPageTransition(!0).setData({place_ids:[this.props.entityID],query:this.props.query}).setErrorHandler(function(a){this.setState({isLoading:!1})}.bind(this)).setHandler(function(a){var b=this.props.entityID;a=a.getPayload();this.props.loadedCallback(b,"placessearchresultlist.detailsLoaded");this.setState({contextInfo:this.state.contextInfo||a[b].contextInfo,descriptionInfo:this.state.descriptionInfo||a[b].descriptionInfo,reviewInfo:this.state.reviewInfo||a[b].reviewInfo,searchSpotlightSnippetInfo:this.state.searchSpotlightSnippetInfo||a[b].searchSpotlightSnippetInfo,isLoading:!1});this.$8()}.bind(this));this.$1.send()};e.exports=a}),null);
__d("StaticGeoMapSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ARTICLE_CONTEXT_DIALOG:"article_context_dialog",BEACON_ORDER_HOVERCARD:"beacon_order_hovercard",BLOOD_DONATIONS_LOCATION:"blood_donations_location",BOOSTED_LOCAL_AWARENESS_CLIENTSIDE_AD_PREVIEW:"boosted_local_awareness_clientside_ad_preview",CITY_GUIDES:"city_guides",CITY_GUIDES_HEADER:"city_guides_header",CITY_MERGE_TOOL:"city_merge_tool",CIVIC_GRAPH_CROWDSOURCING:"civic_graph_crowdsourcing",COUPONS_DETAILS_DIALOG:"coupons_details_dialog",COUPONS_EMAIL:"coupons_email",CREATE_LOCAL_PAGE:"create_local_page",CRISIS_BOOKMARK:"crisis_bookmark",CROWDSOURCING_PLACE_COORDINATES:"crowdsourcing_place_coordinates",DEVSERVERS_TOOL:"devservers_tool",ENGSITE_EVENT:"engsite_event",ENTSTREAM:"entstream",EVENTS_LOCATION:"events_location",EXPRESS_WIFI_CUSTOMER_SITE_STATIC:"express_wifi_customer_site_static",EXTERNAL_PLACE:"external_place",FLYOUT_MAP:"flyout_map",GOODWILL_VIDEO_YIR16_PERMALINK:"goodwill_video_yir16_permalink",GROUPS_NEIGHBORHOOD:"groups_neighborhood",GROUPS_NUX:"groups_nux",GROUPS_LOCATION:"groups_location",INTERNATIONAL_RESEARCH:"international_research",INTERN_CRUISE:"intern_cruise",KNOWLEDGE_PLACE:"knowledge_place",PRODUCTION_PROMPTS:"production_prompts",MARKETPLACE_POST_PERMALINK:"marketplace_post_permalink",MEET_UP_MAP:"meet_up_map",MESSAGES_HOVERCARD:"messages_hovercard",MESSENGER_SHPPING_BUBBLE:"messenger_shipping_bubble",NT_STATIC_MAP:"nt_static_map",PAGES_FEED_ATTACHMENT:"pages_feed_attachment",PAGES_INFO_BOX:"pages_info_box",PAGES_ABOUT_TAB:"pages_about_tab",PAGES_RECOMMENDATIONS_CARD:"pages_recommendations_card",PAGES_SERVICE_AREA:"pages_service_area",PHOTOS_LOCATION:"photos_location",PHOTO_MATCH_EXPLORER:"photo_match_explorer",PLACE_HOVERCARD:"place_hovercard",PLACE_LIST_MAP:"place_list_map",PLACE_RECOMMENDATION_MAP:"place_recommendation_map",PLACES_FLYOUT_MAP:"places_flyout_map",PLACES_HERE_NOW:"places_here_now",PLACES_INFO:"places_info",PLACES_RECENT_TAG:"places_recent_tag",PLACES_SEARCH_ENTITY_CARD:"places_search_entity_card",PLACES_TIMELINE_SUMMARY:"places_timeline_summary",PLACES_TYPEAHEAD:"places_typeahead",PLATFORM_STORY:"platform_story",REALTIME_ACTIVITY:"realtime_activity",SEARCH_HOVERCARD:"search_hovercard",SEARCH_RHC:"search_rhc",SEARCH_RESULT_PAGE:"search_result_page",SI_BOUNCER:"si_bouncer",SI_CHECKPOINT:"si_checkpoint",SI_ROADBLOCK:"si_roadblock",SITE_SELECTION:"site_selection",TICKER_CHECKIN_STORY:"ticker_checkin_story",TIMELINE_COLLECTION_REPORT:"timeline_collection_report",TIMELINE_COVER:"timeline_cover",TIMELINE_ESCAPE_HATCH:"timeline_escape_hatch",TIMELINE_HOMETOWN:"timeline_hometown",TIMELINE_MAP_NAV:"timeline_map_nav",TIMELINE_PAGE_LOCATIONS:"timeline_page_locations",TIMELINE_PLACES_BOX:"timeline_places_box",TIMELINE_PLACES_COLLECTION:"timeline_places_collection",TIMELINE_V2_ABOUT_VIEW:"timeline_v2_about_view",TIMELINE_YEAR_OVERVIEW:"timeline_year_overview",TOPCHARTS:"topcharts",TRAVEL_LOG:"travel_log",UI_EXPLORER:"ui_explorer",VAULTBOX_MAP:"vaultbox_map",VERTEX_PLACES:"vertex_places",YIR16:"yir16",ORDER_TRACKING:"order_tracking",FBSTORIES_COMPOSER_CHECKIN:"fbstories_composer_checkin"})}),null);
__d("XAsyncPlacePhotosResultsController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/browse/async/place_photos/",{page_ids:{type:"StringVector",required:!0},query:{type:"String"}})}),null);
__d("PlacesSearchEntityCardPhotos.react",["cx","fbt","invariant","AsyncRequest","BackgroundImage.react","GeoCoordinates","GeoMarker","PhotoSnowlift","PlacesSearchClickTypeEnums.react","PlacesSearchResults.react","React","StaticGeoMapDesktopWeb.react","StaticGeoMapSource","XAsyncPlacePhotosResultsController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=157,l=237,m=124,n=124,o=12;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a,b){j.constructor.call(this,a,b),this.state={fetchedPhotoInfo:null}}a.prototype.componentDidMount=function(){if(this.props.photoInfo!==null)return;this.$2()};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.abandon()};a.prototype.render=function(){__p&&__p();if(this.props.photoInfo===null&&this.state.fetchedPhotoInfo===null)if(!this.props.useNewDesign)return b("React").createElement("div",{className:"_3j7j"},b("React").createElement("span",null,b("React").createElement("div",{className:"_ebi"})));else return b("React").createElement("div",{className:"_3tu-"},b("React").createElement("span",null,b("React").createElement("div",{className:"_3tu_"})));var a=this.props.photoInfo!==null?this.props.photoInfo:this.state.fetchedPhotoInfo;!a&&i(0);if(this.props.useNewDesign)return b("React").createElement("div",{className:"_3tu-"},a.length>0?this.$3(a):null);else{var c=this.$4();return b("React").createElement("div",{className:"_3j7j"},a.length>0||c?this.$5(a):null)}};a.prototype.$6=function(a,c,d){return b("React").createElement(b("StaticGeoMapDesktopWeb.react"),{width:a+"px",height:m+"px",source:b("StaticGeoMapSource").PLACES_SEARCH_ENTITY_CARD,markers:[new(b("GeoMarker"))(new(b("GeoCoordinates"))(c,d))],zoom:o,showReportButton:!1})};a.prototype.$3=function(a){__p&&__p();var c=this.props.entityID,d=4,e=3;e=a.slice(0,e).map(function(e,f){var g=f===2&&a.length>3,i=k+(g?d*3:0),j="_3tv0",m=i,n=i;a.length===2&&(i=l+(g?d*3:0),j="_1tte",m=i,n=k);i=b("React").createElement(b("BackgroundImage.react"),{className:j,height:n,src:e.src,width:m});j=null;g&&this.props.isLoggedIn&&(j=b("React").createElement("div",babelHelpers["extends"]({className:"_3tv1","data-et":JSON.stringify({click_point:"more_photos",data:JSON.stringify({entity_id:c})})},b("PlacesSearchResults.react").getLoggingData({resultID:c,clickType:b("PlacesSearchClickTypeEnums.react").MORE_PHOTOS}),{style:{width:""+k+"px"}}),b("React").createElement("span",{className:"_3tv2 _3tv5"},h._("Xem th\u00eam \u1ea3nh"))));n=e.url!==null?{click_point:"photos",data:JSON.stringify({entity_id:c,photo_id:e.id})}:null;m=e.url!==null&&this.props.isLoggedIn;return b("React").createElement("div",babelHelpers["extends"]({onClick:function(event){return this.$7(event,e.url)}.bind(this),className:"_3tv6"+(m?" _3el4":""),"data-et":JSON.stringify(n)},b("PlacesSearchResults.react").getLoggingData({resultID:c,clickType:b("PlacesSearchClickTypeEnums.react").PHOTOS}),{key:f,role:"button",tabIndex:"0"}),i,j)}.bind(this));return b("React").createElement("span",null,e)};a.prototype.$5=function(a){__p&&__p();var c=this.props.entityID,d=5,e=this.$4(),f=e?Math.min(3,a.length):4;f=a.slice(0,f).map(function(f,g){var i=e?g===2&&a.length>3:g===3&&a.length>4,j=i?"-"+d+"px -"+d+"px":null,k=m+(i?d*2:0),l=n+(i?d*2:0);j=b("React").createElement(b("BackgroundImage.react"),{className:"_1dg_",backgroundPosition:j,backgroundSize:"contain",height:k,loadingIndicatorStyle:"small",src:f.src,width:l});k=null;i&&this.props.isLoggedIn&&(k=b("React").createElement("div",babelHelpers["extends"]({className:"_5e72","data-et":JSON.stringify({click_point:"more_photos",data:JSON.stringify({entity_id:c})})},b("PlacesSearchResults.react").getLoggingData({resultID:c,clickType:b("PlacesSearchClickTypeEnums.react").MORE_PHOTOS}),{style:{width:""+n+"px"}}),b("React").createElement("span",{className:"_5e73 _25uq"},h._("Xem th\u00eam \u1ea3nh"))));l=f.url!==null?{click_point:"photos",data:JSON.stringify({entity_id:c,photo_id:f.id})}:null;i=f.url!==null&&this.props.isLoggedIn;return b("React").createElement("div",babelHelpers["extends"]({onClick:function(event){return this.$7(event,f.url)}.bind(this),className:"_nvh"+(i?" _3el4":""),"data-et":JSON.stringify(l)},b("PlacesSearchResults.react").getLoggingData({resultID:c,clickType:b("PlacesSearchClickTypeEnums.react").PHOTOS}),{key:g,role:"button",tabIndex:"0"}),j,k)}.bind(this));if(e&&this.props.mapInfo){var g=n*(4-f.length),i=this.props.mapInfo.lat,j=this.props.mapInfo["long"];i=this.$6(g,i,j);j=b("React").createElement("div",{className:"_5e72 _3el4","data-et":JSON.stringify({click_point:"map",data:JSON.stringify({entity_id:c})}),style:{width:""+g+"px",zIndex:10}},b("React").createElement("span",{className:"_5e73 _25us"},h._("Xem b\u1ea3n \u0111\u1ed3")));f.push(b("React").createElement("div",{className:"_nvh",key:f.length,onClick:function(){return this.props.onMapClick()}.bind(this),role:"presentation"},j,i))}return b("React").createElement("span",null,f)};a.prototype.$4=function(){return!!this.props.mapInfo&&this.props.mapInfo.lat!==0&&this.props.mapInfo["long"]!==0};a.prototype.$7=function(event,a){if(a===null||!this.props.isLoggedIn)return;var c=new(b("PhotoSnowlift"))();c.bootstrap(a)};a.prototype.$2=function(){var a=this.props.entityID,c=b("XAsyncPlacePhotosResultsController").getURIBuilder().setStringVector("page_ids",[a]).setString("query",this.props.query).getURI();this.$1=new(b("AsyncRequest"))(c).setAllowCrossPageTransition(!0).setHandler(function(b){b=b.payload[a];this.props.loadedCallback(a,"placessearchresultlist.photoInfoLoaded");this.setState({fetchedPhotoInfo:b!==null?b:[]})}.bind(this));this.$1.send()};e.exports=a}),null);
__d("PlacesSearchEntityCardSpotlightReview.react",["cx","BrowseFacebarHighlighter","Image.react","ImageBlock.react","Link.react","PlacesSearchClickTypeEnums.react","PlacesSearchResults.react","React","XUIGrayText.react","timeString"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=24;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){return b("React").createElement(b("ImageBlock.react"),{spacing:"medium",className:"_35n5"},this.$1(),b("React").createElement("div",{className:"_d6-"},b("React").createElement(b("Link.react"),babelHelpers["extends"]({},b("PlacesSearchResults.react").getLoggingData({resultID:this.props.placeID,clickType:b("PlacesSearchClickTypeEnums.react").SPOTLIGHT_SNIPPET}),{className:"_1cj6",href:this.props.spotlightReviewInfo.author.url}),this.$2()),this.$3()))};a.prototype.$1=function(){var a=this.props.spotlightReviewInfo.author.profilePicURI;return!a?null:b("React").createElement(b("Image.react"),{className:"_3-8w",src:a,width:i,height:i})};a.prototype.$2=function(){var a=this.props.spotlightReviewInfo.text,c=[this.props.spotlightReviewInfo.snippet];c=b("BrowseFacebarHighlighter").createRegex(c);a=a.split(c);return a.map(function(a,c){if((c+1)%3===0)return b("React").createElement("span",{className:"_1cj7",key:c},a);else if(a)return a;return""})};a.prototype.$3=function(){var a=this.props.spotlightReviewInfo;a=[this.$4(),b("timeString")(Number(a.creationTime)*1e3)];a=a.filter(function(a){return a});a=a.map(function(a,c){a=a;c!==0&&(a=b("React").createElement("span",null,"\xa0\xa0\xb7\xa0\xa0",a));return b("React").createElement("span",{key:c},b("React").createElement(b("XUIGrayText.react"),{shade:"light"},a))});return b("React").createElement("div",{className:"_x93"},a)};a.prototype.$4=function(){var a=this.props.spotlightReviewInfo.author;return b("React").createElement("span",null,a.name)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("SavedListStateActions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CREATE:"CREATE",EDIT:"EDIT",SAVE_IN_NEW_LIST:"SAVE_IN_NEW_LIST",SAVE_IN_EXISTING_LIST:"SAVE_IN_EXISTING_LIST",SAVED_IN_LIST:"SAVED_IN_LIST",SAVE_ALREADY_IN_LIST:"SAVE_ALREADY_IN_LIST",REMOVE_FROM_LIST:"REMOVE_FROM_LIST",REMOVE_FROM_LIST_AND_DELETE_LIST:"REMOVE_FROM_LIST_AND_DELETE_LIST",MOVE_LISTS:"MOVE_LISTS"})}),null);
__d("XSaveAddToSaveListController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/save/list/add/",{})}),null);
__d("XSaveController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/save/story/",{story_id:{type:"String"},object_id:{type:"Int"},action:{type:"Enum",enumType:1},surface:{type:"Enum",enumType:1},mechanism:{type:"Enum",enumType:1},message_id:{type:"String"},tracking_message:{type:"String"}})}),null);
__d("XSaveListCreateDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/save/list/dialog/",{object_id:{type:"FBID"},mechanism:{type:"String"},surface:{type:"String"}})}),null);
__d("XSavedListsFromSaverController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/save/lists/get/",{})}),null);
__d("PlacesSaveButton.react",["ix","cx","fbt","AsyncRequest","Image.react","MenuSeparator.react","MenuStaticItem.react","PlacesSearchClickTypeEnums.react","PlacesSearchResults.react","PopoverMenu.react","React","ReactXUIMenu","SavedListStateActions","SimpleXUIDialog","XSaveAddToSaveListController","XSaveController","XSaveListCreateDialogController","XSavedListsFromSaverController","XUIButton.react","XUIPopoverButton.react","XUISpinner.react","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k=b("ReactXUIMenu").Item;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(a,b){j.constructor.call(this,a,b),this.state={isLoading:!1,saveState:this.props.actionInfo.saveState==="SAVED"?"saved":"save",savedListMap:new Map()}}a.prototype.render=function(){if(this.props.savedListsGk)return this.$1();else return this.$2()};a.prototype.$2=function(){var a=this.props.withoutLabel?"":this.state.saveState==="saved"?i._("\u0110\u00e3 l\u01b0u"):i._("L\u01b0u"),c=this.props.withoutLabel?"_w0u":"_44h8",d=this.state.saveState==="saved"?g("136872"):g("125658"),e=this.state.saveState==="saving"||this.state.saveState==="unsaving",f=this.state.saveState==="saved"?"saved":"save",h=this.state.saveState==="saved"?b("PlacesSearchClickTypeEnums.react").SAVED:b("PlacesSearchClickTypeEnums.react").SAVE;return b("React").createElement(b("XUIButton.react"),babelHelpers["extends"]({className:c,size:this.props.size,"data-et":JSON.stringify({click_point:f,data:JSON.stringify({entity_id:this.props.entityID})})},b("PlacesSearchResults.react").getLoggingData({resultID:this.props.entityID,clickType:h}),{label:a,disabled:e,image:b("React").createElement(b("Image.react"),{src:d}),onClick:function(){return this.$3()}.bind(this)}))};a.prototype.$1=function(){return this.state.saveState==="save"||this.state.saveState==="saving"?this.$2():this.$4()};a.prototype.$5=function(event){var a=event.target.getAttribute("name");new(b("AsyncRequest"))().setURI(b("XSaveAddToSaveListController").getURIBuilder().getURI()).setData({object_id:this.props.entityID,list_id:event.target.getAttribute("value")}).setHandler(function(c){c=c.getPayload().response;c===b("SavedListStateActions").SAVED_IN_LIST?b("SimpleXUIDialog").show(b("React").createElement("div",null,i._("\u0110\u00e3 th\u00eam v\u00e0o danh s\u00e1ch th\u00e0nh c\u00f4ng"),'\xa0"',a,'"')):c===b("SavedListStateActions").SAVE_ALREADY_IN_LIST?b("SimpleXUIDialog").show(b("React").createElement("div",null,i._("\u0110\u00e3 c\u00f3 trong danh s\u00e1ch"),'\xa0"',a,'"')):b("SimpleXUIDialog").show(b("React").createElement("div",null,i._("\u0110\u00e3 x\u1ea3y ra l\u1ed7i, vui l\u00f2ng th\u1eed l\u1ea1i.")))}).send()};a.prototype.$6=function(){return!this.state.isLoading?null:b("React").createElement(k,null,b("React").createElement(b("XUISpinner.react"),{size:"small"}))};a.prototype.$7=function(){__p&&__p();if(this.state.savedListMap===null||this.state.isLoading)return null;var a=[],c=this.state.savedListMap;for(var d in c){var e=c[d].name,f=c[d].icon,h=null;c[d].inList&&(h=b("React").createElement(b("Image.react"),{className:"_4jse",src:g("128986")}));a.push(b("React").createElement(k,{key:d},b("React").createElement("div",{className:"_4jsf",name:e,onClick:function(event){return this.$5(event)}.bind(this),role:"presentation",value:d},h,b("React").createElement("span",{value:d,name:e},b("React").createElement(b("Image.react"),{src:f}),e))))}return a};a.prototype.$8=function(){if(this.state.isLoading)return null;if(Object.keys(this.state.savedListMap).length===0)return b("React").createElement(b("MenuStaticItem.react"),null,i._("B\u1ea1n ch\u01b0a c\u00f3 danh s\u00e1ch \u0111\u00e3 l\u01b0u n\u00e0o."));else return b("React").createElement(b("MenuStaticItem.react"),null,i._("Th\u00eam v\u00e0o..."))};a.prototype.$4=function(){var a=this.state.saveState==="unsaving",c=b("React").createElement(b("ReactXUIMenu"),null,this.$8(),this.$6(),this.$7(),b("React").createElement(b("MenuSeparator.react"),null),b("React").createElement(k,{onclick:function(event){return this.$9(event)}.bind(this)},i._("Th\u00eam v\u00e0o danh s\u00e1ch m\u1edbi...")),b("React").createElement(b("MenuSeparator.react"),null),b("React").createElement(k,{onclick:function(event){return this.$3(event)}.bind(this)},i._("B\u1ecf l\u01b0u")));return b("React").createElement("div",null,b("React").createElement(b("PopoverMenu.react"),{menu:c,disabled:a},this.$10()))};a.prototype.$10=function(){var a=this.props.withoutLabel?"":i._("\u0110\u00e3 l\u01b0u"),c=this.props.withoutLabel?"_w0u":"_44h8",d=g("136872"),e=this.state.saveState==="unsaving";return b("React").createElement(b("XUIPopoverButton.react"),babelHelpers["extends"]({className:c,size:this.props.size,"data-et":JSON.stringify({click_point:"saved",data:JSON.stringify({entity_id:this.props.entityID})})},b("PlacesSearchResults.react").getLoggingData({resultID:this.props.entityID,clickType:b("PlacesSearchClickTypeEnums.react").PLACE_SAVED}),{label:a,disabled:e,image:b("React").createElement(b("Image.react"),{src:d}),onClick:function(){return this.$11()}.bind(this)}))};a.prototype.$3=function(){var a=this.state.saveState;this.setState({saveState:this.$12()});new(b("AsyncRequest"))().setURI(b("XSaveController").getURIBuilder().getURI()).setData({object_id:this.props.entityID,action:a==="saved"?"UNSAVE":"SAVE",surface:"search",mechanism:"search_result"}).setHandler(function(b){this.setState({saveState:b.error===0?this.$12():a})}.bind(this)).send()};a.prototype.$12=function(){if(this.state.saveState==="save")return"saving";if(this.state.saveState==="saving")return"saved";return this.state.saveState==="saved"?"unsaving":"save"};a.prototype.$11=function(){this.setState({isLoading:!0}),new(b("AsyncRequest"))().setURI(b("XSavedListsFromSaverController").getURIBuilder().getURI()).setData({object_id:this.props.entityID}).setHandler(function(a){this.setState({savedListMap:a.payload.savedListMap,isLoading:!1})}.bind(this)).send()};a.prototype.$9=function(){new(b("AsyncRequest"))().setURI(b("XSaveListCreateDialogController").getURIBuilder().getURI()).setData({object_id:this.props.entityID}).send()};e.exports=a}),null);