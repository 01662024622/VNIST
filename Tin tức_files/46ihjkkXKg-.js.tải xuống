if (self.CavalryLogger) { CavalryLogger.start_js(["P+7Yv"]); }

__d("VideoClientEdgeCooperation",["clearTimeout","setTimeoutAcrossTransitions","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=b("gkx")("AT4FCWD9S53UDtOrRSY9Zx7NzsoO-pBlAiTb5YSo3lCjpTsQt4JukbLnEU-rTpIzW3xv20NfAhwK6KX23Gc_jkLjRFQezUbT8rHyoNBpyHYVuA"),h="X-FB-CEC-Video-Limit",i=1e3*60*2,j=null,k=null;function l(){j=null,b("clearTimeout")(k),k=null}var m=e.exports={updateFromXHR:function(a){if(!g)return;a=a.getResponseHeader(h);a&&m._updateFromLimitHeader(a)},updateFromResponse:function(a){if(!g)return;a=a.headers;if(!a.has(h))return;a=a.get(h);a&&m._updateFromLimitHeader(a)},_updateFromLimitHeader:function(a){a=a.match("s:([\\.0-9]+)");if(!a)return;a=Number(a[1]);j===null&&(j=a);j<=a&&(j=a,b("clearTimeout")(k),k=b("setTimeoutAcrossTransitions")(l,i))},applyBandwidthLimit:function(a,b){if(!g)return a;return j!==null?Math.min(a,b)*j:a}}}),null);